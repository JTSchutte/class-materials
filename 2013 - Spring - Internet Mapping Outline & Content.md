Title: Geography 485L/585L - Spring 2012
Author: Karl Benedict
Affiliation: University of New Mexico
Base Header Level: 1
XHTML Header: <link rel="stylesheet" type="text/css" title="default" href="styles/default.css" />





<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Class Syllabus #

</div>









<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 1 - Introductions & Course Outline #

</div>




<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Overview, Introductions, and Introduction to Web and Internet Concepts[![][arrow]][lecture01-section]

## This Week's Reading ##

* Computer History Museum - Internet History Exhibit Timeline[![][arrow]](http://www.computerhistory.org/internet_history/)
* Wikipedia article - History of the World Wide web[![][arrow]](http://en.wikipedia.org/wiki/History_of_the_World_Wide_Web)
* *WebMonkey - Learn Just Enough UNIX for Your Resume*[![][arrow]][webmonkey-justEnoughUNIX]
* *HTML Manual of Style* - Chapter 1

## Lab Assignment ##

* Creation of Web Development Space and First Web Page[![][arrow]][lab]

## Homework Assignment ##

* None

</div>

# Course Overview #

## Course Instructor ##

<div class="p-nospace" markdown='1'>

Karl Benedict

Director, Earth Data Analysis Center

Research Assistant Professor, Department of Geography, University Libraries

kbene@unm.edu

(505) 277-3622 x234

Online office hours during the Tuesday Collaboratory (4:00-6:00 pm), and by appointment

</div>



## Course Description and Objectives ##

Internet mapping technologies are an important component of geospatial data capture, sharing, visualization, and delivery. This course provides a survey of current and emerging internet and geospatial interoperability standards, technologies, and capabilities. The emphasis of the work in this class will be hands-on experience in four critical aspects of Internet-enabled mapping:

* The basic concepts behind web mapping technologies that enable the delivery of maps and mapped data through web browsers

* The Open Standards that facilitate the exchange of map images and geospatial data over the internet

* The use of published standards-based services in desktop mapping applications that implement those standards

* The deployment of standards-based geospatial map and data services that other systems and users may make use of

The specific class objectives that relate to these activities and departmental curriculum objectives for undergraduate and graduate students in the Geography Department include the following:

* Students will understand the concepts geospatial data and service interoperability

* Students will be able to define the specific requirements of a particular analysis or project and identify the interoperability standards that are capable of meeting those requirements

* Students will be knowledgeable in the core technologies that they may use to produce their own internet-enabled mapping capabilities 

* Students will understand the strengths and limitations of current internet mapping technologies for generating cartographically effective map products. 

## Course Format ##

The general weekly structure of the class will consist of the following schedule:

<div class="image" >
![Weekly Schedule][weekly timeline]
</div>
Click [here][weekly timeline] to see the entire timeline.

Monday (by 8:00 am)
: Release of the week's class module, including the recorded lecture, any required reading, lab and homework assignments, and associated peer-review assignments.

Tuesday (4:00-6:00 pm)
: *Collaboratory* with Dr. Benedict - a pre-scheduled Q&A period (via web collaboration) where students can interact with each other *and* Dr. Benedict while working on the lab and homework assignments. *The First Week's Tuesday Collaboratory is Mandatory*

Thursday (by 5:00 pm)
: *Due date* for lab assignments
: *Due date* for homework assignment from the preceding week. 

Thursday (9:00 am - noon)
: *Collaboratory* - a prescheduled window where students can collaborate on ongoing assignments and peer-review work. 

Friday (by 5:00 pm)
: *Due date* for homework assignment *peer review* (as assigned)
: *Due date* for assigned lab assignment *peer-review* submissions

The class will consist of the following components:

Lecture (weekly)
: A recorded presentation that provides an overview of high-level concepts and reference information

Lab Assignments (weekly)
: Hands-on experiences with the technologies and capabilities described in the lectures and readings. The labs will be exploratory, in that in many instances the work will be problem based with an emphasis on creative use of concepts and reference materials in answering questions and solving practical problems.

Homework Assignments (4 over the course of the semester)
: Activities based upon small projects that reinforce the hands-on activities undertaken in the lab assignments. 

Peer Review (related to specific Lab and Homework Assignments)
: Provision of substantive feedback and discussion around products generated by peers in the class. 

Mid-term & Final Examinations
: Take-home examinations that comprehensively cover materials introduced in class. 

Readings
: Background and reference materials that should be reviewed in conjunction with each week's materials. 


## Course Readings ##

Readings for the class are derived from a combination of designated course texts and online resources. While the specific readings for each week will be provided as part of the information about each class module, they will fall into two broad categories:

Required
: Readings that cover core knowledge required for success in the course's activities.

Reference
: Readings that should be reviewed so that they may be effectively used as reference materials when working on lab and homework assignments and exams. 

There are three texts that are being used in the course as core resources and are therefore listed as *required* texts.

*HTML Manual of Style: A Clear, Concise Reference for Hypertext Markup Language (including HTML5), Fourth Edition (4th Edition).* Larry Aronson. Addison-Wesley Professional. 2010. AKA *HTML Manual of Style* in class reading assignments. 

*Beginning Google Maps API 3.* Gabriel Svennerberg. Apress. 2010. AKA *Google Maps API* in reading assignments

*OpenLayers 2.10 Beginner's Guide.*. Erik Hazzard. Packt Publishing. 2011. AKA *OpenLayers Beginner's Guide* in reading assignments

In addition, there is an additional text that has been ordered for the class as a *recommended* text as it provides useful background and descriptive information about web site development and strategies for building more effective online resources.

*Designing with Web Standards (3rd Edition).* Jeffrey Zeldman & Ethan Marcotte. New Riders Press. 2009. AKA *Designing with Web Standards* in reading assignments. 

The three texts for which I have been able to obtain instructor's copies are on reserve at Zimmerman Library for short-term use. These texts are:

* HTML Manual of Style

* Google Maps API

* Designing with Web Standards

## Evaluation and Grading ##

Class grades will be based upon the number of points acquired throughout the semester. The grade breakdown will be as follows:

A
: 360 - 400 points

B
: 320 - 359.9 points

C
: 280 - 319.9 points

D
: 240 - 279.9 points

F
: < 240 points

Points for the class will be earned through a combination of lab exercises, homework assignments, peer-review, and exams.
 
As an ongoing exercise in working with the web-based technologies upon which the course is based, all lab and homework assignments *(after the first week)* will be completed as individual web pages that will ultimately comprise a web site developed by each student in the class. 

Some assignments will also require posting outside of the class web site on [Google+](http://www.google.com/intl/en_uk/+/learnmore/) as an introduction to the social and public aspects of Internet mapping. It is suggested that you set up a Google+ account (if you aren't already using Google's services) at the beginning of the semester so that you can begin to see how it works prior to the class assignments that will require posting. In particular check out the [#webmapping](https://plus.google.com/s/%23webmapper) search result for an interesting community dialog on some of the issues related to this class. 
 
Lab Assignments
: There will be 13 weekly lab assignments. Each lab assignment will be due by 5:00 pm on the Thursday following the Monday on which the week's class module is released. Each assignment will be worth 9 points *(see peer-review information below)*, and the lowest 2 lab assignment scores will be dropped (1 point will be added to the total from all lab assignments to make the lab assignments worth a total of 100 points).

Peer Review
: Select lab and homework assignments will include a peer-review component. In those instances, the peer-review component will contribute to 2 points of the total lab assignment score and 5 points of the total homework score. The overall points for assignments with a peer-review component will not change, instead the peer-review points you earn will be based upon the *substantive* feedback that you provide to other students as part of the assignment. I will review the peer-review procedures in more detail when we have our first assignment with a peer-review component. 

Homework Assignments
: There will be 4 homework assignments during the semester. These will be small project-focussed activities that reinforce the hands-on activities undertaken as part of the lab assignments. Each homework assignment will be worth 25 points (100 points total).

Exams 
: There will be two exams: a midterm and final. The midterm will be a take-home exam that will be released on Monday March 5 and due on Wednesday March 7 by 5:00 pm. The final exam will be a take-home exam which will released on Monday May 7 and due on Wednesday May 9 by 5:00 pm. Each exam will be worth 100 points (200 points total). 

While students are encouraged to collaborate in their work on the lab and homework assignments, submitted work must be original and written and submitted by each individual student. Both exams will be individual - each student must complete their exam individually. All lab, homework assignments and exams are open book and online resources may also be used in completion of the assignments and exams. BUT, again, all submitted work must be original and created by each student. 

Please refer to the [Pathfinder](http://pathfinder.unm.edu/) for detailed student conduct policies, and in particular the following [Policy on Academic Dishonesty](http://pathfinder.unm.edu/policies.htm#academicdishonesty). 

>POLICY ON ACADEMIC DISHONESTY
>ALSO SEE FACULTY HANDBOOK D100
>Adopted by the President June 15, 1992

>Each student is expected to maintain the highest standards of honesty and integrity in academic and professional matters. The University reserves the right to take disciplinary action, up to and including dismissal, against any student who is found guilty of academic dishonesty or otherwise fails to meet the standards. Any student judged to have engaged in academic dishonesty in course work may receive a reduced or failing grade for the work in question and/or for the course.

>Academic dishonesty includes, but is not limited to, dishonesty in quizzes, tests, or assignments; claiming credit for work not done or done by others; hindering the academic work of other students; misrepresenting academic or professional qualifications within or without the University; and nondisclosure or misrepresentation in filling out applications or other University records.

## Technical Requirements ##

As an online course that is focused on the integration of online resources with desktop tools there are some specific hardware and software requirements for successful completion of the class. 

### Hardware Requirements ###

* At least 2 GB RAM
* At least 20 GB of available disk space
* Headset with integrated microphone
* Internet Connection (broadband [>728 Kb/sec] recommended)

### Software Requirements ###

Operating System (one of the following)
: Microsoft Windows Vista or 7 
: Mac OS 10.6 or above
: Linux (*speak to Dr. Benedict*)

Geographic Information System (GIS)
: Quantum GIS (platform specific [download](http://www.qgis.org/wiki/Download))
: ArcGIS 10 (*optional* - request free student version installation CD from Dr. Benedict - *Windows Only*)

Geographic Data Processing/Analysis (one of the following)
: FWTools (*Windows* & *Linux* - [free download](http://fwtools.maptools.org/))
: GDAL and related frameworks (*Mac* - the current "GDAL Complete" convenience package available [here](http://www.kyngchaos.com/software/frameworks))

You will need the following classes of software, check with Dr. Benedict if you would like to use an alternative to the ones suggested below.

Text Editor 
: Notepad (*Windows* - included with operating system)
: Notapad++ (*Windows* - [free download](http://notepad-plus-plus.org/))
: TextEdit (*Mac* - included with operating system)
: TextWrangler (*Mac* - [free download](http://www.barebones.com/products/TextWrangler/))

Secure File Transfer Protocol Client
: WinSCP (*Windows* - [free download](http://winscp.net/eng/index.php))
: Fugu (*Mac* - [free download](http://rsug.itd.umich.edu/software/fugu/))

Secure Shell (SSH) Client
: PuTTY (*Windows* - [free download](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html))
: Terminal (*Mac* - included with operating system)

Web Browser (at least one of the following)
: Firefox (*All Operating Systems* - [free download](http://www.mozilla.org/en-US/firefox/new/))
: Chrome (*All Operating Systems* - [free download](http://www.google.com/chrome))

Angry Birds
: Just kidding - but it is good to occasionally take a break.

## Course Outline ##

<div class="image" >
![Class Timeline][course timeline]
</div>
Click [here][course timeline] to see the entire timeline. 

Module 1 - *Introduction and Outline*
: Week 1 - January 17-22. 

Module 2a - *Web-based Mapping Clients*
: Week 2 - January 23-29. Introduction to HTML, CSS, and Javascript
: Weeks 3, 4 - January 30 - February 12. Google Maps API 

Module 3 - *GIS and Services Oriented Architectures (SOA)*
: Week 5 - February 13-19. 

Module 4a - *Interoperability Standards*
: Week 6 - February 20-26. WMS, KML, and XML
: Week 7 - Februrary 27 - March 4. WFS & WCS

*Mid-term Exam*
: Week 8 - March 5-7 (*Exam Due by 5:00 pm March 7*)

*Spring Break - No Class*
: Week 9 - March 12-18. 

Module 2b - *Web-based Mapping Clients*
: Weeks 10, 11 - March 19 - April 1. OpenLayers Javascript Framework

Module 4b - *Interoperability Standards*
: Week 12 - April 2-8. Desktop GIS Integration

Module 5 - *Developing and Hosting OGC Services*
: Week 13 - April 9-15. Platforms and GeoServer Introduction
: Week 14, 15 - April 16-29. OGC services and styling in GeoServer

Module 6 - *Integrating OGC Services into Web Mapping Clients*
: Week 16 - April 30-May 6. 

*Final Exam*
: Week 17 - May 7-9 (Exam due by 5:00 pm May 9)

# Lecture: Overview, Introductions, and Introduction to Web and Internet Concepts [lecture01-section] #

[Presentation Slides][Lecture01]

<iframe width="640" height="480" src="http://www.youtube.com/embed/7lMjlOHRNVA?rel=0" frameborder="0" allowfullscreen="True"></iframe>

<div class="slides title" >

# Module 1 - Introductions & Course Outline #

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Introductions ##

* Who am I?

* Who are you?

* What brought you here?

*We will be working on answering these questions during the first class collaboratory from 4-6 pm on Tuesday*

</div>

<div class="slides" >

## Syllabus ##

* Instructor

* Description & Objectives

* Class format

* Class Readings

* Evaluation & Grading

* Topics

* Communication

</div>

<div class="slides" >

### Instructor ###

Karl Benedict

Director, Earth Data Analysis Center

Research Asst. Professor. Geography Dept., University Libraries

kbene@edac.unm.edu

Office: Bandelier West, rm. 107

(505) 277-3622 x234

</div>

<div class="slides" >

### Description & Objectives ###

* The basic concepts behind web mapping technologies that enable the delivery of maps and mapped data through web browsers

* The Open Standards that facilitate the exchange of map images and geospatial data over the internet

* The use of published standards-based services in desktop mapping applications that implement those standards

* The deployment of standards-based geospatial map and data services that other systems and users may make use of

</div>

<div class="slides" >

### Class Format ###

* Lecture & lab in each class week

* Focus on hands-on experience with standards, technologies, and capabilities

* Exploratory and problem-based

* Cumulative

</div>

<div class="slides" >

### Class Readings ###

* The class readings are a combination of conceptual outlines and reference materials

<div class="smaller" >

*HTML Manual of Style: A Clear, Concise Reference for Hypertext Markup Language (including HTML5), Fourth Edition (4th Edition).* Larry Aronson. Addison-Wesley Professional. 2010. 

*Beginning Google Maps API 3.* Gabriel Svennerberg. Apress. 2010. 

*OpenLayers 2.10 Beginner's Guide.* Erik Hazzard. Packt Publishing. 2011. 

Optional

*Designing with Web Standards (3rd Edition).* Jeffrey Zeldman & Ethan Marcotte. New Riders Press. 2009.

</div>


</div>

<div class="slides" >

### Evaluation and Grading ###

Class Grade = 

* Weekly Lab Assignments (including peer review when required)

* Homework Assignments

* Exams

</div>

<div class="slides" >

### Evaluation and Grading ###

13 Weekly Lab Assignments

* 9 points/lab assignment (100 pts total)

* Due on Thursday each week before 5:00 pm (Mountain Time)

* Lowest 2 lab assignments dropped


</div>

<div class="slides" >

### Evaluation and Grading ###

4 Homework Assignments

* 25 points/assignment (100 pts total)

* Focussed on small project

* Reinforcing lab activities

* Due on Thursday in the week following the assigment by 5:00 pm (Mountain Time) 

</div>

<div class="slides" >

### Evaluation and Grading ###

2 Exams

* 100 Points each

* Midterm Exam - Take Home - due 3/21

* Final Exam - Take Home - due 5/9

* Focus on *concepts* and *technical implementation*

</div>

<div class="slides" >

### Evaluation and Grading ###

* A: 360 - 400 points
* B: 320 - 359.9 points
* C: 280 - 319.9 points
* D: 240 - 279.9 points
* F: < 240 points

</div>

<div class="slides" >

### Class Topics ###

* Internet Mapping Clients: Basic HTML, Javascript, CSS; Google Maps API; OpenLayers javascript library

* Geospatial Services Oriented Architectures (SOA)

* Open Standards: Open Geospatial Consortium (OGC - [WMS][wms], [WFS][wfs], [WCS][wcs], [KML][kml]); Extensible Markup Language ([XML][xml])

* Desktop client use of Open Standards

* Data sharing/publication using Open Standards

</div>

<div class="slides" >

## Basics ##

* What is Internet Mapping?

* Definitions

* Tools

</div>

<div class="slides" >

### What is Internet Mapping ###

*Extended Desktop Mapping*
: Use of open standards based remote data and map services in desktop applications

*Geospatial Data Sharing*
: Establishing open standards based services to share geospatial data and mapping capabilities over the Internet

*Web-client Mapping*
: The delivery of mapping and geospatial data tools through web browsers, again based upon open standards

</div>

<div class="slides" >

### Definitions ###

Internet
: The global computer network of computers that typically connect with each other over TCP/IP

World Wide Web
: The subset of applications that are run over the Internet, typically using the HTTP protocol in combination with data (HTML, XML, XHTML), presentation (CSS), and behavior (JavaScript) components

Mapping
: The generation of cartographic products that include map images (pictures of geospatial data) and other elements (e.g. legends, tools, scale information, north-arrow)

</div>

<div class="slides" >

### Definitions ###

Analysis
: The development of models (statistical and otherwise) that enable the exploration of geospatial data and testing of hypotheses using those data

Open Standards
: While the definition varies from one organization to the next, Open Standards are often characterized by the following:

* Developed through a public process by a national or international standards group
* May be implemented royalty-free

</div>

<div class="slides" >

### Definitions ###

Interoperability
: Ability of systems to share data and information with each other

COTS
: Commercial Off-the-Shelf Software. Applications that are “purchased” from vendors, often with license terms that restrict the use the software to the specific platform for which it is licensed. Often comes with implicit or explicit technical support

Open Source
: Software licensed under terms that are consistent with the Open Source definition, which includes access to source code, and freedom to modify and redistribute

</div>

<div class="slides" >

### Definitions ###

Data
: Actual values associated with geographic locations. For example - numeric elevation values associated with locations within a Digital Elevation Model.

Metadata
: Data about a particular data product or service. Metadata provide critical documentation that supports the discovery and use of data products and data and mapping services

</div>



<div class="slides" >

### Tools ###

Server Platform
: Linux server (IP Address 129.24.63.138) with GeoServer, Apache, GDAL and Proj libraries

Operating System (one of the following)
: Microsoft Windows Vista or 7 
: Mac OS 10.6 or above
: Linux (*speak to Dr. Benedict*)

Geographic Information System (GIS)
: Quantum GIS (platform specific [download](http://www.qgis.org/wiki/Download))
: ArcGIS 10 (*optional* - request free student version installation CD from Dr. Benedict - *Windows Only*)

</div>

<div class="slides" >

### Tools ###

Geographic Data Processing/Analysis (one of the following)
: FWTools (*Windows* & *Linux* - [free download](http://fwtools.maptools.org/))
: GDAL and related frameworks (*Mac* - the current "GDAL Complete" convenience package available [here](http://www.kyngchaos.com/software/frameworks))

Text Editor 
: Notepad (*Windows* - included with operating system)
: Notapad++ (*Windows* - [free download](http://notepad-plus-plus.org/))
: TextEdit (*Mac* - included with operating system)
: TextWrangler (*Mac* - [free download](http://www.barebones.com/products/TextWrangler/))

</div>

<div class="slides" >

### Tools ###

Secure File Transfer Protocol Client
: WinSCP (*Windows* - [free download](http://winscp.net/eng/index.php))
: Fugu (*Mac* - [free download](http://rsug.itd.umich.edu/software/fugu/))

Secure Shell (SSH) Client
: PuTTY (*Windows* - [free download](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html))
: Terminal (*Mac* - included with operating system)

Web Browser (at least one of the following)
: Firefox (*All Operating Systems* - [free download](http://www.mozilla.org/en-US/firefox/new/))
: Chrome (*All Operating Systems* - [free download](http://www.google.com/chrome))

</div>

<div class="slides" >

## Communication ##

This is the first iteration with the class as an online course, so the most productive communication model will evolve over the semester, but I commit to the following:

* I will respond to email questions within ~24 hours

* I will share responses to common questions with the rest of the class through the online discussion board

I also *strongly* encourage that questions be submitted through the discussion board so that other students can both *learn from* and *contribute to* the answers provided. 
</div>

# Lab Assignment:  Linux Shell Accounts and Tutorials, Internet Mapping Example [lab] #


<div class="labAssignment" >

During this course, you will be working on a Linux server that has been created for the class. The class server is running [Debian Linux][debian] which is a broadly deployed, well supported [Open Source][openSource] operating system and computing platform that has excellent support for many Open Source geospatial applications, including those that we will be using in this class. 

The first set of lab exercises relate to learning some basics about working with the Linux Operating system, applicable just about any Linux server including the class server.

## Linux Commands, Server Interaction, Initial Web Page Creation ##

Review (but don't worry about memorizing) the material in Jiri Vogel's [Quick Linux Tutorial][linuxTutorial]. Pay particular attention to 9.1, 9.2, 9.3, and 9.7 as they contain information about commands you are likely to need quite frequently.

QUESTION 1
: What command would you use to list the contents of a directory on a linux system?

QUESTION 2
: What command would you use to read the "manual page" for a specific command?

* Log into the class Linux server (IP Address 129.24.63.138), create a directory for your class work, and create your first web page

*Windows*: Open PuTTY on your lab workstation and connect using the SSH protocol (see video demonstration)

<iframe width="853" height="480" src="http://www.youtube.com/embed/GdO_n89mey8?rel=0" frameborder="0" allowfullscreen="True"></iframe>

*Mac*: Open the Terminal Application and connect using SSH (see video)

<iframe width="853" height="480" src="http://www.youtube.com/embed/Gu_ij6HxTWo?rel=0" frameborder="0" allowfullscreen="True"></iframe>

Start a session on the class Linux server, which is located at 129.24.63.138 (you will use your class server username and password to open the connection)

* Create a directory named "public_html" in your home directory on the server using the `webupdate` command. `Webupdate` is a shortcut to a series of commands that check if a `public_html` directory exists in your home directory, creates it if it doesn't exist, and updates the permissions on all of the files in the directory to support delivery over the web. You could also accomplish this process through the use of the standard Linux commands `mkdir`. 

for example:

		kbene@485-585:~$webupdate

* Change to the newly created directory (using the `cd` command)

for example:

		kbene@485-585:~$cd public_html

* Open the pico text editor using the following command:

		pico hello_world.html

* Enter the following HTML (web page) code into the editor:

		<html>
			<head>
			</head>
			<body>
				<p>Hello World</p>
			</body>
		</html>

* Save the changes (by holding down the "control" key ^ and pressing the "O" key) you entered and exit pico

* Make your created web page accessible over the web by running the webupdate command from the command prompt

* Test the created web page by entering the web address for the page you just created, e.g. 

		http://129.24.63.138/~<username>/<filename>

where `<username>` is your username on the class server and `<filename>` is the name of the file you created *hello_world.html* in this case. 

QUESTION 3
: When you've created the web page, provide the web address for the new page in your write-up.

## Geospatial Data Discovery and Internet Mapping Applications##

Central to the work that will be performed in this class are concepts relating to remote data discovery, access, and delivery over the Internet. The following exercises provide an initial taste of how you might go about finding data on the Internet, and how various online mapping systems work.

Find three online resources for online geographic data.

QUESTION 4
: Answer the following for each of the three online data resources that you found

* What is the web address (URL) of the site?

* What is the topical focus of the site, if there is one?

* What is the region for which data are available?

* What types of data are available from the site?

Find three online mapping applications.

QUESTION 5
: Answer the following for each of the three online mapping applications

* What is the web address (URL) of the site?

* What is the topical focus of the site?

* What region does the application cover?

* What tools/capabilities are available for the site?

* How well does the site perform (fast/slow, easy to use/difficult)?

</div>





<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 2.1 - Web-based Mapping Clients: Introduction to HTML, CSS, and Javascript#

</div>



<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Introduction to HTML, CSS, and Javascript[![][arrow]][lecture02-section]

## This Week's Reading ##

* *HTML Manual of Style* - Chapter 2
* *Designing with Web Standards* - _Before You Begin_, Chapter 1, Chapter 2 *(optional)*

## Lab Assignment ##

* Create a More Complex Web Page and Style It[![][arrow]][lab]

## Homework Assignment ##

* none

</div>

# Overview #

## Background ##

This week we will begin to build our foundation for developing material to be shared over the Internet via the World Wide Web. In particular we will cover the basic process of web development, define the parts of a web page, and spend some time learning about the different *languages* and define the key components of a web page: its structure, presentation, and behavior. 

The presentation of information over the Internet is dependent upon the use of standards that have been developed for defining the *structure*, *presentation*, and *behavior* of content. This week we will begin working with the key technologies that define these three components of web content. 

These concepts will be illustrated through reference to several simple web pages which are progressively modified to integrate all three of these components. 

## Expected Outcomes ##

By the end of this class module you should understand the following:

* The basic process of web development

* The parts of a web page

* The role of the three web page components: *structure*, *presentation*, and *behavior*

* Be able to write your own basic web page with your own content and make it available over the web

## Key Concepts ##

* Parts of a web page

* Structure = X/HTML

* Presentation = CSS

* Behavior = Javascript

* Iterative Development 


# Lecture: Introduction to HTML, CSS, and Javascript [lecture02-section] #

[Presentation Slides][Lecture02]

<iframe width="640" height="480" src="http://www.youtube.com/embed/zhITBhtMwkA?rel=0" frameborder="0" allowfullscreen="True"></iframe>

<div class="slides title" >

# Module 2.1 - Introduction to HTML, CSS, and Javascript#

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Overview ##

* Web Development

* Parts of a web page

* Web Site Components

	Structure (X/HTML)

	Presentation (CSS)

	Behavior (Javascript)

* Simple Web Pages

* More Complete Web Page Example

</div>


<div class="slides" >

## Web Development ##

* Requirements

	Web Server

	File location that the web server accesses for requested content

	Files must be readable by all users

* General Process

	Create basic content in HTML or XHTML (structure)

	Change appearance of content through the definitions of styles using CSS (presentation)

	Add dynamic capabilities to content through Javascript (behavior)

	REPEAT over and over and over and over again

</div>


<div class="slides" >

## Parts of a Web Page ##

<div >

	<html>
		<!-- The HTML block is the container for all of your page content -->

<div >

		<head>
			<!-- The head is where you include pointers to external resources 
			(i.e. style sheets and javascript files), blocks of Javascript code
			, styles, etc.  -->
			<title>The page title also goes in here</title>
		</head>

</div>

<div >

		<body>
			<!-- The body is where you put all of the content for the page 
			(i.e. the material that will be displayed in the web browser)  -->
			<h1>Headers</h1>
			<div>Generic blocks of content</div>
			<p>Paragraphs</p>
			<table>Tables</table>
			<img ...>Images</img>
			<form ...>Forms</form>
			<ul>Unordered Lists</ul>
			<ol>Ordered Lists</ol>
		</body>

</div>

	</html>

</div>


</div>


<div class="slides" >

## Web Site Components - Structure ##

Content is defined in terms of the structural elements available in HTML/XHTML

* Sample HTML/XHTML Tags

	Paragraphs (i.e. blocks of text) are contained within `<p>...</p>` tags

	Headings (i.e. section headings, sub-headings) are contained within numerically defined header tags: `<h1>...</h1>, <h2>...</h2>, <h3>...</h3>`, etc.

	Tabular data are within `<table>...</table>` tags

	List are specified within `<ol>...</ol>` or `<ul>...</ul>` tags, depending upon whether the list is ordered (numbered) or unordered (e.g. bulleted)

	User input elements are put within `<form>...</form>` tags

	Blocks of content (i.e. sections or divisions) are defined within `<div>...</div>` tags

* Structure is translated into the Document Object Model (DOM) for later use by CSS and Javascript

</div>

<div class="slides" >

## Web Site Components - Presentation ##

Modifications to default rendering of HTML/XHTML elements are made through styles defined in CSS

* Styles may be 

	defined in an external file that is referenced within the `<head>` block (the preferred method when doing “real” web development)

	directly defined within the `<head>` block of a web page
directly embedded in the elements to which they apply (generally not a “Good Thing”)

* When not embedded within an element, a style definition consists of

	A selector

	The style definition, enclosed in “curly-brackets”, separated by “semi-colons”

	For example:  `h1 {color:red; font-size:18px;}`

</div>


<div class="slides" >

### CSS Selectors ###

Selectors may be based on several criteria

* Element name:  `h1`, `p`, `table`, `ul`, etc.

	Element: `<h1>A top level heading</h1>`

	Selector: `h1 {color:red; font-size:18px}`

* Element ID: a unique name assigned to HTML/XHTML elements within the structure of the document

	Element: `<p id=”para01”>Some text goes here</p>`

	Selector: `#para01 {color:blue; font-size:12px}`

</div>


<div class="slides" >

### CSS Selectors - cont. ###

* Class ID: a name assigned to multiple elements which may be modified through reference to their class

	Element:  `<p class=”instructions”>Here are some instructions</p>`

	Another Element:  `<p class=”instructions”>Here are some more instructions</p>`

	Selector: `.instructions {color:red; font-size:12px; text-decoration:blink}`

* Selectors may be combined in a variety of ways

</div>


<div class="slides" >

## Web Site Components - Behavior ##

The most interoperable language for adding dynamic behavior to web sites is _Javascript_ - supported by most browsers on most operating systems

* A full-fledged programming language

	A non-trivial undertaking to become proficient in

	Experience in other programming languages can contribute to learning Javascript

* Defines actions that may be taken on/by DOM elements

* Allows for modification of existing DOM elements, creation of new DOM elements after the page has finished loading from the server, retrieval of new content after page loads

	An interactive web page that may behave like a local desktop application

</div>


<div class="slides" >

## Reference Links ##

* w3schools.com

	[HTML 4.0 / XHTML 1.0 Tag Reference][w3schools-html]

	[Cascading Style Sheet (CSS) selectors and elements][w3schools-css]

	[Javascript reference][w3schools-javascript]

* World Wide Web Consortium (W3C)

	[HTML and CSS Background][W3C-HTMLCSS]

	[HTML and CSS Tutorial Links Page][W3C-HTMLCSS-Tutorials]

	[Validators Page][W3C-Validator]

* Webmonkey.com

	[HTML Cheat Sheet][webmonkey-HTML]

	[CSS Guide][webmonkey-CSS]

	[UNIX Guide][webmonkey-unix]

	[Just-enough UNIX Article][webmonkey-justEnoughUNIX]

</div>


<div class="slides" >

## Simple Web Page ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

	<html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
			<title>This is a simple web page</title>
		</head>
		<body>
			<h1>They don't get any simpler than this!</h1>
			<p>OK, not much simpler than this.</p>
			<p>Hello World?</p>
		</body>
	</html>

</div>

<iframe class="pagebox" src="./examples/simple.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>

</div>


<div class="slides" >

## Simple Web Page with CSS ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

	<html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
			<title>This is a simple web page - with styling</title>
			<style type="text/css">
				h1 {color:blue; font-size:large}
				p.para {color:#777777; font-size:small}
				#annoying {color:red; text-decoration:line-through}
			</style>
		</head>
		<body>
			<h1>They don't get any simpler than this!</h1>
			<p class="para">OK, not much simpler than this.</p>
			<p id="annoying" class="para">Hello World?</p>
		</body>
	</html>

</div>

<iframe class="pagebox" src="./examples/simple_css.html">Your browser does not support an embedded web page. Click <a href="./examples/simple_css.html">here</a> to view the referenced page</iframe>

</div>


<div class="slides" >

## Simple Web Page with Javascript ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
	
	<html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
			<title>This is a simple web page with Javascript</title>
			<script type="text/javascript">
				function genericAlert() {
					alert("You just did something ...")
					document.getElementById("clickMe").style.color = "red"
				}
			</script>
		</head>
		<body>
			<h1>They don't get any simpler than this!</h1>
			<p>OK, not much simpler than this.</p>
			<p>Hello World?</p>
			<p id="clickMe" onclick="genericAlert();">What happens when you click me?</p>
		</body>
	</html>

</div>

<iframe class="pagebox" src="./examples/simple_js.html">Your browser does not support an embedded web page. Click <a href="./examples/simple_js.html">here</a> to view the referenced page</iframe>

</div>


<div class="slides" >

## More Complete Web Page Example ##

* [Custom Mapper](http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/mapper/index_cluster.html)

	_HTML_: 108 Lines; _CSS_: 163 Lines

* Javascript:

	_addeventl.js_: 71 Lines; _prototype.js_: 2515 Lines; _functions2.js_: 483 Lines

<iframe class="pagebox" src="./examples/mapper/index_cluster.html">Your browser does not support an embedded web page. Click <a href="./examples/mapper/index_cluster.html">here</a> to view the referenced page</iframe>


</div>


# Lab Assignment: Create a More Complex Web Page and Style It [lab] #


This week’s lab assignment takes you through the process of creating a more complex web page in preparation for next week’s work with the Google Maps API in developing your first web mapping page. Please create a web page with your answers to the assignment’s questions and provide a link to the new "answer" page from the “home page” that you will create in 4) below. 

A template for your assignment web page can be found at: [http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/assignmentTemplate.html][assignment template]. You can replace the placeholders in the web page with your assignment write-up and specific information about yourself. 

Open the following web page and select “view source” from the browser’s menu to examine the source code for the page.

[Lab 2 Page Template](http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/lab_02_template.html)

Question 1
: From examining the display in your web browser and the structure of the source code in the page, what effect (if any) does the white space (i.e. tabs, blank lines, multiple spaces) have on what is displayed in the browser?

Question 2
: How are the 

		<h1>
and 

		<h2> 

elements from the source code displayed differently in the browser?

Question 3
: What type of element would you use to create additional list elements in either the “topic” or “data type” lists on the page.

Connect to the class server using the tools you learned about in last week's lab, and create a new document (using the pico editor) named “index.html” in the directory that you created for your “hello_world.html” web page in last week’s lab assignment.

Copy the source code from the “view source” information for the web page you opened in 1) above and paste it into the pico editor. Save your changes and run “webupdate” from the terminal command prompt to allow for the publication of your page on the web.

Test your new page by trying both of the following web addresses (based upon you using the “public_html” directory as the place where you have created your class files):

		http://129.24.63.138/~<your user name> 		http://129.24.63.138/~<your user name>/index.html

Where `<your user name>` is replaced by your username on the class server.

The reason that the first web address works (without specifying the file name) is that if a file name is not provided in a web address, many web servers will deliver a file named “index.html” if it is found in the requested directory.
 
Flesh out (using pico again) the generic web page that you created in 4) above with information specific to you based upon the content areas in the page. 

Question 4
: Provide the web address for the web page created in steps 4) and 5) above. 

Make a copy of the page you completed in 5) above.

Experiment with some of the styling capabilities described in Dave Raggett’s “Adding a Touch of Style” page (<http://www.w3.org/MarkUp/Guide/Style.html>) on the page copy you created in 6) above. 

Question 5
: Provide the web address for your copied web page showing at least three stylistic changes from the original “index.html” file. 



<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 2.2 - Web-based Mapping Clients: Google Maps API#

## Part I ##

</div>



<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Web-based Mapping Clients: Google Maps API[![][arrow]][lecture03-section]

## This Week's Reading ##

* *HTML Manual of Style* - Chapter 3
* *Google Maps API* Chapters 1-3 (skim chapter 2)
* [Google Maps API Tutorial](http://code.google.com/apis/maps/documentation/javascript/tutorial.html)
* _Next Week_: *Google Maps API* Chapters 4-8 (skim for reference)

## Lab Assignment ##

* Creation of a Web Page with an Embedded Google Map[![][arrow]][lab03]

## Homework Assignment ##

* none

</div>

## Background ##

This week we will begin our work with the popular Google Maps _Application Programming Interface_ (API) in developing an interactive web-based mapping client. This development activity will build upon the the work you've done over the last couple of weeks in developing basic web pages by using the capabilities that Google has made available for building mapping interfaces based upon their Maps platform. You will begin working with javascript as a client programming language to both interact with Google's servers and to provide the needed information for Google's mapping tool in your web page. 

## Expected Outcomes ##

By the end of this class module you should understand the following:

* What an Application Programming Interface (API) is

* How Javascript can be used to define the behavior of elements in a web page

* What the basic structure of a javascript code block for defining a Google Maps - enabled page looks like

* How to write a basic web page that includes an interactive Google Map

## Key Concepts ##

* Application Programming Interface (API)

* Javascript and its location within an HTML page

* The interaction between javascript behaviors and structural elements in a web page 


# Lecture: Web-based Mapping Clients: Google Maps API [lecture03-section] #

[Presentation Slides][Lecture03]

<iframe width="640" height="480" src="http://www.youtube.com/embed/Hu4nbAAgsa4?rel=0" frameborder="0" allowfullscreen="True"></iframe>

<div class="slides title" >

# Module 2.2 - Web-based Mapping Clients: Google Maps API#

## Part I ##

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Outline ##

* What is an API

* The Google Maps API

	Version

	Reference Information

	Key Components

	Examples

</div>


<div class="slides" >

## What is an API ##

* API Stands for Application Programming Interface

> An Application Programming Interface (API) is a particular set of rules and specifications that a software program can follow to access and make use of the services and resources provided by another particular software program that implements that API. It serves as an interface between different software programs and facilitates their interaction, similar to the way the user interface facilitates interaction between humans and computers. -- From Wikipedia: [http://en.wikipedia.org/wiki/Api](http://en.wikipedia.org/wiki/Api)

* The Google Maps API provides an interface for interacting with Google’s mapping services from external web applications

</div>


<div class="slides" >

## Google Maps API Version ##

* The version of the Google Maps API used in this class is v3 of the Javascript API

	Freely usable for free applications

	Subject to Google’s Terms of Service

	No longer requires a Google API key 

* Key capabilities in v3

	Interactive maps based on Google’s mapping engine (contrast w. static maps API)

	Optimized for desktop and mobile platforms and applications

</div>


<div class="slides" >

## Reference Information ##


Google Maps API Family
: [http://code.google.com/apis/maps/](http://code.google.com/apis/maps/)

Javascript API Home Page
: [http://code.google.com/apis/maps/documentation/javascript/](http://code.google.com/apis/maps/documentation/javascript/)

Javascript Basics Entry Page
: [http://code.google.com/apis/maps/documentation/javascript/basics.html](http://code.google.com/apis/maps/documentation/javascript/basics.html)

Javascript API v3 Tutorial Page
: [http://code.google.com/apis/maps/documentation/javascript/tutorial.html](http://code.google.com/apis/maps/documentation/javascript/tutorial.html)

</div>


<div class="slides" >

## Key Components ##

* Map [object options](http://code.google.com/apis/maps/documentation/javascript/reference.html#MapOptions) 

Types (required)
: ROADMAP
: SATELLITE
: HYBRID
: TERRAIN

Latitude and Longitude (required)
: specification of where the map should initially be centered

Zoom Level (required)
: 0=global, higher values increasingly local. Limited by map type

</div>

<div class="slides" >

## Controls ##

* Available Controls (enabled through map options) [default controls](http://code.google.com/apis/maps/documentation/javascript/controls.html#DefaultUI)

	Zoom Control

	Pan Control

	Scale Control

	MapType Control

	Street View Control

* Different control styles may be defined

* Controls may be positioned [positioning options](http://code.google.com/apis/maps/documentation/javascript/controls.html#ControlPositioning)

* Custom controls may be defined and attached to fixed location in the map

</div>


<div class="slides" >

## Overlays ##

Overlay Types [documentation](http://code.google.com/apis/maps/documentation/javascript/overlays.html)


Marker
: points depicted by specified or defined icons at locations within the map

Polyline
: linear features defined by multiple points with a defined style for the line

Polygon
: closed features defined by multiple points. Supports multi-polygons, and donuts. Line and fill styles may be specified.

(Ground) Overlay Maps
: Image-based map layers that replace or overlay Google layers - registered to the map coordinates

</div>


<div class="slides" >

## Overlays ##

Overlay Types [documentation](http://code.google.com/apis/maps/documentation/javascript/overlays.html)


Info Windows
: floating content windows for displaying content defined as HTML, a DOM element, or text string

Layers
: Grouped display content assigned to a specific layer: KmlLayer, FusionTablesLayer, TrafficLayer, BicyclingLayer

Custom Overlays
: definition of programmatically controlled layers

</div>


<div class="slides" >

## Services ##

* Geocoding Service

	Forward and reverse geocoding: 
 		address -> LatLon & 
 		LatLon -> Nearest Address

	May be biased to current viewport, region

* Directions

	Based upon an origin, destination, and a variety of additional options

	Available directions and rendered route

</div>


<div class="slides" >

## Services ##

* Elevation

	Delivery of elevation data for locations or paths

* Streetview

	Integration of Google Streetview within a DOM element

* Maximum Zoom

	Provides information about the maximum available zoom level

</div>


<div class="slides" >

## Events ##

* Events provide the ability to attach custom behaviors to events in the interface. For example:

	Changing items in the interface as the user zooms in on a map

	Displaying additional information outside the map when the user clicks a location in the map

	Synchronizing the behavior of multiple maps as the user interacts with one map

* Requires higher-level Javascript that we will cover in this course

</div>


<div class="slides" >

## Examples ##


</div>


<div class="slides" >

## Simple - Roadmap ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
				html { height: 100% }
				body { height: 100%; 
					margin: 0px; 
					padding: 0px; 
					background-color: black; 
					color: #CCCCCC;
					text-align: center}
				#map_canvas { width:90%; 
					height:80%; 
					margin-left:auto; 
					margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
				function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var myOptions = {
					zoom: 8,
					center: classroom,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				};
				var map = new google.maps.Map(
					document.getElementById("map_canvas"),
					myOptions);
				}
			</script>
		</head>

		<body onload="initialize()">
			<h1>Sample Map</h1>
			<div id="map_canvas"></div>
		</body>
	</html>

</div>


[View in new window][gmap simple 01]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps01.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>

</div>

[gmap simple 01]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps01.html "Link to Simple Google Map Page - Roadmap" target="_blank"

<div class="slides" >

## Simple - Satellite ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	
	<html>
		<head>
			<style type="text/css">
				html { height: 100% }
				body { height: 100%; 
					margin: 0px; 
					padding: 0px; 
					background-color: black; 
					color: #CCCCCC;
					text-align: center}
				#map_canvas { width:90%; 
					height:80%; 
					margin-left: auto; 
					margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
				function initialize() {
					var classroom = new google.maps.LatLng(35.084280,-106.624073)
					var myOptions = {
						zoom: 8,
						center: classroom,
						mapTypeId: google.maps.MapTypeId.SATELLITE
					};
					var map = new google.maps.Map(
						document.getElementById("map_canvas"), 
						myOptions);
				}
			</script>
		</head>
		
		<body onload="initialize()">
			<h1>Sample Map</h1>
			<div id="map_canvas"></div>
		</body>
	</html>


</div>

[View in new window][gmap simple 02]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps02.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 02]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps02.html "Link to Simple Google Map Page - Satellelite" target="_blank"

<div class="slides" >

## Simple - Hybrid ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var myOptions = {
				  zoom: 8,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID
				};
				var map = new google.maps.Map(
					document.getElementById("map_canvas"),
					myOptions);
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>
</div>

[View in new window][gmap simple 03]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps03.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 03]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps03.html "Link to Simple Google Map Page - Hybrid" target="_blank"

<div class="slides" >

## Simple - Terrain ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var myOptions = {
				  zoom: 8,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.TERRAIN
				};
				var map = new google.maps.Map(
					document.getElementById("map_canvas"),
					myOptions);
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 04]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps04.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 04]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps04.html "Link to Simple Google Map Page - Terrain" target="_blank"

<div class="slides" >

## Simple - Hybrid - Zoomed ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var myOptions = {
				  zoom: 18,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID
				};
				var map = new google.maps.Map(
					document.getElementById("map_canvas"),
					myOptions);
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 05]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps05.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 05]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps05.html "Link to Simple Google Map Page - Hybrid - Zoomed" target="_blank"

<div class="slides" >

## Simple - Zoomed - Modified Controls ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var myOptions = {
				  zoom: 18,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID,
				  zoomControl: true,
				  zoomControlOptions: {style: google.maps.ZoomControlStyle.SMALL},
				  mapTypeControl: true,
				  mapTypeControlOptions: {
					style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
				  streetViewControl: false
				};
				var map = new google.maps.Map(
					document.getElementById("map_canvas"),
					myOptions);
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 06]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps06.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 06]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps06.html "Link to Simple Google Map Page - Hybrid - Modified Controls" target="_blank"

<div class="slides" >

## Markers ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var office = new google.maps.LatLng(35.084506,-106.624899)
				var myOptions = {
				  zoom: 18,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID
				  };
				var map = new google.maps.Map(
				  document.getElementById("map_canvas"), 
				  myOptions);
				
				var classroomMarker = new google.maps.Marker({
				  position: classroom,
				  title:"Geography 485L/585L Classroom, Bandelier East, Room 106"
				  });
				classroomMarker.setMap(map);
				
				var officeMarker = new google.maps.Marker({
				  position: office,
				  title:"Office, Bandelier West, Room 107"
				  });
				officeMarker.setMap(map); 
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 07]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps07.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 07]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps07.html "Link to Simple Google Map Page - Markers Example" target="_blank"

<div class="slides" >

## Polyline ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: 
				auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var office = new google.maps.LatLng(35.084506,-106.624899)
				var myOptions = {
				  zoom: 18,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID
				  };
				var map = new google.maps.Map(
				  document.getElementById("map_canvas"), 
				  myOptions);
				
				var classroomMarker = new google.maps.Marker({
				  position: classroom,
				  title:"Geography 485L/585L Classroom, Bandelier East, Room 106"
				  });
				classroomMarker.setMap(map);
				
				var officeMarker = new google.maps.Marker({
				  position: office,
				  title:"Office, Bandelier West, Room 107"
				  });
				officeMarker.setMap(map); 
				
				var officeVisitCoordinates = [
				  office,
				  new google.maps.LatLng(35.084445,-106.624327),
				  new google.maps.LatLng(35.084309,-106.624308),
				  classroom
				  ];
				var officePath = new google.maps.Polyline({
				  path: officeVisitCoordinates,
				  strokeColor: "#FF0000",
				  strokeOpacity: 1.0,
				  strokeWeight: 2
				});
				officePath.setMap(map)
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 08]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps08.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>

[gmap simple 08]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps08.html "Link to Simple Google Map Page - Polyline Example" target="_blank"

<div class="slides" >

## Polygon ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var office = new google.maps.LatLng(35.084506,-106.624899)
				var myOptions = {
				  zoom: 18,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID
				  };
				var map = new google.maps.Map(
				  document.getElementById("map_canvas"), 
				  myOptions);
				var classroomMarker = new google.maps.Marker({
				  position: classroom,
				  title:"Geography 485L/585L Classroom, Bandelier East, Room 106"
				  });
				classroomMarker.setMap(map);
				var officeMarker = new google.maps.Marker({
				  position: office,
				  title:"Office, Bandelier West, Room 107"
				  });
				officeMarker.setMap(map); 
				var buildingCoordinates = [
				  new google.maps.LatLng(35.084498,-106.624921),
				  new google.maps.LatLng(35.084558,-106.624911),
				  new google.maps.LatLng(35.084566,-106.624970),
				  new google.maps.LatLng(35.084609,-106.624966),
				  new google.maps.LatLng(35.084544,-106.624383),
				  new google.maps.LatLng(35.084438,-106.624317),
				  new google.maps.LatLng(35.084384,-106.623922),
				  new google.maps.LatLng(35.084164,-106.623970),
				  new google.maps.LatLng(35.084214,-106.624324),
				  new google.maps.LatLng(35.084214,-106.624324),
				  new google.maps.LatLng(35.084391,-106.624284)
				  ];
				var bldgPoly = new google.maps.Polygon({
				  paths: buildingCoordinates,
				  strokeColor: "#FF0000",
				  strokeOpacity: 0.8,
				  strokeWeight: 2,
				  fillColor: "#FF0000",
				  fillOpacity: 0.35
				});
				bldgPoly.setMap(map)
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 09]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps09.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>

</div>

[gmap simple 09]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps09.html "Link to Simple Google Map Page - Polyline Example" target="_blank"

<div class="slides" >

## Adding an Info Window ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
		<head>
			<style type="text/css">
			  html { height: 100% }
			  body { height: 100%; 
				margin: 0px; 
				padding: 0px; 
				background-color: black; 
				color: #CCCCCC;
				text-align: center}
			  #map_canvas { width:90%; 
				height:80%; 
				margin-left: auto; 
				margin-right: auto }
			  .infoBox { color:black }
			</style>
			<script type="text/javascript"
				src="http://maps.google.com/maps/api/js?sensor=false">
			</script>
			<script type="text/javascript">
			  function initialize() {
				var classroom = new google.maps.LatLng(35.084280,-106.624073)
				var office = new google.maps.LatLng(35.084506,-106.624899)
				var myOptions = {
				  zoom: 18,
				  center: classroom,
				  mapTypeId: google.maps.MapTypeId.HYBRID
				  };
				var map = new google.maps.Map(
				  document.getElementById("map_canvas"), 
				  myOptions);
				var classroomMarker = new google.maps.Marker({
				  position: classroom,
				  title:"Geography 485L/585L Classroom, Bandelier East, Room 106"
				  });
				classroomMarker.setMap(map);
				var officeMarker = new google.maps.Marker({
				  position: office,
				  title:"Office, Bandelier West, Room 107"
				  });
				officeMarker.setMap(map); 
				var buildingCoordinates = [
				  new google.maps.LatLng(35.084498,-106.624921),
				  new google.maps.LatLng(35.084558,-106.624911),
				  new google.maps.LatLng(35.084566,-106.624970),
				  new google.maps.LatLng(35.084609,-106.624966),
				  new google.maps.LatLng(35.084544,-106.624383),
				  new google.maps.LatLng(35.084438,-106.624317),
				  new google.maps.LatLng(35.084384,-106.623922),
				  new google.maps.LatLng(35.084164,-106.623970),
				  new google.maps.LatLng(35.084214,-106.624324),
				  new google.maps.LatLng(35.084214,-106.624324),
				  new google.maps.LatLng(35.084391,-106.624284)
				  ];
				var bldgPoly = new google.maps.Polygon({
				  paths: buildingCoordinates,
				  strokeColor: "#FF0000",
				  strokeOpacity: 0.8,
				  strokeWeight: 2,
				  fillColor: "#FF0000",
				  fillOpacity: 0.35
				});
				bldgPoly.setMap(map);
				var classInfoContent = '<div class="infoBox">' +
				  '<p>This is the location for the Geography 485L/585L class</p>' +
				  '</div>'
				var classInfoWindow = new google.maps.InfoWindow({
				  content: classInfoContent
				  });
				google.maps.event.addListener(classroomMarker, 'click', function() {
				  classInfoWindow.open(map,classroomMarker);
				  });
			  }
			</script>
		</head>
		
		<body onload="initialize()">
		  <h1>Sample Map</h1>
		  <div id="map_canvas"></div>
		</body>
	
	</html>

</div>

[View in new window][gmap simple 10]
<iframe class="pagebox" src="http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps10.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>

</div>

[gmap simple 10]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/gmaps10.html "Link to Simple Google Map Page - Polyline Example" target="_blank"

<div class="slides" >

## Some Questions and Answers ##

* Use of alternative editors for homework and labs

	Certainly use whatever tools you are comfortable with - the tools we have worked with so far are just some of the possible ones that can be used.

* Use of WinSCP (Windows) or Fugu (Mac) for transferring files between local computer and class server

	WinSCP and Fugu are two programs that are recommended for transferring files from your local computer to the class server. Check out this week's class outline for links to a couple of short videos that demonstrate how to use these programs. 

* Running `webupdate` on UNM’s server is still required for new (and sometimes updated) files

* Other questions? Come to Tuesday's collaboratory and ask. 

</div>


## Lab Assignment: Creation of a Web Page with an Embedded Google Map [lab03] ##

In preparation for creating a web page with an embedded Google Map you should first answer the following questions about what and how you want to map. As you define the type of map you want to build, think about a specific problem or topic that you would like to address with your map. 

In this exercise you will be generating the configuration for the base map (i.e. The Google Maps background layers). In  future assignments you will add your own custom content to free-standing web pages that include a mapper based upon the base map you define here.

Create a web page that contains your lab assignment writeup (including the embedded Google Map required by question 5), link it to the home page (index.html) file you created last week, and submit the direct link to your lab writeup web page through the WebCT Assignment submission tool. 

Respond to Question 1-4 with an understanding that you are generating a web page that is publicly accessible, and should be both clear and complete. 

Question 1
: What area do you want to depict in your map? Why?

Question 2
: What is the center point (latitude and longitude) of your area of interest?

Question 3
:  What style of map (roads, satellite, hybrid, terrain) is appropriate for your map? Why?

Question 4
:  What is the scale of your map (local, regional, continental, global)? How will this translate into your selection of an appropriate default zoom level for your map?

Now that you have answered these questions about the map that you want to create, refer to the examples in the lecture notes, the Google Maps Tutorial (http://code.google.com/apis/maps/documentation/javascript/tutorial.html), and this week's reading assignment to create a custom Google map.

Question 5
: Embed a Google Map in your writeup that is based upon your responses to questions 1-4 above.

### Supporting Video Demonstrations ###

Windows
: Demonstration of WinSCP for transfer to the class server

<iframe width="640" height="480" src="http://www.youtube.com/embed/ODRTlL6bMvk?rel=0" frameborder="0" allowfullscreen="True"></iframe>

Macintosh
: Demonstration of Fugu for file transfer to the class server

<iframe width="640" height="480" src="http://www.youtube.com/embed/4obeop30yNo?rel=0" frameborder="0" allowfullscreen="True"></iframe>

<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 2.2 - Web-based Mapping Clients: Google Maps API#

## Part II - Related Topics ##

</div>



<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Web-based Mapping Clients: Google Maps API - Part II[![][arrow]][lecture04-section]

## This Week's Reading ##

* [Google Maps API Tutorial](http://code.google.com/apis/maps/documentation/javascript/tutorial.html) (reference)
* [Google Maps Fusion Mapper](http://earth.google.com/outreach/tutorial_fusion_yourowndata.html)
* *Google Maps API* Chapters 4-8 (skim for reference)
* _Next Week_ (all for reference): 

[GDAL Utilities documentation](http://www.gdal.org/gdal_utilities.html): gdalinfo, gdal_translate, gdaladdo, gdalwarp

[OGR Utilities documentation](http://www.gdal.org/ogr_utilities.html): ogrinfo, ogr2ogr

Proj4 Documentation: <br />[Base documentation](ftp://ftp.remotesensing.org/proj/OF90-284.pdf), <br>[Version 4.3 addendum](ftp://ftp.remotesensing.org/proj/proj.4.3.pdf), <br>[Version 4.3.I2 addendum](ftp://ftp.remotesensing.org/proj/proj.4.3.I2.pdf), <br>[Swiss Oblique Mercator Projection](ftp://ftp.remotesensing.org/proj/swiss.pdf)

## Lab Assignment ##

* Styling of an Embedded Google Map[![][arrow]][lab04]

## Homework Assignment ##

* Homework Assignment 1 - Creation of a a Google Maps Web Page with Custom Points and Labels [![][arrow]][homework01]

</div>

## Background ##

This week covers some additional topics related to the Google Maps API, particularly focusing on styling the Maps base maps using the [styled maps wizard](http://gmaps-samples-v3.googlecode.com/svn/trunk/styledmaps/wizard/index.html) and integrating the javascript generated by the wizard into the base web page code developed last week; and, using [Google's Fusion Tables](http://www.google.com/fusiontables/public/tour/index.html) tool to create and manage tabular data for mapping and other visualization. We complete our work with the Maps API with an example of a more "real" example of a maps-enabled web page. 

## Expected Outcomes ##

By the end of this class module you should be able to:

* Generate a Google Maps JSON style using the _Styled Maps Wizard_

* Integrate that JSON into your map client page for styled basemap display

You should also understand

* The potential of _Fusion Tables_ as an alternative source of data to integrate into a custom Google Map page

* The potential structure of an _operational_ web page, including the physical separation of page components (structure, presentation, behavior) into separate files 

## Key Concepts ##

* Generating Google Maps styles

* Integrating styles into a Google Maps page

* Fusion tables as a data source for Google Maps maps

* Separation of structure, presentation, and behavior in web development 


## Web-based Mapping Clients: Google Maps API - Part 2: Related Topics [lecture04-section] ##

[Presentation Slides][Lecture04]

<iframe width="640" height="480" src="http://www.youtube.com/embed/cHjQp3YHrfM?rel=0" frameborder="0" allowfullscreen="true"></iframe>

### Additional Video Materials ###

Styled Maps Wizard
<iframe class="full-slide" width="640" height="480" src="http://www.youtube.com/embed/0hhiEjf7_NA?rel=0" frameborder="0" allowfullscreen="false"></iframe> 

<iframe class="full-slide" width="640" height="360" src="http://www.youtube.com/embed/Z2o0mtnF1Bg?rel=0" frameborder="0" allowfullscreen="false"></iframe>

(particularly relevant sections linked below)

* [Introduction (0:00 - 10:30)](http://www.youtube.com/embed/Z2o0mtnF1Bg#t=0m0s)

* [Google Maps API Integration (21:40 - 34:42)](http://www.youtube.com/embed/Z2o0mtnF1Bg#t=21m40s)

* [Summary and Links (52:00 52:40)](http://www.youtube.com/embed/Z2o0mtnF1Bg#t=52m0s)





<div class="slides title" >

# Module 2.2 - Web-based Mapping Clients: Google Maps API#

## Part II - Related Topics ##

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Overview ##

* Additional Google Maps API Capabilities to be Aware of

Styling of the base maps with custom preferences 

Fusion Tables 

* Bringing it all together in a "real" web page

</div>

<div class="slides" >

### "Getting Started with Styled Maps" - Video ###

<iframe class="full-slide" width="640" height="480" src="http://www.youtube.com/embed/0hhiEjf7_NA?rel=0" frameborder="0" allowfullscreen="false"></iframe> 

[Styled Maps Wizard](http://gmaps-samples-v3.googlecode.com/svn/trunk/styledmaps/wizard/index.html)


</div>

<div class="slides" >

## Simple - Styled ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	<html>
	<head>
	<style type="text/css">
	  html { height: 100% }
	  body { height: 100%; 
		margin: 0px; 
		padding: 0px; 
		background-color: black; 
		color: #CCCCCC;
		text-align: center}
	  #map_canvas { width:90%; 
		height:80%; 
		margin-left: 
		auto; 
		margin-right: auto }
	</style>
	<script type="text/javascript"
		src="http://maps.google.com/maps/api/js?v=3.2&sensor=false">
	</script>
	<script type="text/javascript">
	  function initialize() {
		var classroom = new google.maps.LatLng(35.084280,-106.624073)
		var myOptions = {
		  zoom: 8,
		  center: classroom,
		  mapTypeId: google.maps.MapTypeId.ROADMAP,
		  styles: [
				  {
					featureType: "water",
					stylers: [
					  { visibility: "on" },
					  { hue: "#0008ff" }
					]
				  },{
					featureType: "road.highway",
					stylers: [
					  { hue: "#ff1a00" }
					]
				  },{
					featureType: "road.arterial",
					stylers: [
					  { hue: "#ffa200" },
					  { visibility: "simplified" }
					]
				  },{
					featureType: "road.local",
					stylers: [
					  { visibility: "off" }
					]
				  },{
					featureType: "administrative",
					stylers: [
					  { visibility: "simplified" }
					]
				  },{
					featureType: "poi",
					stylers: [
					  { visibility: "on" },
					  { hue: "#00ffff" }
					]
				  },{
					featureType: "poi",
					stylers: [
					  { visibility: "on" }
					]
				  }
				]
		};
		var map = new google.maps.Map(document.getElementById("map_canvas"),
			myOptions);
	  }
	</script>
	</head>
	
	<body onload="initialize()">
	  <h1>Sample Map - Styled (POIs Emphasized)</h1>
	  <div id="map_canvas"></div>
	</body>
	
	</html>
</div>


[View in new window](examples/gmaps_styled.html)
<iframe class="pagebox" src="examples/gmaps_styled.html">Your browser does not support an embedded web page. Click <a href="./examples/simple.html">here</a> to view the referenced page</iframe>


</div>



<div class="slides" >

### "Google I/O 2011: Managing and visualizing your geospatial data with Fusion Tables" - Video ###

<iframe class="full-slide" width="640" height="360" src="http://www.youtube.com/embed/Z2o0mtnF1Bg?rel=0" frameborder="0" allowfullscreen="false"></iframe>

</div>

<div class="slides" >

### "Google I/O 2011: Managing and visualizing your geospatial data with Fusion Tables" - Video ###

Particularly Relevant Sections of the Video

* [Introduction (0:00 - 10:30)](http://www.youtube.com/embed/Z2o0mtnF1Bg#t=0m0s)

* [Google Maps API Integration (21:40 - 34:42)](http://www.youtube.com/embed/Z2o0mtnF1Bg#t=21m40s)

* [Summary and Links (52:00 52:40)](http://www.youtube.com/embed/Z2o0mtnF1Bg#t=52m0s)

</div>

<div class="slides" >

## Bringing It All Together ##

<div class="codebox" markdown='1'>

	<!DOCTYPE html>
	
	<html>
		<head>
			<meta charset="utf-8" />
			<title>Karl's Event Diary</title>
			<link rel="stylesheet" href="./styles/base.css" media="screen">
			<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
			<script type="text/javascript" src="./js/base.js"></script>
			<script type="text/javascript">
				// Define a set of global coordinates for use throughout the web site
				// Place coordinates derived from GNIS database: http://geonames.usgs.gov/pls/gnispublic
				var eventPlaces = [
					{name: "Albuquerque", point: new google.maps.LatLng(35.0889356,-106.5747462)}, 
					{name: "Durango", point: new google.maps.LatLng(37.2752800,-107.8800667)},
					{name: "San Diego", point: new google.maps.LatLng(32.7153292,-117.1572551)},
					{name: "San Francisco", point: new google.maps.LatLng(37.7749295,-122.4194155)},
					{name: "Orlando", point: new google.maps.LatLng(28.5383355,-81.3792365)},
					{name: "Anaheim", point: new google.maps.LatLng(33.8352932,-117.9145036)}
				]
			</script>
		</head>
		
		<body onload="initialize()">
			<h1>
				My diary of endurance events that I've participated in since joining Team in Training
			</h1>
			
			<p>In 2008 Cynthia and I joined the Leukemia and Lymphoma Society's (<a href="http://www.lls.org/">LLS</a>) Team in Training (<a href="http://www.teamintraining.org/">TNT</a>, <a href="http://youtu.be/GMSKG8L6K78">info video</a>) program as 
			participants to train for the Animas Valley/Steamworks Half Marathon and raise money for blood cancer
			research and patient services. In spite of our not having any direct connection to blood cancer (at that time), 
			we found the goals of LLS admirable,  the combined training and fund-raising program of TNT a great idea, and have made many
			new friends over the many seasons that we've been involved with TNT.</p>
			
			<p>Since 2008 we have continued to volunteer with TNT, as participants, mentors, and since 2010 I have been a coach 
			(check out my <a href="http://youtu.be/GMSKG8L6K78#t=2m13s">half-second</a> of fame in the info video)
			for TNT with an emphasis on training walkers for full- or half-marathons. This page provides a summary of the 
			events that I've participated in in some capacity since we became involved with TNT. </p>
			
			<div id="event-map" name="event-map"></div>
		
			<h2>
				<span class="date">1/9/2011</span> 
				Disney World  Marathon (Goofy - Day 2)
				<span class="time">6:56:28</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[4].point, 10)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">1/8/2011</span> 
				Disney World Half Marathon (Goofy - Day 1)
				<span class="time">3:29:00</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[4].point, 10)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">6/19/2010</span> 
				Animas Valley/Steamworks Half Marathon 
				<span class="time">no time: coached</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[1].point, 10)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">6/6/2010</span> 
				San Diego Rock 'n' Roll Marathon 
				<span class="time">no time: coached</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[2].point, 11)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">10/18/09</span> 
				Nike Women's Marathon 
				<span class="time">7:13:05</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[3].point, 12)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">9/6/2009</span> 
				Disneyland Half Marathon 
				<span class="time">3:43:05</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[5].point, 12)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">1/11/2009</span> 
				Disney World Marathon 
				<span class="time">6:57:42</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[4].point, 10)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">10/19/2008</span> 
				Duke City Half Marathon 
				<span class="time">3:09:42</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[0].point, 11)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
			<h2>
				<span class="date">6/21/2008</span> 
				Animas Valley/Steamworks Half Marathon 
				<span class="time">3:14:52</span> 
				(<a href="#event-map" onclick="recenter(map, eventPlaces[1].point, 10)">map</a>)
			</h2>
			<p class="eventDescription">blah, blah, blah ...</p>
	
		</body>
	
	</html>

</div>


[View in new window](http://kkb-web.s3.amazonaws.com/events/home.html)
<iframe class="pagebox" src="http://kkb-web.s3.amazonaws.com/events/home.html">Your browser does not support an embedded web page. Click <a href="http://kkb-web.s3.amazonaws.com/events/home.html">here</a> to view the referenced page</iframe>


</div>


## Lab Assignment: Styling of an Embedded Google Map [lab04] ##

Make a free-standing web page based upon the Google Map that you created as part of last week's lab assignment. Use the Google [styled maps wizard](http://gmaps-samples-v3.googlecode.com/svn/trunk/styledmaps/wizard/index.html) to define _at least_ three modified base map styles and integrate the JSON generated by the wizard into your new Google Map page. 

Question 1
: Post the web address for your modified map page as your submission for this assignment in WebCT. 

## Homework Assignment: Creation of a a Google Maps Web Page with Custom Points and Labels [homework01] ##

In your laboratory assignment for this week you built a styled Google Maps base map for a particular region of interest. For this homework assignment create a new free-standing web page that includes a brief description of the topical focus of your mapper:

* The type of information that you want to depict in your map
* Your reasons for selecting the specific area shown in the map
* A description of what you are trying to communicate with the map

Embed the base map that you initially created for your lab assignment into this new web page.

* Add 5 overlay objects to the map that relate to specific items of interest or importance. These overlay objects may be _markers_, _polylines_, or _polygons_. Make sure to include descriptive titles for each object.
* Add an _infobox_ to each object that contains additional detailed information about the object

Question 1
: Submit the URL of your web page as the _answer_ to this homework assignment.






<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 3 - GIS and Services Oriented Architectures (SOA)  #

</div>



<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* GIS and Services Oriented Architectures [![][arrow]][lecture05-section]

## This Week's Reading ##

[GDAL Utilities documentation](http://www.gdal.org/gdal_utilities.html): gdalinfo, gdal_translate, gdaladdo, gdalwarp

[OGR Utilities documentation](http://www.gdal.org/ogr_utilities.html): ogrinfo, ogr2ogr

Proj4 Documentation: <br>[Base documentation](ftp://ftp.remotesensing.org/proj/OF90-284.pdf), <br>[Version 4.3 addendum](ftp://ftp.remotesensing.org/proj/proj.4.3.pdf), <br>[Version 4.3.I2 addendum](ftp://ftp.remotesensing.org/proj/proj.4.3.I2.pdf), <br>[Swiss Oblique Mercator Projection](ftp://ftp.remotesensing.org/proj/swiss.pdf)

* _Next Week_ (all for reference): 

[OGC Workshop White Paper](ogcworkshop.pdf)

[OGC WMS Implementation Specification](http://portal.opengeospatial.org/files/?artifact_id=14416)

[OGC KML](http://portal.opengeospatial.org/files/?artifact_id=27810)


## Lab Assignment ##

* Proj4, GDAL, and OGR [![][arrow]][lab05]

## Homework Assignment ##

* none

</div>

## Background ##

Core the the development of distributed mapping systems over the internet is the concept of web services and the interoperability upon which they are based as the means of communication between systems. This week's lecture and focuses on the core concepts of geospatial _Services Oriented Architectures_ and the open interoperability standards from the _Open Geospatial Consortium_ that enable the exchange of map images and data over the web. 

## Expected Outcomes ##

By the end of this class module you should understand the following:

* The difference between raster and vector data formats and the utilities for retrieving information about supported file formats

* The available resources for determining the projection parameters for different named coordinate reference systems and the command line tools for performing basic coordinate transformations

* The three general tiers of a geospatial services oriented architecture and the components that may exist in those tiers

* The key Open Geospatial Consortium standards for access, data, and representation

## Key Concepts ##

* Raster and Vector Data Models

* Basic concepts of coordinate transformation and how the parameters that define a transformation may be used to perform basic coordinate transformation calculations using the `cs2cs` utility

* The tiers of a geospatial services oriented architecture

* The constituent components of SOA tiers

* The role of OGC services in providing connectivity between SOA tiers

* The OGC WMS, WFS, WCS, GML, and KML standards and their respective capabilities and purposes


## Lecture: GIS and Services Oriented Architectures [lecture05-section] ##

[Presentation Slides][Lecture05]

<iframe width="640" height="480" src="http://www.youtube.com/embed/z6pDGRasBxw?rel=0" frameborder="0" allowfullscreen="True"></iframe>

<iframe width="640" height="480" src="http://www.youtube.com/embed/beRR91CVbJQ?rel=0" frameborder="0" allowfullscreen="True"></iframe>

<iframe width="640" height="480" src="http://www.youtube.com/embed/Vf0KnUfk44s?rel=0" frameborder="0" allowfullscreen="True"></iframe>



<div class="slides title" >

# Module 3 - GIS and Services Oriented Architectures #

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Outline ##

* Geographic Information Systems

Data Types

Coordinate Systems

* Services Oriented Architectures

Historic Context

Current Model - Network Computing

Components

Interoperability Standards

</div>

<div class="slides" >

## Geographic Information Systems ##


</div>

<div class="slides" >

### Data Types - Vector ###

* Vector data represent phenomena that are associated with specific bounded locations, typically represented by:

Points

Lines

Polygons

* Vector data include:

The geometries that describe the area being referenced, and

Attributes associated with that area

For example, a census vector data product might include the geometries that define census tracts and attributes associated with each geometry: population, income, etc. 

</div>

<div class="slides" >

### Data Types - Raster ###

* Raster data are frequently used to represent values for phenomena that vary continuously across space (e.g. elevation, concentration of air pollutants, depth to ground water, etc. )

* These values are encoded over a regular grid of observation locations with a specified grid spacing - often referred to as the spatial resolution of the dataset (i.e. 10m resolution for a standard USGS Digital Elevation Model product)

* Often parts of data collections that are repeated (i.e. remote sensing data products)

</div>

<div class="slides" >

### Accessing and Processing Raster and Vector Data ###

* Two geospatial libraries and their related utility programs provide information about and tools for modifying vector and raster data sets

OGR
: vector data access and information

GDAL
: raster data access and information

These libraries are the data access and processing foundation for a growing number of open source and commercial mapping systems

Information and documentation

GDAL Home Page - [http://gdal.org/](http://gdal.org/)

OGR Home Page - [http://www.gdal.org/ogr/](http://www.gdal.org/ogr/)

</div>

<div class="slides" >

### Coordinate Systems/Projections ###

* To convert locations from a 3-dimensional oblate spherical coordinate system (such as is commonly used to represent the surface of the earth) to a 2-dimensional representation in a map, a coordinate transformation must be performed. 

* There are a limitless number of potential coordinate transformations possible, and a large number have been named and defined that meet specific cartographic or other requirements

</div>

<div class="slides" >

### EPSG Codes ###

* A catalog of numeric codes and associated coordinate transformation parameters is maintained by the International Association of Oil & Gas Producers (OGP) - the successor scientific organization to the European Petroleum Survey Group (EPSG)

* These numeric codes are used by many desktop and online mapping systems to document and represent the coordinate systems of available data and services

* Links to an online version of the registry and downloadable databases of the registry are available from: [http://www.epsg.org/](http://www.epsg.org/) specifically from [http://http://www.epsg-registry.org/](http://http://www.epsg-registry.org/)


</div>

<div class="slides" >

### Projection Parameters ###

The parameters that define a map projection may be looked up in a number of online locations:
EPSG registry
: [http://www.epsg-registry.org/](http://www.epsg-registry.org/)

GeoTIFF Projection List
: [http://www.remotesensing.org/geotiff/proj_list/](http://www.remotesensing.org/geotiff/proj_list/) 

</div>





<div class="slides" >

EPSG registry
: [http://www.epsg-registry.org/](http://www.epsg-registry.org/)

<iframe src="http://www.epsg-registry.org/" />





</div>

<div class="slides" >

GeoTIFF Projection List
: [http://www.remotesensing.org/geotiff/proj_list/](http://www.remotesensing.org/geotiff/proj_list/) 

<iframe src="http://www.remotesensing.org/geotiff/proj_list"></iframe>


</div>

<div class="slides" >

### Coordinate Transformation Calculations ###

When the projection parameters are in hand, the Proj4 library ([http://trac.osgeo.org/proj/](http://trac.osgeo.org/proj/)) and related utilities (`cs2cs` and `proj`) can be used to perform coordinate transformation calculations. `cs2cs` is my recommended utility for coordinate conversion because of the explicit definition of both source and destination coordinate reference system. 

Examples:

	kbene@485-585:~$ cs2cs +proj=latlon +datum=NAD83 +to +proj=utm +zone=13N +datum=NAD27
	106.75W 35N
	340350.40 3874238.34 -0.00
	^C

	kbene@485-585:~$ cs2cs +proj=latlon +datum=WGS84 +to +proj=utm +zone=13N +datum=NAD83
	106.75W 35N
	340301.04	3874442.20 0.00
	^C

	kbene@485-585:~$ cs2cs +proj=utm +zone=13N +datum=NAD83 +to +proj=latlon +ellps=clrk66
	340301.04	3874442.20 0.00
	106d45'W	35dN 0.000
	^C


</div>

<div class="slides" >

## Services Oriented Architectures ##


</div>

<div class="slides" >

### Where have we come from? ###

<div class="right-half" >

<img class="fit-width" src="http://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Eniac.jpg/314px-Eniac.jpg" />

<div class="credits" >
Photo Credit: [US Army Photo](http://en.wikipedia.org/wiki/File:Eniac.jpg)
</div>

</div>

* ENIAC (1946)

First general purpose electronic computer

Programmable, but could not store programs


</div>



<div class="slides" >

### Where have we come from? ###

<div class="right-half" >

<img class="fit-width" src="http://upload.wikimedia.org/wikipedia/commons/4/49/Ibm704.gif" />

<p class="caption">IBM 704 Mainframe Computer</p>

<div class="credits" >
Photo Credit: [Lawrence Livermore National Laboratory](http://en.wikipedia.org/wiki/File:Ibm704.gif)
</div>

<a href="http://www.flickr.com/photos/dominicspics/819795777/" title="Teletype Corporation Model 33 ASR Teletype by Dominic's pics, on Flickr"><img class="fit-width" src="http://farm2.staticflickr.com/1353/819795777_63994e8231.jpg" width="300" height="225" alt="Teletype Corporation Model 33 ASR Teletype" /></a>

<p class="caption">Model 33 ASR Teletype</p>

<div class="credits" >
Photo Credit: [Dominic's Pics](http://www.flickr.com/photos/dominicspics/)
</div>

</div>


* Early Client-Server Computing (1960s)

Mainframe computers to which client terminals connected over a local network

Computing performed by server, client purely a display device

<img class="fit-width" src="http://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Televideo925Terminal.jpg/279px-Televideo925Terminal.jpg" />

<p class="caption">TeleVideo 925 ASCII Terminal</p>

<div class="credits" >
Photo Credit: [Wtshymanski](http://en.wikipedia.org/wiki/User:Wtshymanski)
</div>



</div>



<div class="slides" >

### Where have we come from? ###

<div class="right-half" >

<img class="fit-width" src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Ibm_pc_5150.jpg/259px-Ibm_pc_5150.jpg" />

<p class="caption">IBM 5150 Personal Computer</p>

<div class="credits" >
Photo Credit: [Ruben de Rijcke](http://en.wikipedia.org/wiki/File:Ibm_pc_5150.jpg)
</div>

<img class="fit-width" src="http://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Apple_I_Computer.jpg/320px-Apple_I_Computer.jpg" />

<p class="caption">Apple I Personal Computer</p>

<div class="credits" >
Photo Credit: [Ed Uthman](http://flickr.com/photos/78147607@N00)
</div>


</div>


* Personal Computers (1970s)

Desktop computers capable of running a variety of operating systems and applications

In some environments can be interconnected to a central local server

</div>



<div class="slides" >

### Now - Network Computing ###

<div class="right-half" >

<img class="fit-width" src="http://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/WIntHosts1981-July2011.jpg/320px-WIntHosts1981-July2011.jpg" />

<p class="caption">World Internet Hosts 1981 - July 2011</p>

<div class="credits" >
Image Credit: [Ken Masters](http://en.wikipedia.org/wiki/File:WIntHosts1981-July2011.jpg)
</div>

</div>


* Predecessor to the Internet - ARPANET (1969). Interconnection between UCLA and SRI (Menlo Park)

* Adoption of TCP/IP as next generation protocol for ARPANET (1983)

* NSF commissions construction of NSFNET, also based upon TCP/IP (1983)

* NSFNET opened to commercial connections (1988). Led to interconnection of multiple, previously separate networks into an “Internet”

* Growth of internet users has expanded rapidly over the past decade


</div>

<div class="slides" >

### In a Phrase ... ###

<div class="centered-phrase" >The current networking computing model consists of __Components Interacting__ with Each Other</div>

</div>

<div class="slides" >

### So - We Need to Answer the Following Questions ###

What are components?

What does it mean to interact?

</div>

<div class="slides" >

### The Big Picture - Services Oriented Architectures ###

<div class="right-half" >

<img class="fit-width" src="images/SOAillustration.png" />

</div>

* Services Oriented Architecture (SOA) for Geospatial Data and Processing

Data, Processing, Client Tiers

* Open Geospatial Consortium Interoperability Standards

WMS, WFS, WCS

</div>

<div class="slides" >

### The Big Picture - Services Oriented Architectures ###

<div class="right-half" >

<img class="fit-width" src="images/SOAillustration.png" />

</div>

* Geospatial Metadata Standards

ISO 19115, FGDC

* Internet Standards

Web: HTML, CSS, JavaScript, XML

SOAP - Simple Object Access Protocol

REST - Representation State Transformation

</div>

<div class="slides" >

## The Pieces - Components ##


</div>

<div class="slides" >

### Key Components - Data ###

Database systems

* Optimized for storing massive quantities of tabular data

* May be spatially enabled to support the storage of geometries (points, lines, polygons) in addition to related attribute data

* Standard language (Structured Query Language [SQL]) for interacting with many databases

* Broad support for accessing the contents of databases from many other applications and programming languages

Spreadsheets

Statistical Software

Geographic Information Systems

</div>

<div class="slides" >

### Key Components - Data ###

File-based data

* Often stored on the file system

* Sometimes difficult represent data within a database structure (i.e. binary data)

* May be in a wide variety of formats

XML

ASCII Text (e.g. CSV, tab-delimited)

Binary files

Excel Spreadsheets

Word Processing Documents

Geospatial data (e.g. imagery)

</div>



<div class="slides" >

### Key Components - Data ###



* Remotely Accessible Data

Some data may be provided through reference to an external network resource (i.e. a web address, or other identifier) or service

</div>

<div class="slides" >

### Key Components - Processing Services ###

* Perform modification of source data to generate a new data product

* May be “chained” together to create a processing “workflow”

Output from one processing service may be used as the input to another 

* May be simple OGC services; or complex data processing, analysis, or visualization services. Examples include

Extraction of a subset of a large data set based upon provided search criteria

Generation of a map from a collection of data

Fusion of two data products into a single derived product (e.g. vegetation indices calculated from multiple remote sensing images)

Calculation of statistical information for an input product, and delivery of the statistical summary

</div>

<div class="slides" >

### Key Components - Clients ###

* Any system that accesses the services provided by the system may be considered a “client”


* That system may be manually operated by a human user, or triggered automatically by software


* Human operated clients include


Web-based applications

Desktop applications such as Geographic Information Systems and Statistical Analysis tools

* Machine clients include

Data processing services that translate requests to them into requests for other system services

Regularly scheduled requests that are automatically triggered by external computer systems.  

</div>

<div class="slides" >

## The Glue - Interoperabilty Standards / Service Interfaces ##


</div>

<div class="slides" >

## Open Geospatial Consortium Interoperabilty Standards ##


</div>

<div class="slides" >

### Open Geospatial Consortium (OGC) Standards ###

* Two Classes of Standards Considered Here

Geospatial Product Access Standards

Geospatial Data and Representation Standards

* Product Access Standards

Web Map Services (WMS)

Web Feature Services (WFS)

Web Coverage Services (WCS)

* Data and Representation Standards

Geography Markup Language (GML)

KML (formerly known as Keyhole Markup Language)

</div>

<div class="slides" >

### Comparison of OGC Service Models ###

<img class="full-page" src="images/ogcComparison.png" />

</div>

<div class="slides" >

### OGC Web Map Services (WMS) ###

<div class="right-half" >

	http://edacwms.unm.edu/cgi-bin/mapfiles/
	imagery_wms?
		VERSION=1.1.1&
		SERVICE=WMS&
		REQUEST=GetMap&
		SRS=EPSG:4326&
		FORMAT=image/jpeg&
		STYLES=&
		LAYERS=modis_nm,landsat,doqq05,
			doqq06_gaps,mrcog_2006_rast&
		TRANSPARENT=TRUE&
		WIDTH=200&
		HEIGHT=200&
		bbox=-105.3387,28.3,-102.9387,30.7

<a href="http://edacwms.unm.edu/cgi-bin/mapfiles/imagery_wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&SRS=EPSG:4326&FORMAT=image/jpeg&STYLES=&LAYERS=modis_nm,landsat,doqq05,doqq06_gaps,mrcog_2006_rast&TRANSPARENT=TRUE&WIDTH=200&HEIGHT=200&bbox=-105.3387,28.3,-102.9387,30.7"><img class="fit-width" src="http://edacwms.unm.edu/cgi-bin/mapfiles/imagery_wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&SRS=EPSG:4326&FORMAT=image/jpeg&STYLES=&LAYERS=modis_nm,landsat,doqq05,doqq06_gaps,mrcog_2006_rast&TRANSPARENT=TRUE&WIDTH=200&HEIGHT=200&bbox=-105.3387,28.3,-102.9387,30.7" /></a>

</div>

* HTTP GET (required), HTTP POST (optional)

* Requests:

`GetCapabilities`

`GetMap`

`GetFeatureInfo`

* Returns 

Mapped data

XML Capabilities Document, Feature Attributes

Includes support for time-based requests

</div>

<div class="slides" >

### OGC Web Feature Services (WFS) ###

* Either HTTP GET or POST required

* Requests

`GetCapabilities`

`DescribeFeatureType`

`GetFeature/GetFeatureWithLock`

`GetGmlObject`

`LockFeature`

`Transaction`

* Returns 

XML (GML) 

Capabilities, and Feature Data

</div>

<div class="slides" >

### OGC Web Coverage Services (WCS) ###

* Either HTTP GET or POST required

* Requests

`GetCapabilities`

`DescribeCoverage`

`GetCoverage`

* Returns

Geospatial data for coverage

XML Capabilities

Includes support for time-based requests

</div>

<div class="slides" >

### OGC Geography Markup Language (GML) ###

* GML is an XML grammar for representing geospatial features and their associated attributes

* In its generic form it can encode points, lines, and polygons and their associated attributes

* As an XML schema GML was designed to be extensible by communities of practice for consistent encoding of geographic data more richly than allowed by the generic default model

* GML documents representing large complex geometries can be quite large

</div>

<div class="slides" >

### OGC KML ###

* An XML specification that supports the encoding of representation and embedding of geospatial data for use in geospatial viewers

* Began as the underlying representation language of Google Earth (originally developed by Keyhole for their virtual Earth viewer)

* Adopted as an OGC standard in 2008

* Supports data linkage through

Embedding

Reference through external URLs - with WMS specifically supported through _parameterization_ 

Includes support for the representation of time in relation to data objects

</div>

<div class="slides" >

### Implementation of the OGC Standards ###

<div class="left-half" >

WMS
: 1.3.0 - 221 implementations
: 1.1.1 - 407
: 1.1 - 235
: 1.0 - 244

WFS
: 1.0.0 - 172
: 1.0.0 transactional - 26

WCS
: 1.1.2 - 11
: 1.1.1 - 20
: 1.1.0 - 35
: 1.0 - 74
: 1.0.0 Corregendum - 94

</div>
Implementation information based upon [OGC Implementation Statistics](http://www.opengeospatial.org/resource/products/stats) - Accessed 2/2012

</div>


<div class="slides" >

### Implementation of the OGC Standards ###

<div class="left-half" >

KML
: 2.2.0 - 44
: 2.2 Reference (Best Practice) - 22
: 2.1 Reference (Best Practice) - 41

GML
: 3.2.1 - 71
: 3.1.1 - 140
: 3.0 - 99
: 2.1.2 - 118
: 2.1.1 - 78
: 2.0 - 70 

</div>

Implementation information based upon [OGC Implementation Statistics](http://www.opengeospatial.org/resource/products/stats) - Accessed 2/2012

</div>

<div class="slides" >

### OGC Summary ###

The OGC web service specifications support key geospatial data access requirements

WMS
: visualization of geospatial data through simple web requests

WFS
: delivery of geospatial data (typically points, lines, and polygons) in a format that is usable in GIS and other applications

WCS
: delivery of geospatial data (typically, but not limited to, raster data) usable in other applications

</div>

<div class="slides" >

### OGC Summary ###

The OGC data and representation standards support data exchange and higher level representation

GML
: XML schema for the representation of features and associated attributes. It may be extended for use by specific communities of users (i.e. ecological data models)

KML
: XML schema that supports the combination of embedded data and external data into a complete representation model that may be used by client applications to present the data through a user interface (e.g. Google Earth, WorldWind)

</div>

<div class="slides" >

## Other Standards - SOAP and REST ##

Two current models in broad use for machine-to-machine communication

Simple Objects Access Protocol (SOAP)
: part of the large WS-* family of standards

Representational State Transfer (REST)
: model based upon standard HTTP request/response model

Both come out of standards developed by international bodies

* SOAP is a World Wide Web Consortium (W3C) recommendation for message encapsulation within HTTP and other protocols - [http://www.w3.org/TR/soap/](http://www.w3.org/TR/soap/)

* REST is an interaction model based upon the Hypertext Transfer Protocol (HTTP), an RFC (2116) developed by the Internet Engineering Task Force (IETF) - [http://www.ietf.org/rfc/rfc2616.txt](http://www.ietf.org/rfc/rfc2616.txt)

</div>

## Lab Assignment: Proj4, GDAL, and OGR [lab05] ##

This week's lab concentrates on some command line tools that are useful in working with raster and vector data sets. These tools should be available on your personal computers (through the installation of the FW-Tools package for Windows, or the GDAL, OGR, and Proj4 frameworks on the Mac) and are also available on the class server where you have been doing your homework assignments. If you would like to use the utility programs installed on the class server you will need to copy your downloaded files (using WinSCP [Windows], or Fugu [Mac}) from your local computer to the class server. You don't have to put the files in your "public_html" directory, just your home directory or a separate folder will suffice. 

As with the previous labs, submit your writeup as a web address for an HTML document linked to your class home page and accessible via the web.

Here are some useful links to documentation and information about the tools that you will be working with today.

[FWTools](http://fwtools.maptools.org/)
[Proj4](http://trac.osgeo.org/proj/)
[OGR](http://www.gdal.org/ogr/)
[GDAL](http://www.gdal.org/)

Download three data products from one of the data download sites that you found in week 1 for the lab assignment. Make sure to download _at least one vector and one raster_ data product as part of the set you download. If you need to go to different site(s) to download the data, feel free to do so.

Question 1
: Briefly describe each dataset based upon the information from the web site.

Question 2
: Examine each file using either gdalinfo or ogrinfo (depending upon whether it is a raster or vector data product), and answer the following questions about each data set:

* What is the projection/coordinate system for the data product? If it is undefined, note it.

* What is the spatial extent of the data product?

* If it is a vector dataset, how many features does it have? 

* If it is a raster dataset, what is the pixel resolution (include units) of the dataset?

Question 3
: Use proj or cs2cs (I suggest you use cs2cs) to calculate the coordinates of the spatial extent of the datasets that you downloaded in UTM Zone 13N, NAD27. Paste the input and output of the command(s) into your writeup.





<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 4.1 - Interoperability Standards - XML, KML, and WMS#

</div>



<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Interoperability Standards - WMS, KML, and XML [![][arrow]][lecture06-section]

## This Week's Reading ##

[OGC Workshop White Paper](ogcworkshop.pdf)

[OGC WMS Implementation Specification](http://portal.opengeospatial.org/files/?artifact_id=14416)

[OGC KML](http://portal.opengeospatial.org/files/?artifact_id=27810)

[Google Code KML Documentation](http://code.google.com/apis/kml/documentation/)

* _Next Week_ (all for reference): 

[OGC Web Feature Service (WFS) Implementation Specification](http://www.opengeospatial.org/standards/wfs)

[OGC Web Coverage Service (WCS) Implementation Specification](http://www.opengeospatial.org/standards/wcs)

## Lab Assignment ##

* WMS & KML  [![][arrow]][lab06]

## Homework Assignment ##

* OGC Service Concepts [![][arrow]][Homework02]

</div>

## Background ##

This week's class focuses on three open interoperability standards that are the most broadly used of the standards that we will be covering. 

Extensible Markup Language (XML)
: The World Wide Web Consortium (W3C) standard that is the foundation for many other service and data standards including: the service metadata (GetCapabilities) for the OGC WMS, WFS, and WCS, Geography Markup Language (GML), and KML. 

KML
: Formerly known as Keyhole Markup Language, an OGC standard since 2008, KML is a combined geospatial data and representation standard that enables the combined transfer of both location-based data and styling information within a defined XML model. 

Web Map Service (WMS)
: The OGC standard for providing on-demand map visualizations based upon user provided parameters reflecting selected data layers, defined areas of interest, image formats, and optionally time of interest. 



## Expected Outcomes ##

At the end of this class students should have an understanding of the following:

* The basic characteristics of XML documents, including the concepts of _well-formed_ and _valid_ XML

* The capabilities of KML for providing both data and representation information for geospatially referenced data. 

* The request-response model for OGC WMS, including the required and optional request parameters for the _GetCapabilities_, _GetMap_, and _GetFeatureInfo_ requests; and the response types generated in response to those requests. 

* A general familiarity with the linkage between the WMS and KML standards 

## Key Concepts ##

* XML as a general standard for structured data exchange, with DTDs and Schemas defining application specific data models

* KML as a data and representation standard for delivery of geospatial data and symbolization information into client applications, both desktop and web-based. 

* WMS as a geospatial data visualization standard for providing online access to map images in a variety of formats for integration into desktop and web-based mapping applications


## Lecture: XML, KML, and WMS [lecture06-section] ##

[Presentation Slides][Lecture06]

<iframe width="640" height="480" src="http://www.youtube.com/embed/UK8O2F0Pm2U?rel=0" frameborder="0" allowfullscreen="True "></iframe>


<div class="slides title" >

# Module 4.1 - Interoperability Standards - WMS, KML, and XML #

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>



<div class="slides" >

### Outline ###

* Extensible Markup Language - XML

Definition of a markup language

Requirements

Extensible ???

* KML - AKA Keyhole Markup Language

An XML Document Format

Combined representation of spatial data and time

* OGC Web Map Services (WMS)

Requests and Results

GetCapabilities, GetMap, GetFeatureInfo

* Integration of WMS into KML

</div>

<div class="slides" >

## Extensible Markup Language - XML ##

<div class="right-half" >

<img class="fit-width" src="images/sgml_xml.png" />

</div>

* Defined as a markup language profile of Standard Generalized Markup Language (SGML - ISO 8879:1986)

* XML 1.0 released as a W3C Recommendation in 1998

currently in 5th edition, released in 2008

version 1.1 released in 2004, but not broadly used

XML 1.0 (5th ed.) Recommendation: [http://www.w3.org/TR/2008/REC-xml-20081126/](http://www.w3.org/TR/2008/REC-xml-20081126/)

</div>

<div class="slides" >

### XML Design Goals ###

* XML shall be straightforwardly usable over the Internet.

* XML shall support a wide variety of applications.

* XML shall be compatible with SGML.

* It shall be easy to write programs which process XML documents.

* The number of optional features in XML is to be kept to the absolute minimum, ideally zero.

* XML documents should be human-legible and reasonably clear.


</div>

<div class="slides" >

### XML Design Goals - cont. ###


* The XML design should be prepared quickly.

* The design of XML shall be formal and concise.

* XML documents shall be easy to create.

* Terseness in XML markup is of minimal importance.

From XML 1.0 (5th ed.) Recommendation: [http://www.w3.org/TR/2008/REC-xml-20081126/](http://www.w3.org/TR/2008/REC-xml-20081126/)

</div>

<div class="slides" >

### XML Structure - Well Formed / Valid ###

* Well Formed XML - a document that conforms to the structural definition of XML. Either well-formed, or not XML

* Valid XML - a document that is both well-formed and conforms to a specific content structure defined by

A Document Type Definition (DTD) - the original XML specification for the definition of the content of a specific XML document

A Schema document - defined in a variety of languages (e.g. W3C Schema, RELAX NG, Schematron, ISO DSDL, etc.)

XML Wikipedia Article: [http://en.wikipedia.org/wiki/XML](http://en.wikipedia.org/wiki/XML)

</div>

<div class="slides" >

### Simple XML Document ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

XML Source (modified from original):  [http://www.w3schools.com/XML/note.xml](http://www.w3schools.com/XML/note.xml)

</div>

<div class="slides" >

### Simple XML Document - Prolog ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

Includes XML Declaration and Comment

</div>

<div class="slides" >

### Simple XML Document - Elements ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

Define blocks of content

</div>

<div class="slides" >

### Simple XML Document - Root Element ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

* Required
* There is only one
* It must be a pair of opening and closing tags

</div>

<div class="slides" >

### Simple XML Document - Content Elements ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

* Contain all other document content
* May be paired opening and closing tags, _or_
* May be self-closing with a terminal "/" in the element, e.g. `<br />`

</div>

<div class="slides" >

### Simple XML Document - Attributes ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

Define additional information about elements

</div>

<div class="slides" >

### Simple XML Document - Element Content ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

The material contained between the opening and closing tags of an _Element_. 

</div>

<div class="slides" >

### Simple XML Document - Valid? ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<!-- Edited by XMLSpy® -->
	<note>
		<to>Tove</to>
		<from>Jani</from>
		<heading>Reminder</heading>
		<body type="instruction" >Don't forget me this weekend!</body>
	</note>

Why is this XML _well-formed_ but not _valid_?

</div>

<div class="slides" >

### Common XML Constructs That Will be Encountered ###

Document Type Declaration (DTD) references (PROLOG)
: definition, either by reference or by direct inclusion, the allowed structure of an XML document, for example: 

	<!DOCTYPE greeting SYSTEM "hello.dtd">


CDATA Sections
: blocks of XML that contain characters that would otherwise be recognized as XML markup, for example: 

	<![CDATA[<greeting>Hello, world!</greeting>]]>


</div>


<div class="slides" >

### Common XML Constructs That Will be Encountered - cont. ###


XML Namespace Declarations
: additional information included in elements to distinguish between duplicate element names, for example: 

	<root 
		xmlns:h="http://www.w3.org/TR/html4/" 
		xmlns:f="http://www.w3schools.com/furniture">
	
	<h:table>
		<h:tr>
			<h:td>Apples</h:td>
			<h:td>Bananas</h:td>
		</h:tr>
	</h:table>
	<f:table>
		<f:legs>4</f:legs>
		<f:cost>300</f:cost>
		<f:width>3</f:width>
		<f:length>5</f:length>
		<f:height>4</f:height>
	</f:table>
	</root>

</div>

<div class="slides" >

## KML ##

* An XML grammar originally developed as Keyhole Markup Language by Keyhole, Inc. for use in their Keyhole Earth Viewer. 

* Google acquired Keyhole, Inc. in 2004 

* KML version 2.2 became an OGC standard in 2008

* Two delivered KML file formats

KML
: an XML document, with a “.kml” extension that is directly readable and editable

KMZ
: a compressed (zipped) file with a “.kmz” extension, that contains at least a KML document, but may contain other files as well

</div>

<div class="slides" >

### KML Capabilities ###

* Annotate the Earth

* Specify icons and labels to identify locations on the surface of the planet

* Create different camera positions to define unique views for KML features

* Define image overlays to attach to the ground or screen

* Define styles to specify KML feature appearance

</div>


<div class="slides" >

### KML Capabilities - cont. ###

* Write HTML descriptions of KML features, including hyperlinks and embedded images

* Organize KML features into hierarchies

* Locate and update retrieved KML documents from local or remote network locations

* Define the location and orientation of textured 3D objects

</div>

<div class="slides" >

### KML Content ###

* Model for encoding 2- and 3-dimensional geometries for use in 2-D mappers and 3-D virtual globe applications

Uses latitude-longitude (based upon WGS84 datum) for encoding horizontal position

Represents altitude in Meters (based upon the WGS84 ellipsoid and EGM96 geoid)

</div>

<div class="slides" >

### 2D and 3D KML Sample ###

<div class="right-half" >

<img class="fill-width" src="images/kmlExample.png" />

</div>

	<kml xmlns="http://www.opengis.net/kml/2.2">
	<Document>
		<Placemark>
			<Polygon>
				<altitudeMode>
					clampToGround
				</altitudeMode>
				<outerBoundaryIs>
					<LinearRing>
          				<coordinates>
							-135,78.5,300000 
							-135,12.5,300000 
							-45,12.5,300000 
							-45,78.5,300000 
							-135,78.5,300000
						</coordinates>
        			</LinearRing>
      			</outerBoundaryIs>
    		</Polygon>
  		</Placemark>
	</Document>
	</kml>

[KML Example](examples/kmlExample.kml)

Example from: KML 2.2 Specification (fig. 6): [https://portal.opengeospatial.org/files/?artifact_id=27810l](https://portal.opengeospatial.org/files/?artifact_id=27810l)

</div>

<div class="slides" >

### High-Level KML Content Types ###

Features
: including documents, folders, placemarks, network links

Geometries
: including points, linestrings, polygons, models, locations

Overlays
: including ground overlays, lat-lon boxes, photo overlays, screen overlays

Styles
: styles, substyles, icons, label styles

</div>

<div class="slides" >

### High-Level KML Content Types - cont. ###

Links
: read, update, create, delete, change

Views
: camera, look at

Time
: time span, timestamp

</div>

<div class="slides" >

### KML Demonstration and References ###

New Mexico State Boundary KMZ File ([from NM RGIS](http://rgis.unm.edu/gstore/datasets/107046.kmz))

New Mexico State Boundary KMZ File [viewed in Google Maps](http://maps.google.com/maps?q=http://rgis.unm.edu/gstore/datasets/107046.kmz)

[Google Code KML Documentation](http://code.google.com/apis/kml/documentation/)

[OGC KML Implementation specification](http://www.opengeospatial.org/standards/kml)

</div>



<div class="slides" >

## OGC Web Map Services ##

* Open Geospatial Consortium standard for requesting 

Service Metadata (`GetCapabilities`) - an XML file representing information about a specific WMS service and its component layers

Map Images (`GetMap`) - graphic files representing one or more layers from a single WMS service for a specified area of interest, and, optionally, for a specified point in time

Feature Information (`GetFeatureInfo`) - a basic representation (in a variety of formats) of the attributes associated with a specific pixel location in a map image

* A WMS will return to the requesting system one of the above products OR an error message (in XML by default)

* Related [Style Layer Descriptor](http://www.opengeospatial.org/standards/sld) standard supports dynamic updating of visualization options

* [OGC WMS Documentation Access Page](http://www.opengeospatial.org/standards/wms)

</div>

<div class="slides" >

### WMS GetCapabilities Request ###


|		| Required/Optional		||||	|
|	Request Parameter	| 1.0 | 1.1 | 1.1.1 | 1.3.0 	| Description 	|
| ------------------------	| --- | --- | ----- | ------	| --------------------------------------------	|
| WMTVER=1.0.0 	| R	|	|	|	| Request version	|
| VERSION=version 	| 	| O	| O	| O	| Request version 	|
| SERVICE=WMS 	| R	| R	| R	| R	| Service type  	|
| REQUEST=capabilities 	| R	| 	|	|	| Request name	|
| REQUEST=GetCapabilities 	| 	| R	| R	| R	| Request name 	|
| UPDATESEQUENCE=string	| 	| O	| O	| O	| Sequence number or string for cache control 	|
| Vendor-specific parameters 	| O	| 	| 	| 	| Vendor-specific parameters	|


</div>

<div class="slides" >

### WMS GetMap Request (Core) ###


|		| Required/Optional		||||	|
|	Request Parameter	| 1.0 | 1.1 | 1.1.1 | 1.3.0 	| Description 	|
| ------------------------	| --- | --- | ----- | ------	| --------------------------------------------	|
| WMTVER=1.0.0	| R	|	|	|	| Request version	|
| VERSION=version	| 	| R	| R	| R	| Request version. 	|
| REQUEST=map	| R	| 	|	|	| Request name. 	|
| REQUEST=GetMap	| 	| R	| R	| R	| Request name. 	|
| LAYERS=layer_list	| R	| R	| R	| R	| Comma-separated list of one or more map layers.  Optional (ver. 1.1, 1.1.1) if SLD parameter is present. 	|
| STYLES=style_list	| R	| R	| R	| R	| Comma-separated list of one rendering style per requested layer. Optional if SLD parameter is present. 	|
| SRS=namespace:identifier	| R	| R	| R	| 	| Spatial Reference System. 	|
| CRS=namespace:identifier	|	|	|	| R	| Spatial Reference System. 	|
| BBOX=minx,miny,maxx,maxy	| R	| R	| R	| R	| Bounding box corners (lower left, upper right) in SRS units. 	|
| WIDTH=output_width	| R	| R	| R	| R	| Width in pixels of map picture. 	|


</div>


<div class="slides" >

### WMS GetMap Request (Core) - cont. ###


|		| Required/Optional		||||	|
|	Request Parameter	| 1.0 | 1.1 | 1.1.1 | 1.3.0 	| Description 	|
| ------------------------	| --- | --- | ----- | ------	| --------------------------------------------	|
| HEIGHT=output_height	| R	| R	| R	| R	| Height in pixels of map picture. 	|
| FORMAT=output_format	| R	| R	| R	| R	| Output format of map. 	|
| TRANSPARENT=TRUE or FALSE	| O	| O	| O	| O	| Background transparency of map (default=FALSE). 	|
| BGCOLOR=color_value	| O	| O	| O	| O	| Hexadecimal red-green-blue color value for the background color (default=0xFFFFFF). 	|
| EXCEPTIONS=exception_format	| O	| O	| O	| O	| The format in which exceptions are to be reported by the WMS (default=XML). 	|
| TIME=time	| 	| O	| O	| O	| Time value of layer desired. 	|
| ELEVATION=elevation	| 	| O	| O	| O	| Elevation of layer desired. 	|
| Other sample dimensions	| 	| O	| O	| O	| Values of other dimensions as appropriate. 	|
| Vendor specific parameters	| O	| O	| O	| O	| Vendor specific parameters	|


</div>

<div class="slides" >

### WMS GetFeatureInfo Request ###


|		| Required/Optional		||||	|
|	Request Parameter	| 1.0 | 1.1 | 1.1.1 | 1.3.0 	| Description 	|
| ------------------------	| --- | --- | ----- | ------	| --------------------------------------------	|
| WMTVER=1.0.0	| R	|	|	|	| Request version. 	|
| VERSION=version	|	| R	| R	| R	| Request version. 	|
| REQUEST=feature_info	| R	|	|	|	| Request name. 	|
| REQUEST=GetFeatureInfo	|	| R	| R	| R	| Request name. 	|
| `<map_request_copy>`	| R	| R	| R	| R	| Partial copy of the Map request parameters that generated the map for which information is desired. 	|
| QUERY_LAYERS=layer_list	| R	| R	| R	| R	| Comma-separated list of one or more layers to be queried. 	|
| INFO_FORMAT=output_format	| O	| O	| O	| R	| Return format of feature information (MIME type). 	|
| FEATURE_COUNT=number	| O	| O	| O	| O	| Number of features about which to return information (default=1). 	|


</div>

<div class="slides" >

### WMS GetFeatureInfo Request - cont. ###


|		| Required/Optional		||||	|
|	Request Parameter	| 1.0 | 1.1 | 1.1.1 | 1.3.0 	| Description 	|
| ------------------------	| --- | --- | ----- | ------	| --------------------------------------------	|
| X=pixel_column	| R	| R	| R	| 	| X coordinate in pixels of feature (measured from upper left corner=0) 	|
| I=pixel_column	| 	|	|	| R	| i coordinate in pixels of feature in Map CS 	|
| Y=pixel_row	| R	| R	| R	| 	| Y coordinate in pixels of feature (measured from upper left corner=0) 	|
| J=pixel_row	| 	|	|	| R	| j coordinate in pixels of feature in Map CS 	|
| EXCEPTIONS=exception_format	| 	| O	| O	| O	| The format in which exceptions are to be reported by the WMS (default=XML). 	|
| Vendor-specific parameters	| O	| O	| O	| 	| Optional experimental parameters. 	|


</div>

<div class="slides" >

### WMS Sample Requests - GetCapabilities ###

	http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?
		VERSION=1.1.1&
		SERVICE=WMS&
		REQUEST=GetCapabilities

[Live Link](http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetCapabilities)

<iframe class="pagebox" src="http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetCapabilities">Your browser does not support an embedded web page. Click <a href="http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetCapabilities">here</a> to view the referenced page</iframe>

</div>

<div class="slides" >

### WMS Sample Requests - GetMap ###

<div class="right-half" >

<img class="fit-width" src="http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetMap&amp;BBOX=-109,31,-102.9,37.1&amp;LAYERS=tl_2010_35_state10&amp;WIDTH=200&amp;HEIGHT=200&amp;SRS=EPSG:4326&amp;FORMAT=image/jpeg&amp;STYLES=" />

<img class="fit-width" src="http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-109,31,-102.9,37.1&LAYERS=tl_2010_35_state10&WIDTH=300&HEIGHT=300&SRS=EPSG:4326&TRANSPARENT=TRUE&FORMAT=image/png&STYLES=" />

</div>

	http://gstore.unm.edu/apps/rgis/
	datasets/107046/services/ogc/wms?
		VERSION=1.1.1&
		SERVICE=WMS&
		REQUEST=GetMap&
		BBOX=-109,31,-102.9,37.1&
		LAYERS=tl_2010_35_state10&
		WIDTH=200&
		HEIGHT=200&
		SRS=EPSG:4326&
		FORMAT=image/jpeg&
		STYLES=

	http://gstore.unm.edu/apps/rgis/
	datasets/107046/services/ogc/wms?
		VERSION=1.1.1&
		SERVICE=WMS&
		REQUEST=GetMap&
		BBOX=-109,31,-102.9,37.1&
		LAYERS=tl_2010_35_state10&
		WIDTH=300&
		HEIGHT=300&
		SRS=EPSG:4326&
		TRANSPARENT=TRUE&
		FORMAT=image/png&
		STYLES=

[Live Link 1](http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetMap&amp;BBOX=-109,31,-102.9,37.1&amp;LAYERS=tl_2010_35_state10&amp;WIDTH=200&amp;HEIGHT=200&amp;SRS=EPSG:4326&amp;FORMAT=image/jpeg&amp;STYLES=)
[Live Link 2](http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-109,31,-102.9,37.1&LAYERS=tl_2010_35_state10&WIDTH=300&HEIGHT=300&SRS=EPSG:4326&TRANSPARENT=TRUE&FORMAT=image/png&STYLES=)

</div>

<div class="slides" >

### Integraton of WMS and KML ###

* The KML GroundOverlay element may be used to integrate a network accessible map image into a client

* A WMS service may be used to as the source of a KML GroundOverlay element

KML includes parameterizations that allow for dynamic generation of WMS requests using client bounding box information

Time-enabled WMS may be accessed through use of manually configured time parameters in WMS URLs and TimeStamp or TimeSpan KML elements

</div>

<div class="slides" >

### Sample WMS-KML Integration ###

	<?xml version="1.0" encoding="UTF-8"?>
	<kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2" 
		xmlns:kml="http://www.opengis.net/kml/2.2" xmlns:atom="http://www.w3.org/2005/Atom">
		<GroundOverlay>
			<name>RGIS Counties WMS</name>
			<Icon>
				<href>http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wms?
				VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetMap&amp;BBOX=-109,31,-102.9,37.1
				&amp;LAYERS=tl_2010_35_state10&amp;WIDTH=800&amp;HEIGHT=800&amp;SRS=EPSG:4326
				&amp;FORMAT=image/png&amp;STYLES=</href>
				<viewRefreshMode>onStop</viewRefreshMode>
			</Icon>
			<LatLonBox>
				<north>37.32753828398865</north>
				<south>30.86418272137246</south>
				<east>-101.3630220689848</east>
				<west>-110.6891149310152</west>
			</LatLonBox>
		</GroundOverlay>
	</kml>

[Sample KML File](examples/kmlWMS.kml)

</div>

## Lab Assignment: WMS & KML  [lab06] ##

As with the previous lab assignments, please submit your assignment as a web page that is linked from your class home page, with the direct link to your web page submitted through WebCT.

There are a large number of WMS services available on the web. One way to find interesting services is to search for them using standard search engines such as Google. Try searching for the following search phrase: 

	“REQUEST=GetCapabilities” and “SERVICE=WMS”

as a single search phrase

Question 1
: What search engine did you use?

Question 2
: How many ‘hits’ did you get?

Question 3
: How useful (generally in terms of getting a pointers to live WMS services [defined as a functioning GetCapabilities request]) were the ‘hits’?

Pick two of the services that you found above, and answer the following questions about each.

Question 4 (service #1)
: What is the URL for the full GetCapabilities request to the service?
: What is the Name of the service?
: What Format(s) are available for GetMap requests from the service?
: How many layers are included in the service?

Question 4 (service #2)
: What is the URL for the full GetCapabilities request to the service?
: What is the Name of the service?
: What Format(s) are available for GetMap requests from the service?
: How many layers are included in the service?


Question 5: For one of the layers in the first service, 
: What is the name of the layer?
: What is the SRS of the layer?
: What is the name of the projection that matches the SRS EPSG code?
: What is the LatLonBoundingBox of the layer?

Open the following GetCapabilities request in your browser. Select “View Source” from the browser menu to see the delivered XML document (it may appear as an unformatted string of text by default in your browser). Use the information in the XML capabilities document to formulate GetMap requests for the following map images. Include the requests and resulting images in your write-up.

[http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetCapabilities](http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetCapabilities)

Question 6
: for the area surrounding Bernalillo County (-107.2,34.7,-106,35.25) as a 200x200 pixel JPEG
: for the same area as a 500x500 pixel PNG

Open the following (linked) KMZ file in Google Earth, uncompress it, and save the contained KML file on your computer. Open the KML file in a text editor (e.g. TextEdit [Mac], Notepad/Notepad++ [Windows]). 

Question 7
: Add a second _Placemark_ element to the KML file that represents a _square_ region that is completely contained within the state boundary. Save the KML file and open it in Google Earth (download from http://www.google.com/earth/index.html) or view it in Google Maps (by saving the file in your public_html directory on the class server and accessing it from the Google Maps web interface) as demonstrated in the lecture to verify that you have successfully created the file. Submit the KML file (as a link in your writeup) as part of your writeup for the lab. 

[http://rgis.unm.edu/gstore/datasets/52206.kml](http://rgis.unm.edu/gstore/datasets/52206.kml)

## Homework Assignment: OGC Service Concepts [Homework02]##

Question 1
: What request type is common across all three (WMS, WFS, WCS) OGC web services that we have learned about?

Answer the following questions about a WMS GetCapabilities request

Question 2
: What are the required parameters, and what do they represent?
: What is returned in response to a WMS GetCapabilities request?

Answer the following questions about a WMS GetMap request

Question 3
: What are the required parameters, and what do they represent?
: What is returned in response to a WMS GetMap request?
: What is the significance of transparency in WMS requests?

Question 4
: What OGC request would you use to inform the configuration of a client application (like ArcGIS) about an OGC service that you want to add layers from?

Which OGC request would you submit under the following circumstances (include both the service type [e.g. WMS, WFS, WCS], and the request [e.g. GetMap, GetCapabilities, GetCoverage, etc.] in your answer)

Question 5
: You want a map image representing three layers of data in a single JPEG for a specified area of interest. 
: You want to retrieve data representing geometries and associated attributes for a road network, with the returned data in GML.
: You want to retrieve data representing a digital elevation model (a raster dataset) in the form of a GeoTIFF.

Question 6 - What are the EPSG codes of the following Spatial Reference Systems
: WGS 84 (Geodetic CRS [geographic 2d])
: NAD83 / UTM zone 13N
: NAD27 / UTM zone 13N

Use the `cs2cs` utility to convert the following WGS84 Geographic Coordinates into UTM Zone 13, NAD83 coordinates. Include your `cs2cs` command and output in your writeup. 

Question 7
: 33°40’38”N, 106°28’31”W (the Trinity Site)
: 35°47’18”N, 106°18’04”W (the Bandelier National Monument Historic Marker)

Retrieve the GetCapabilities XML response from the following WMS, and answer the following questions.
 [http://gstore.unm.edu/apps/rgis/datasets/100157/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetCapabilities](http://gstore.unm.edu/apps/rgis/datasets/100157/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetCapabilities)

Question 8
: What is the Title of the service?
: Who is the Contact Person for questions about the service?
: What are the available image formats for the GetMap request for this service?
: What are the SRS/CRS’s for which layers from this service are available (remember that nested layers inherit the SRS/CRS of their parent layers). 

Question 9
: Formulate a GetMap request for the “naip2009rtindex_idx” and “naip2009rtindex” layers from this service, for a 500x500 pixel map image that is 0.05-degrees wide and 0.05-degress high, with the SW corner of the map image located at  35°N and -106°E. Include in your write-up the complete GetMap request and the returned map image.  

<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 4.2 - Interoperability Standards - WFS & WCS #

</div>



<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Interoperability Standards - WFS & WCS  [![][arrow]][lecture07-section]

## This Week's Reading ##

* _For Reference_

[OGC WFS Implementation Specification][wfs]

[OGC WCS Implementation Specification][wcs]


## Lab Assignment ##

* WMS and KML in Google Earth [![][arrow]][lab07]

## Homework Assignment ##

* none

</div>

## Background ##

This week's class focuses on two other key Open Geospatial Consortium standards that were created to enable access to geospatial _data_ of a variety of types. 

Web Feature Service (WFS)
: A standard designed for providing on-demand access to features (typically points, lines, and polygons and more complex combinations of these feature types) and their associated attributes, in a variety of formats, and optionally filtered by spatial and other query parameters. 

Web Coverage Services (WCS)
: A standard focused on providing access to _coverages_ representing a variety of data types, but particularly optimized for dynamic delivery of data based upon multi-dimensional gridded data. 

## Expected Outcomes ##

At the end of this class students should have an understanding of the following:

* The request-response model for OGC WFS, including the required and optional request parameters for the _GetCapabilities_, _DescribeFeatureType_, and _GetFeature_ requests; and the response types generated in response to those requests. 

* The request-response model for OGC WCS, including the required and optional request parameters for the _GetCapabilities_, _DescribeCoverage_, and _GetCoverage_ requests; and the response types generated in response to those requests. 

* An understanding of the distinction between WMS, WFS, and WCS for use in different usage scenarios (e.g. map images, vector, raster data access)  

## Key Concepts ##

* OGC WFS as a data access standard for _features_ and their attributes with support for a variety of query methods including spatial and parameter values. 

* OGC WCS as a data access standard for  _coverages_ representing spatio-temporal gridded data represented in 1- or more dimensions. 


## Lecture: Interoperability Standards - WFS & WCS  [lecture07-section] ##

[Presentation Slides][lecture07]

<iframe width="640" height="480" src="http://www.youtube.com/embed/u3t6GI6paaA?rel=0" frameborder="0" allowfullscreen="TRUE"></iframe>


<div class="slides title" >

# Module 4.2 - Interoperability Standards - WFS & WCS  #

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

### Outline ###

* OGC Web Feature Services (WFS)

Capabilities and purpose

Overview of the collection of WFS commands

Sample WFS requests

* OGC Web Coverage Services (WCS)

Capabilities and purpose

Overview of the collection of WCS commands

Sample WCS requests

</div>



<div class="slides" >

## OGC Web Feature Service (WFS) ##

The documents related to the OGC WFS standard are available from: [`http://www.opengeospatial.org/standards/wfs`](http://www.opengeospatial.org/standards/wfs) and all operation parameter tables presented here are based upon the [OpenGIS Web Feature Service 2.0 Interface Standard - Panagiotis (Peter) A. Vretanos, editor - 2010-11-02][wfs 2.0.0 document]

From the Version 2.0.0 WFS Scope Section:

> This International Standard specifies the behaviour of a service that provides transactions on and access to geographic features in a manner independent of the underlying data store. It specifies discovery operations, query operations, locking operations, transaction operations and operations to manage stored parameterized query expressions.

> Discovery operations allow the service to be interrogated to determine its capabilities and to retrieve the application schema that defines the feature types that the service offers.

> Query operations allow features or values of feature properties to be retrieved from the underlying data store based upon constraints, defined by the client, on feature properties.

> Locking operations allow exclusive access to features for the purpose of modifying or deleting features.

> Transaction operations allow features to be created, changed, replaced and deleted from the underlying data store.

> Stored query operations allow clients to create, drop, list and described parameterized query expressions that are stored by the server and can be repeatedly invoked using different parameter values.

</div>



<div class="slides" >

### WFS Requests/Operations ###

These request types are submitted as part of the required `REQUEST` key in a KVP HTTP GET request. 

GetCapabilities
: service metadata (XML) that documents the types of features supported by the service and the operations supported by each feature type

DescribeFeatureType
: metadata (XML) that describes the structure of supported feature types

GetPropertyValue
: a request for the value(s) of a specified property for a specified _featuretype_

GetFeature (GetFeatureWithLock)
: a request for actual features (XML, or other formats) from the service. The request may include both spatial and non-spatial query constraints

LockFeature
: Feature locking operation

</div>

<div class="slides" >

### WFS Requests/Operations - cont. ###

Transaction
: a request to a WFS that may create, update, or delete features

CreateStoredQuery
: a request to create a named WFS query that is stored on the server for future reuse

DropStoredQuery
: a request to remove a named WFS query that has previously been stored on the server

ListStoredQueries
: a request to retrieve a list of named WFS queries that have been stored on the server

DescribeStoredQueries
: a request for more detailed information about specific named WFS queries that are stored on the server

</div>


<div class="slides" >

### WFS Conformance Levels ###

WFS 2.0.0 Requests and their corresponding WFS Compliance Levels


|	| Version		|| 	Version 2.0.0 Conformance Class 		||||
| Operation (`REQUEST=`)	| 1.1.0	| 2.0.0	| Simple	| Basic 	| Transactional	| Locking	|
| :------------	| :----------:	| :---------:	| :----------:	| :---------:	| :----------------:	| :-----------:	|
| `GetCapabilities`	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `DescribeFeatureType`	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `ListStoredQueries`	|	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `DescribeStoredQueries`	|	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `GetFeature`	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `StoredQuery`	|	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `GetPropertyValue`	|	| ![][check-gray]	|	| ![][check-gray]	| ![][check-gray]	| ![][check-gray]	|
| `Transaction`	| ![][check-gray]	| ![][check-gray]	|	| 	| ![][check-gray]	| ![][check-gray]	|
| `GetFeatureWithLock`	| ![][check-gray]	| ![][check-gray]	|	| 	| 	| ![][check-gray]	|
| `LockFeature`	| ![][check-gray]	| ![][check-gray]	|	| 	| 	| ![][check-gray]	| 
| `GetGMLObject`	| ![][check-gray]	| 	|	| 	| 	| 	| 
 

</div>


<div class="slides" >

### Request Composition ###

Requests submitted to a WFS may be submitted either via 

HTTP GET
: a request that includes all request parameters within the URL submitted to the service. Request parameters are included in the URL as “key=value” pairs (KVPs)

HTTP POST
: a request where the URL consists of only the Host and path, with all other request parameters included in the body of the POST document submitted to the service. The request parameters supplied to the server are encoded as XML within the POST document. 

SOAP
: a request submitted as an encapsulated message within a SOAP transaction. 

Servers implementing WFS may support either the HTTP GET, POST, or SOAP request model

Conceptually FeatureType = Layer

</div>

<div class="slides" >

### KVP for base WFS Requests ###

Base request parameters for all HTTP GET KVP requests

![][WFS 2.0.0 Base KVP]

`VERSION` is required for all operations _except_ the `GetCapabilities` request

</div>

<div class="slides" >

### Sample GetCapabilities Requests ###

Sample request to USGS Framework Layers WFS Service linked from the USGS [Framework Web Feature Services web page](http://frameworkwfs.usgs.gov/) - [Live Link](http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&REQUEST=GetCapabilities&SERVICE=WFS)

	http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&
		REQUEST=GetCapabilities&
		SERVICE=WFS 



Sample request to NM RGIS (NM State Boundary) - [Live Link](http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wfs?VERSION=1.0.0&SERVICE=WFS&REQUEST=GetCapabilities)

	http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wfs?
		VERSION=1.0.0&
		SERVICE=WFS&
		REQUEST=GetCapabilities


</div>

<div class="slides" >

### KVP for DescribeFeatureType Request ###

`DescribeFeatureType` HTTP GET KVP request

![][WFS 2.0.0 DescribFeatureType KVP]

</div>

<div class="slides" >

### Sample DescribeFeatureType Requests ###

Sample WFS `DescribFeatureType` request to USGS Framework Layers WFS Service - [Live Link](http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&service=WFS&version=1.1.0&request=DescribeFeatureType&ouputFormat=GML3&typeName=GovernmentalUnitCE,GovernmentalUnitMCD,GovernmentalUnitRE,GovernmentalUnitST)

	http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&
		service=WFS&
		version=1.1.0&
		request=DescribeFeatureType&
		ouputFormat=GML3&
		typeName=GovernmentalUnitCE,GovernmentalUnitMCD,GovernmentalUnitRE,GovernmentalUnitST

Sample WFS `DescribeFeatureType` request to NM RGIS (State Boundary) Service - [Live Link](http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wfs?VERSION=1.0.0&SERVICE=WFS&REQUEST=DescribeFeatureType)

	http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wfs?
		VERSION=1.0.0&
		SERVICE=WFS&
		REQUEST=DescribeFeatureType

</div>

<div class="slides" >

### KVP for GetFeature Request ###

`GetFeature` HTTP GET KVP request

![][WFS 2.0.0 GetFeature KVP]

</div>


<div class="slides" >

### KVP for GetFeature Request - Presentation Parameters ###

![][WFS 2.0.0 GetFeature Presentation KVP]

</div>



<div class="slides" >

### KVP for GetFeature Request - Resolve Parameters ###

![][WFS 2.0.0 GetFeature Resolve KVP]

</div>



<div class="slides" >

### KVP for GetFeature Request - Adhoc Query Parameters ###

![][WFS 2.0.0 GetFeature Adhoc Query KVP]

</div>



<div class="slides" >

### KVP for GetFeature Request - Stored Query Parameters ###

![][WFS 2.0.0 GetFeature Stored Query KVP]

</div>



<div class="slides" >

### Sample GetFeature Request - USGS Framework WFS ###

Sample WFS `GetFeature` request to USGS Framework Layers WFS Service - [Live Link](http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&VERSION=1.1.0&SERVICE=WFS&REQUEST=GetFeature&TYPENAME=GovernmentalUnitCE)

_Note:_ `TYPENAME` for `VERSION=1.1.0` instead of `TYPENAMES` for `VERSION=2.0.0`

	http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&
		VERSION=1.1.0&
		SERVICE=WFS&
		REQUEST=GetFeature&
		TYPENAME=GovernmentalUnitCE

Alternative request [Live Link](http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&VERSION=1.1.0&SERVICE=WFS&REQUEST=GetFeature&TYPENAME=gubs:GovernmentalUnitCE&OUTPUTFORMAT=GML3L1) that includes an `OUTPUTFORMAT` parameter

	http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?DATASTORE=Framework&
		VERSION=1.1.0&
		SERVICE=WFS&
		REQUEST=GetFeature&
		TYPENAME=gubs:GovernmentalUnitCE&
		OUTPUTFORMAT=GML3L1


</div>

<div class="slides" >

### Sample GetFeature Request - NM RGIS WFS ###

Sample WFS `GetFeature` request to NM RGIS State BoundaryWFS Service - [Live Link](http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wfs?VERSION=1.0.0&SERVICE=WFS&REQUEST=GetFeature&TYPENAME=tl_2010_35_state10)

_Note_:  `TYPENAME` for `VERSION=1.0.0` instead of `TYPENAMES` for `VERSION=2.0.0`

	http://gstore.unm.edu/apps/rgis/datasets/107046/services/ogc/wfs?
		VERSION=1.0.0&
		SERVICE=WFS&
		REQUEST=GetFeature&
		TYPENAME=tl_2010_35_state10

</div>

<div class="slides" >

## OGC Web Coverage Service (WCS) ##

The documents related to the OGC WCS standard are available from: [http://www.opengeospatial.org/standards/wcs][wcs] with the sample parameters in the following slides based upon the [_OGC Web Coverage Service 2.0 Interface Standard - KVP Protocol Binding Extension_ - Peter Baumann, editor - 2010-10-27][wcs 2.0 GET KVP]

From the OGC WCS 2.0 _Introduction_

> The OGC Web Coverage Service (WCS) supports electronic retrieval of geospatial data as "coverages" – that is, digital geospatial information representing space/time-varying phe-nomena.

> This document specifies the WCS core; every implementation of a WCS shall adhere to this standard. This standard thus defines only basic requirements. Extensions to the core will define extensions to meet additional requirements, such as the response encoding. Indeed, additional extensions are required in order to completely specify a WCS for implementation.

> A WCS provides access to coverage data in forms that are useful for client-side rendering, as input into scientific models, and for other clients. The WCS may be compared to the OGC Web Feature Service (WFS) and the Web Map Service (WMS). As WMS and WFS service instances, a WCS allows clients to choose portions of a server's information holdings based on spatial constraints and other query criteria.



</div>


<div class="slides" >

### WCS Requests/Operations ###

GetCapabilities
: service metadata (XML) that documents the service, including brief information about the data coverages available from the service

DescribeCoverage
: a request for more detailed metadata (XML) for one or more coverages listed in the output of the GetCapabilities request

GetCoverage
: a request for an actual data product representing a specified coverage. The specific data formats available for delivery will vary from service to service.

</div>


<div class="slides" >

### Request Composition ###

Requests submitted to a WCS may be submitted either via the following protocols, as defined in the three extensions developed thus far for the _core_ WCS standard. 

HTTP GET
: a request that includes all request parameters within the URL submitted to the service. Request parameters are included in the URL as “name=value” pairs. [Extension Link][wcs 2.0 GET KVP]

HTTP POST
: a request where the URL consists of only the Host and path, with all other request parameters included in the body of the POST document submitted to the service. The request parameters supplied to the server are encoded as XML within the POST document. [Extension Link][wcs 2.0 POST]

XML/SOAP
: a request-response model between the client that conforms with the W3C SOAP web services protocol [Extension Link][wcs 2.0 SOAP]

</div>

<div class="slides" >

### KVP for base WCS Requests ###

| Name	| Mandatory/Optional 	| Definition	| Data Type	|
| ---------------	| :-----------------:	| ------------	| ---------	|
| service	| M	| Identifier of the OGC service	| `String`, fixed to "WCS"	| 
| request	| M	| Request type name	| `String`, set to operation name	|
| version	| M (except for GetCapabilities)	| Request protocol version	| `String`	|

</div>

<div class="slides" >

### Sample GetCapabilities Request ###

Sample WCS `GetCapabilities` request for the NSIDC Atlas of the Cryosphere [Northern Hemisphere](http://geossregistries.info/geosspub/service_details_ns.jsp?serviceId=urn:uuid:cadb1301-d828-4837-80fb-ddbf4c3a80d6)  - [Live Link](http://nsidc.org/cgi-bin/atlas_north?service=WCS&request=GetCapabilities)

	http://nsidc.org/cgi-bin/atlas_north?
		service=WCS&
		request=GetCapabilities


</div>

<div class="slides" >

### KVP for DescribeCoverage Request ###

`DescribeCoverage` HTTP GET KVP request

![][WCS 2.0 DescribeCoverage KVP]

</div>

<div class="slides" >

### Sample DescribeCoverage Request ###

Sample WCS `DescribeCoverage` request for the NSIDC Atlas of the Cryosphere [Northern Hemisphere](http://geossregistries.info/geosspub/service_details_ns.jsp?serviceId=urn:uuid:cadb1301-d828-4837-80fb-ddbf4c3a80d6)  - [Live Link](http://nsidc.org/cgi-bin/atlas_north?service=WCS&request=DescribeCoverage&VERSION=1.1.1&COVERAGE=snow_extent_01)

Note: WCS `VERSION=1.1.1` parameter name difference: `COVERAGE=` in 1.0.0 instead of `coverageid=` in 2.0.0. 

	http://nsidc.org/cgi-bin/atlas_north?
		service=WCS&
		request=DescribeCoverage&
		VERSION=1.1.1&
		COVERAGE=snow_extent_01


</div>

<div class="slides" >

### KVP for GetCoverage Request ###

`GetCoverage` HTTP GET KVP request

![][WCS 2.0 GetCoverage KVP]

</div>

<div class="slides" >

### Subset Definition for GetCoverage Request ###

Subset definition for the `GetCoverage` HTTP GET KVP request

![][WCS 2.0 Requirement 7]

Example from the 2.0 specification:

	http://www.myserver.org:port/path?
		service=WCS
		&version=2.0
		&request=GetCoverage
		&coverageId=C0002
		&subset=lon,http://www.opengis.net/def/crs/EPSG/0/4326(-71,47)
		&subset=lat,http://www.opengis.net/def/crs/EPSG/0/4326(-66,51)
		&subset=t,http://www.opengis.net/def/trs/ISO- 8601/0/Gregorian+UTC("2009-11-06T23:20:52Z")

</div>

<div class="slides" >

### Sample GetCoverage Request ###

Sample WCS `DescribeCoverage` request for the NSIDC Atlas of the Cryosphere [Northern Hemisphere](http://geossregistries.info/geosspub/service_details_ns.jsp?serviceId=urn:uuid:cadb1301-d828-4837-80fb-ddbf4c3a80d6)  - [Live Link](http://nsidc.org/cgi-bin/atlas_north?service=WCS&request=DescribeCoverage&VERSION=1.1.1&COVERAGE=snow_extent_01)

Note: WCS multiple differences between the `VERSION=1.1.1` parameter names and definitions from 2.0.0. 


	http://nsidc.org/cgi-bin/atlas_north?
		service=WCS&
		request=GetCoverage&
		VERSION=1.1.1&
		COVERAGE=snow_extent_01&
		CRS=urn:ogc:def:crs:EPSG::4326&
		BBOX=-179.855268310333,-89.3181405304869,178.996024534873,89.5930272089838&
		FORMAT=image/tiff&
		WIDTH=1000&
		HEIGHT=1000

</div>

## Lab Assignment: WMS and KML in Google Earth [lab07] ##


You might have noticed in the WMS requests that you generated in the previous lab returned images that didn’t look “quite right” relative to what you may know of the shape of familiar features. 

For example, a WMS request for a 200x200 pixel image for an area surrounding Bernalillo County (-107.2,34.7,-106,35.25) from the previous lab would be:

	http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?
	VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-107.2,34.7,-106,35.25&
	LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&
	SRS=EPSG:4326&WIDTH=200&HEIGHT=200

<img src="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-107.2,34.7,-106,35.25&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=200&HEIGHT=200" />

this request results in a map image that does not agree with the standard shape of Bernalillo county (depicted in the Google Map below) that we are accustomed to, regardless of the specific map projection being used.
	
[![][google map - bernalillo county]](http://g.co/maps/sc688)

This discrepancy is the result of a difference in the aspect ratio of the requested BBOX (-107.2,34.7,-106,35.25) and the requested image dimensions (200x200 pixels). _When you compose a WMS GetMap request, you need to make sure that the aspect ratio of both the image size and BBOX match._ 

For example, if we calculate the aspect ratio of the BBOX we obtain the following values (remember that the BBOX is specified as a comma separated list of x,y coordinates: minx,miny,maxx,maxy):

	BBOX width = (maxx) - (minx) = (-106) - (-107.2) = 1.2 degrees
	BBOX height = (maxy) - (miny) = (35.25) - (34.7) = 0.55 degrees
	BBOX aspect ratio = (BBOX width) / (BBOX height) = (1.2) / (0.55) = 2.1818

If we want to retrieve a map image that is 200 pixels wide, we need to calculate an image height that yields an aspect ratio that matches the BBOX aspect ratio. Harking back to basic algebra:

	width = 200
	aspect ratio = width / height = 200 / height = 2.1818
	height = (height) / (aspect ratio) = 200 / 2.1818 = 91.667

So, if we request an image that is 200x92 (we have to request pixel dimensions in integers, so rounding to the nearest integer) we should get a representation that closely approximates the proper shape of features. The modified WMS request with the new images size is the following:

	http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?
	VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-107.2,34.7,-106,35.25&
	LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&
	SRS=EPSG:4326&WIDTH=200&HEIGHT=92

<img src="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-107.2,34.7,-106,35.25&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=200&HEIGHT=92" />

This process may be reversed to request images of a fixed size for use in a client interface, with the requested BBOX modified to match the aspect ratio of the target image. If, for example, images are being requested for a client interface with a fixed map size of 600x400 pixels, a corresponding BBOX can be derived using the same calculation. 

If, for example, the area of interest for a map is 2 degrees wide, we can calculate the target height (in degrees) using the aspect ratio of the desired image.

	image aspect ratio = (width) / (height) = (600) / (400) = 1.5
	BBOX aspect ratio = (width) / (height) = (2) / (height in degrees) = 1.5
	BBOX height = (width) / BBOX aspect ratio = (2) / (1.5) = 1.3333

If our area of interest extends from -106 to -108 degrees East Longitude, we can use the known target height of 1.3333 to generate a WMS BBOX  of the appropriate aspect ratio. If the minimum Latitude of interest is 34.7 degrees North Latitude, the maximum BBOX Y value would be 

	BBOX Max Y = (BBOX Min Y) + (BBOX height) = (34.7) + (1.3333) = 36.0333

This set of calculations may be used to compose the following WMS request:

	http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?
	VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-108,34.7,-106,36.0333&
	LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&
	SRS=EPSG:4326&WIDTH=600&HEIGHT=400

<img src="http://gstore.unm.edu/apps/rgis/datasets/97810/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetMap&BBOX=-108,34.7,-106,36.0333&LAYERS=2007fe_35_county00&FORMAT=image/png&TRANSPARENT=TRUE&STYLES=&SRS=EPSG:4326&WIDTH=600&HEIGHT=400" />


Given that McKinley County NM is contained within the following BBOX: -109.5, 34.5, -106.5, 36.5

Question 1
: What is the aspect ratio of this geographic region?

Question 2
: What would be the height (in whole pixels) for a map image for this region that is 600 pixels wide?

Question 3
: Formulate a WMS request that reflects the values determined in 1.1 and 1.2 above for the WMS service used above in the examples. Include in your answer both the actual WMS request and the returned map image.
 
Question 4
: Formulate a WMS request for a 900x600 pixel map image that represents the full 3-degree width of the geographic region, and is based upon the minimum Y value of 34.5 degrees North Latitude. Include in your answer both the WMS request and the returned map image. 

Question 5
: Given a WMS that is represented by the following GetCapabilities request (the downloaded file will need to be manually opened in a text editor such as Notepad [Windows] or TextEdit [Mac]), formulate individual GetMap requests (using the same BBOX, WIDTH, and HEIGHT values that you used for Question 3 above) for each of the following layers: bmng2km, bmng500mA1, landsat,  and doqq05

[Link](http://edacwms.unm.edu/cgi-bin/mapfiles/edacimagery?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetCapabilities)

	http://edacwms.unm.edu/cgi-bin/mapfiles/edacimagery?
	SERVICE=WMS&VERSION=1.1.1&REQUEST=GetCapabilities  


Question 6
: Which layers return map images that display image content? 

Sometimes when WMS layers are accessed, there is a limit on the map scales for which the map image will be returned. If a request is submitted for a map scale that is outside the range specified for a given layer, typically, a blank map image will be returned. 

Questions 7
: From examining the information for these layers in the GetCapabilities XML document - which element in each layer’s service metadata do you think provides information about the scales for which the layer will return map images containing data?

You can effectively change the scale of a map image by changing the pixel dimensions of the requested image. 

Question 8
: Which map images contain data for each of the following map image widths (remember to adjust the image height to match the BBOX of the request)
: 100 pixels
: 1000 pixels

Below is a link to a KML file that includes a single GroundOverlay element that, in turn, contains a single Icon and href element that contains a WMS request (including all layers in the service in the “LAYERS” parameter) to the imagery service you worked with in question 2, above.

 [EDACImagery.kml](examples/EDACImagery.kml)	 

Open the supplied KML file in Google Earth and enable it by clicking the checkbox next to its name in the "Temporary Places" pane on the left side of the user interface. Zoom in over several steps to the intersection of Interstate 25 and 40 in Albuquerque. 


Question 9
: What do you notice as you stop zooming?

Question 10
: How does what you see relate to the scale dependencies that were highlighted in question 5-8 above?

Open the KML file in a text editor (like Notepad or TextEdit). Using the original GroundOverlay element and its content as a template, create new KML files, one for each layer in the original, with each of the multiple layers in the original file being the only one included in the Layers parameter of the WMS request in the href element (remember to rename the GroundOverlay element so that they can be distinguished in the legend).

Question 11
: What do you see in the map when you add the KML file depicting bmng2km to Google Earth and enable it? 

Question 12
: What happens when you change (by editing the KML file, saving the change, and re-adding the file to Google Earth) the image format in the KML WMS request from image/jpeg to image/png? If there is a change in what you see, why do you think it happens?

BONUS Question
: What WMS parameter(s) are missing from the href element in the GroundOverlay in the KML? Why do you think it/they are missing?



<div class="header" >

# Geography 485/585L Midterm Examination #

University of New Mexico, Geography Department - Spring 2012

Geography 485/585L: Internat Mapping (Online)

</div>


<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* None

## This Week's Reading ##

* None

## Lab Assignment ##

* None

## Homework Assignment ##

* None

</div>

## Due Wednesday, March 7, 2012 before 5:00 pm ##
_NO Late Examinations Will be Accepted - 0 pts will be given for late submissions_

Make sure to _clearly format_ your writeup so that your answer's are understandable.

100 pts

As with your lab and homework assignments - write up your midterm as a web page and submit the URL of your web page as your submission for the Midterm Exam "assignment".

Question 1
: Which command line utility would you use to determine the following (4 pts each)

The spatial extent of a GML file (choose one)?

* proj
* cs2cs
* gdalinfo
* ogrinfo

The spatial reference system of a raster file in the format of a GeoTIFF (choose one)?

* proj
* cs2cs
* gdalinfo
* ogrinfo

Question 2
: What combination of OGC Service and Request (e.g. SERVICE=WMS&REQUEST=GetFeatureInfo) would you use to perform the following? (3 pts each)

1. Determine the spatial extent of an available layer from a Web Map Service.
2. Obtain a list of coverages from a Web Coverage service.
3. Determine what file formats are supported by a Web Feature Service for the delivery of available data types (i.e. layers)
4. Retrieve a map image from a Web Map Service
5. Retrieve data from an available coverage from a Web Coverage Service 

Question 3
: Use the cs2cs command line utility to convert the following latitude-longitude coordinates (WGS84) to UTM, Zone 13N, NAD83 coordinates (5 pts each)

1. 35.2386477 North Latitude -107.6083868 East Longitude (Mount Taylor Summit)
2. 35.0839355 North Latitude -106.6191915 East Longitude (UNM)

Question 4
: Perform the following WMS GetCapabilities request [Link](http://SDMDataAccess.nrcs.usda.gov/Spatial/SDM.wms?SERVICE=wms&REQUEST=GetCapabilities)


	http://SDMDataAccess.nrcs.usda.gov/Spatial/SDM.wms?SERVICE=wms&REQUEST=GetCapabilities 


And answer the following questions (4 pts each)

1. What is the name of the service?
2. What file formats are supported by the GetMap request?
3. What are the names of the layers included in the service?

Question 5
: Compose a GetMap request for the WMS referenced in Question 4 that includes the following characteristics:

* JPEG image format
* 1200 pixels wide (you will need to calculate the height based upon the aspect ratio of the bounding box)
* Bounding Box (EPSG:4326): `Min X = -106.993 East Longitude, Min Y = 34.989 North Latitude, Max X = -106.243 East Longitude, Max Y = 35.489 North Latitude`
* Layer to be mapped = “SurveyAreaPoly”

Include in your answer both the complete WMS GetMap request and the resulting map image that is returned. (15 pts) 

Question 6
: From the XML GetCapabilities returned by the following WFS request [Link](http://ogi.state.ok.us/geoserver/wfs?VERSION=1.1.0&REQUEST=GetCapabilities&SERVICE=WFS) answer the following questions (4 pts each) 

	http://ogi.state.ok.us/geoserver/wfs?VERSION=1.1.0&REQUEST=GetCapabilities&SERVICE=WFS


1. What is the abstract for this service?
2. What file formats are supported by this service’s GetFeature request?
3. What is the DefaultSRS or the FeatureType named “ogi:quad100”?
4. What is the WGS84BoundingBox of the FeatureType named “ogi:quad100”?


Question 7
: From the XML GetCapabilities returned by the following WCS request [Link](http://sdf.ndbc.noaa.gov/thredds/wcs/hfradar_usegc_1km?request=GetCapabilities&version=1.0.0&service=WCS) answer the following questions (4 pts each)


	http://sdf.ndbc.noaa.gov/thredds/wcs/hfradar_usegc_1km?request=GetCapabilities&version=1.0.0&service=WCS


1. What is the description of this service?
2. How many coverages are available from this service?

Question 8a
: Formulate a complete DescribeCoverage request for the WCS service referenced in Question 7. _Provide the complete DescribeCoverage request and returned XML document in your response to this question_. (4 pts)

1. DescribeCoverage request and response

Question 8b
: From the returned XML document answer the following questions. (4 pts each)

1. What is the spatial domain for the ‘u‘ coverage?
2. What file formats are available for ‘u‘ data delivered by this service?
3. What SRS(s) are supported by this service for requested data delivery?

<div class="header" >

# Midterm Examination #

University of New Mexico, Geography Department - Spring 2012

Geography 485/585L: Internat Mapping (Online)

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>






<div class="header" >



<div class="classid">Geography 485/585L: Internet Mapping</div>



# Module 2.3 - Web-based Mapping Clients: OpenLayers Javascript Framework #

## Part 1 ##



</div> 




<div class="sidebar" >

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Lecture: Web Mapping Clients - OpenLayers [![][arrow]][lecture08-section]

## This Week's Reading ##

* OpenLayers Beginner's Guide: Chapters 1, 3, 5 (review for reference)

_Next Week's reading:_ OpenLayers Beginner's Guide: Chapters 4, 6, 7, 10 (review for reference)

## Lab Assignment ##

* OpenLayers Mapping [![][arrow]][lab08]

## Homework Assignment ##

* none

</div>


## Background ##

The Google Maps API provides one method for presenting an interactive mapping tool within a web browser, but there are restrictions for free use based upon Google's [license](https://developers.google.com/maps/licensing) agreement, and the API is completely controlled by Google - changes are limited to those that Google enables. The [OpenLayers](http://openlayers.org/) Javascript framework which (as quoted from the project home page)

> has been developed to further the use of geographic information of all kinds. OpenLayers is completely free, Open Source JavaScript, released under the 2-clause BSD License (also known as the FreeBSD).

Given its Open Source model, OpenLayers is managed as a community software project, with the development of specific capabilities driven by particular project or functionality needs that come out of the community. 

This week's class focuses on the basics of designing an OpenLayers interactive mapping client, including 

* The required structural (HTML) and behavioral (Javascript) components
* Examples of creating and adding layer objects to a map
* Examples of a variety of base maps that can be added to a map
* The controls that may be added to a map, and the methods for managing and positioning those controls

## Expected Outcomes ##

At the end of this class the students will be able to:

* Create a new web page that includes an interactive OpenLayers mapper
* Define one or more base map layers as part of the mapper
* Define an appropriate map center and zoom level for the desired map
* Enable and position controls within the map

 

## Key Concepts ##

At the end of this class students will understand that

* OpenLayers is a Javascript framework that enables web-based interactive mapping
* The OpenLayers framework supports the integration of a variety of proprietary and open source base map services
* Map size, center, zoom level, and layers may all be defined through the Javascript API
* A wide variety of map controls (informational and interactive) may be added to maps


## Lecture: Web Mapping Clients - OpenLayers [lecture08-section] ##

[Presentation Slides][lecture08]

<iframe width="640" height="480" src="http://www.youtube.com/embed/kWHbeFfXYn4?rel=0" frameborder="0" allowfullscreen="TRUE"></iframe>

<div class="slides title" >

# Module 2.3 - Web-based Mapping Clients: OpenLayers Javascript Framework#

## Part I ##

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

### Outline ###

* Capabilities

* OpenLayers = Javascript (by example)

</div>

<div class="slides" >

### OpenLayers Capabilities ###

* Support for Multiple basemaps: _Google_, _Yahoo_, _Bing_, _OpenStreetMap_

* Model for interaction with multiple map server platforms: _ArcGIS_ (REST & cache), _ArcIMS_, _KaMap_, _MapServer_

* Support for key OGC standards: _WMS_, _WMTS_, _WFS_, _GML_, _KML_, _SLD_

* Multiple control types: _Navigation_, _Pan_, _Zoom_, _Overview_, _Scale_, _Feature Creation & Editing_, _Graticle_, _Layer Switcher_

* Custom styled features with associated attributes: _Curve_, _LinearRing_, _LineString_, _MultiLineString_, _MultiPoint_, _MultiPolygon_, _Point_, _Polygon_, _Rectangle_

* Support for many formats for data read and write: _ArcXML_, _ATOM_, _GeoRSS_, _GPX_, _KML_, _WKT_, any many others

* Open Source, enabling modification and integration into other systems (e.g. [GeoExt](http://geoext.org/))

</div>

<div class="slides" >

### Resources ###

[Application Programming Interface (API) Reference](http://dev.openlayers.org/apidocs/files/OpenLayers-js.html)

[Examples](http://openlayers.org/dev/examples/)

</div>

<div class="slides" >

## Demonstrations and Examples ##

* [Basic Mapper](examples/openLayers01_osm.html) (with OpenStreetMaps [OSM]base map)

* [Mapper](examples/openLayers02_proprietary.html) with a variety of base maps (Google, Bing, Yahoo, OSM)

* Basic Mapper with Controls: [No Controls](examples/openLayers03_none.html), [Layer Switcher](examples/openLayers03_layerSwitcher.html), [Control Array](examples/openLayers03_controlArray.html), [Overlay Map](examples/openLayers03_Overlay.html), [Scale Information](examples/openLayers03_Scale.html)

* Positioning Controls with the `moveTo` function: [two controls moved](examples/openLayers04_MovedControls.html)

</div>

<div class="slides" >

## Next Week: Custom Features and WMS Services ##


</div>

## Lab Assignment: OpenLayers Mapping [lab08] ##

Following the model used in Lab 3 for your first Google Map web page, you should first answer the following questions about what and how you want to map - _relating to a different focus than you have used in your previous assignments_. As you define the type of map you want to build, think about a specific problem or topic that you would like to address with your map. 

In this exercise you will be generating the configuration for the base map (i.e. including one or more OpenLayer enabled background layers), adding controls, and defining an appropriate map center and zoom level for the map. You will add your own custom content to a free-standing web page that include an interactive mapper and the reasoning behind the design of the map.

Create a web page that contains your lab assignment writeup (_including_ the embedded OpenLayers map required by question 5), link it to the home page (index.html) you previously created, and submit the direct link to your lab writeup web page through the WebCT Assignment submission tool. 

Respond to Question 1-4 with an understanding that you are generating a web page that is publicly accessible, and should be, clear, complete, well-formatted, and reasonably styled. 

_Peer Review:_ This week's assignment will include a peer review component. Specifically, 2-points of the 9-points available for this assignment will be based upon _your_ peer-review of _two_ other web pages generated by the students in the class. The required peer-review will consist of two steps:

1. Create a new Discussion Item in WebCT entitled: "Page for Peer-Review &lt;Your Name&gt;" at the same time you submit your homework assignment link for your homework submission. Include in the post the web address of your web page that you created for this assignment. 

2. Provide a _substantive_, _constructive_, and _civil_ comment to _two_ of the posted discussion items posted for peer-review. Complete this peer-review by 5:00 pm on the day following the normal Thursday lab assignment due date. Think about the following ideas for your review: _what did I learn from this page_, _what was done well_, _what could be improved_

Question 1
: What area do you want to depict in your map? Why?

Question 2
: What is the center point (latitude and longitude) of your area of interest?

Question 3
:  What base map(s) did you select for use in your map? Why?

Question 4
:  What is the scale of your map (local, regional, continental, global)? How will this translate into your selection of an appropriate default zoom level for your map?

Now that you have answered these questions about the map that you want to create, refer to the examples in the lecture notes, the OpenLayers Examples (http://openlayers.org/dev/examples/), and this week's reading assignment to create a custom OpenLayers map.

Question 5
: Embed the OpenLayers Map in your writeup (included with the answers to questions 1-4 above) that is based upon your responses to questions 1-4 above.




<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 2.3 - Web-based Mapping Clients: OpenLayers Javascript Framework - Part II #

</div>



<div class="sidebar" >

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div>

## Lecture ##

* Lecture: Web Mapping Clients - OpenLayers [![][arrow]][lecture09-section]

## This Week's Reading ##

* OpenLayers Beginner's Guide: Chapters 4, 6, 7, 10 (review for reference)

_Next Week's Reading:_ 

* Quantum GIS [User's Manual](http://download.osgeo.org/qgis/doc/manual/qgis-1.7.0_user_guide_en.pdf), particularly Chapter 6, pages 85-92. 

* ArcGIS Desktop 10.0 [Support for OGC and ISO Standards](http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//003700000002000000.htm)

* ArcGIS Desktop 10.0 [OGC Support Documentation](http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/About_using_OGC_service_layers/00sp0000000n000000/) , including links to WMS, WCS, and WFS configuration information

## Lab Assignment ##

* A Customized OpenLayers Mapping Client [![][arrow]][lab09]

## Homework Assignment ##

* Problem Definition and Data Acquisition [![][arrow]][homework03]

</div>



## Background ##

As we learned in our introduction to OpenLayers in last week's class, it provides a flexible platform for integrating geospatial data from a variety of sources in a single interactive mapping environment. These capabilities include data integration from OGC Web Map Services and a wide variety of data formats for display in the mapper. This week's class provides an overview of the options for the OpenLayers `Map` and `Layer` objects, and specific information about configuring OGC WMS, KML, and Vector Geometry Layers and a brief overview of styling of vector data layers. 

## Expected Outcomes ##

At the end of this class, students should be able to:

* Create a new map object
* Add a WMS layer to that map
* Add a KML layer to that map
* Add a variety of Vector Geometry objects to the map
* Define styles for the created KML and Vector Feature objects.  

## Key Concepts ##

At the end of this class students will understand that

* There are a wide variety of options that may be provided when creating `Map` Nd `Layer` objects within OpenLayers
* WMS layers may be added to a map from diverse online servers
* KML files may be added to map, but their potential size can pose a challenge to effective integration into online mapping applications
* A wide variety of geometric objects may be defined and added to a map
* There exist a variety of styling options for vector data that are added to a map 


## Lecture: Web Mapping Clients - OpenLayers [lecture09-section] ##

[Presentation Slides][lecture09]

<iframe width="640" height="480" src="http://www.youtube.com/embed/Gi3Gni2lzTw?rel=0" frameborder="0" allowfullscreen="TRUE"></iframe>

<div class="slides title" >

# Module 2.3 - Web-based Mapping Clients: OpenLayers Javascript Framework#

## Part II ##

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>

</div>

<div class="slides" >

### Outline ###

* More detailed Map Object Options

* More detailed Layer Object Options

* Additional Map Layer Types - With Examples


</div>

<div class="slides" >

### Map Object Options ###

Map Object Options [API Reference][OpenLayers.Map API Link]

Two methods for constructing a new `OpenLayers.Map` object

	// create a map with default options in an element with the id "map1"
	var map = new OpenLayers.Map("map1");
	
	// create a map with non-default options in an element with id "map2"
	var options = {
		maxExtent: new OpenLayers.Bounds(-200000, -200000, 200000, 200000),
		maxResolution: 156543,
		units: 'm',
		projection: "EPSG:41001"
	};
	var map = new OpenLayers.Map("map2", options);
	
	// map with non-default options - same as above but with a single argument
	var map = new OpenLayers.Map({
		div: "map_id",
		maxExtent: new OpenLayers.Bounds(-200000, -200000, 200000, 200000),
		maxResolution: 156543,
		units: 'm',
		projection: "EPSG:41001"
	});
	
</div>

<div class="slides" >

### Map Object Options - continued ###

Excerpts from the API documentation

allOverlays
: {Boolean} Allow the map to function with “overlays” only.  Defaults to false.  If true, the lowest layer in the draw order will act as the base layer.  In addition, if set to true, all layers will have isBaseLayer set to false when they are added to the map.

div
: {DOMElement|String} The element that contains the map (or an id for that element).  If the OpenLayers.Map constructor is called with two arguments, this should be provided as the first argument.  Alternatively, the map constructor can be called with the options object as the only argument.  In this case (one argument), a div property may or may not be provided.  If the div property is not provided, the map can be rendered to a container later using the render method.

</div>

<div class="slides" >

### Map Object Options - continued ###

layers
: {Array(OpenLayers.Layer)} Ordered list of layers in the map

tileSize
: {OpenLayers.Size} Set in the map options to override the default tile size for this map.

projection
: {String} Set in the map options to override the default projection string this map - also set `maxExtent`, `maxResolution`, and `units` if appropriate.  Default is "EPSG:4326".

units
: {String} The map units.  Defaults to 'degrees'.  Possible values are 'degrees' (or 'dd'), 'm', 'ft', 'km', 'mi', 'inches'.

</div>

<div class="slides" >

### Map Object Options - continued ###


resolutions
: {Array(Float)} A list of map resolutions (map units per pixel) in descending order.  If this is not set in the layer constructor, it will be set based on other resolution related properties (maxExtent, maxResolution, maxScale, etc.).

maxResolution
: {Float} Default max is 360 deg / 256 px, which corresponds to zoom level 0 on gmaps.  Specify a different value in the map options if you are not using a geographic projection and displaying the whole world.

minResolution
: {Float}

maxScale
: {Float}

minScale
: {Float}

</div>

<div class="slides" >

### Map Object Options - continued ###


maxExtent
: {[OpenLayers.Bounds](http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/BaseTypes/Bounds-js.html#OpenLayers.Bounds)} The maximum extent for the map.  Defaults to the whole world in decimal degrees (-180, -90, 180, 90).  Specify a different extent in the map options if you are not using a geographic projection and displaying the whole world.

minExtent
: {[OpenLayers.Bounds](http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/BaseTypes/Bounds-js.html#OpenLayers.Bounds)}

restrictedExtent
: {[OpenLayers.Bounds](http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/BaseTypes/Bounds-js.html#OpenLayers.Bounds)} Limit map navigation to this extent where possible.  If a non-null restrictedExtent is set, panning will be restricted to the given bounds.  In addition, zooming to a resolution that displays more than the restricted extent will center the map on the restricted extent.  If you wish to limit the zoom level or resolution, use maxResolution.

numZoomLevels
: {Integer} Number of zoom levels for the map.  Defaults to 16.  Set a different value in the map options if needed.

</div>

<div class="slides" >

### Layer Object Options ###

Layer Object Options [API Reference][OpenLayers.Layer API Link]

Common Pattern of Layer Object Creation (varies some depending upon the specific layer type)

	new OpenLayers.Layer.*** (
		'layer name',
		'layer URL',
		{server-related options}, 
		{OpenLayers Layer Object options}
	)


</div>

<div class="slides" >

### Layer Object Options - continued ###

OpenLayers Layer Object options

id
: {String}

name
: {String}

isBaseLayer
: {Boolean} Whether or not the layer is a base layer.  This should be set individually by all subclasses.  Default is false

displayInLayerSwitcher
: {Boolean} Display the layer’s name in the layer switcher.  Default is true.

visibility
: {Boolean} The layer should be displayed in the map.  Default is true.


</div>

<div class="slides" >

### Layer Object Options - continued ###

OpenLayers Layer Object options

attribution
: {String} Attribution string, displayed when an OpenLayers.Control.Attribution has been added to the map.

projection
: {OpenLayers.Projection} or {String} Set in the layer options to override the default projection string this layer - also set maxExtent, maxResolution, and units if appropriate.  Can be either a string or an OpenLayers.Projection object when created -- will be converted to an object when setMap is called if a string is passed.

units
: {String} The layer map units.  Defaults to 'degrees'.  Possible values are 'degrees'’ (or 'dd'), 'm', 'ft', 'km', 'mi', 'inches'.

scales
: {Array} An array of map scales in descending order.  The values in the array correspond to the map scale denominator.  Note that these values only make sense if the display (monitor) resolution of the client is correctly guessed by whomever is configuring the application.  In addition, the units property must also be set.  Use resolutions instead wherever possible.

</div>

<div class="slides" >

### Layer Object Options - continued ###

OpenLayers Layer Object options

resolutions
: {Array} A list of map resolutions (map units per pixel) in descending order.  If this is not set in the layer constructor, it will be set based on other resolution related properties (maxExtent, maxResolution, maxScale, etc.).

maxExtent
: {OpenLayers.Bounds} The center of these bounds will not stray outside of the viewport extent during panning.  In addition, if displayOutsideMaxExtent is set to false, data will not be requested that falls completely outside of these bounds.

minExtent
: {OpenLayers.Bounds}

maxResolution
: {Float} Default max is 360 deg / 256 px, which corresponds to zoom level 0 on gmaps.  Specify a different value in the layer options if you are not using a geographic projection and displaying the whole world.

minResolution
: {Float}

</div>

<div class="slides" >

### Layer Object Options - continued ###

OpenLayers Layer Object options

numZoomLevels
: {Integer}

minScale
: {Float}

maxScale
: {Float}

displayOutsideMaxExtent
: {Boolean} Request map tiles that are completely outside of the max extent for this layer.  Defaults to false.

transitionEffect
: {String} The transition effect to use when the map is panned or zoomed.
: There are currently two supported values
: `null` No transition effect (the default).
: `resize` Existing tiles are resized on zoom to provide a visual effect of the zoom having taken place immediately.  As the new tiles become available, they are drawn over top of the resized tiles.


</div>

<div class="slides" >

### Additional Map and Layer Object Functions & Events ###

Both Map and Layer Objects have a number of associated functions as well

* Retrieving object properties programmatically with `Get` functions.

* Modifying existing object properties with `Set` functions

* Map destruction, and reconfiguration

* Linkage of object events with Javascript functions

</div>

<div class="slides" >

### WMS Layer Configuration ###

Some key issues to be aware of when using the [WMS Layer Class][OpenLayers.Layer.WMS API Link]:

* The _projection_ of the map object must be supported by the included WMS service (review the WMS GetCapabilities response to see what projections are supported by the service)

* The _layers_ parameter/property must be provided as part of the server-related property list (the layer names also come from the GetCapabilities response)

* Other WMS parameters may be provided as well to "adjust" the request automatically generated by OpenLayers

Sample WMS Layer Object Creation

	countiesLayer = new OpenLayers.Layer.WMS( 
		"US Counties", 
		"http://webservices.nationalatlas.gov/wms?",
		{layers: "counties", version: '1.3.0', transparent: 'TRUE'},
		{isBaseLayer: false}
	);

[Example](./examples/openLayers10_wms01.html)

</div>

<div class="slides" >

### Vector Layer Configuration ###

Vector layers support

* External Data in a Variety of supported [formats][OpenLayers.Format API Link] for both _reading_ and _writing_ (just a sample): ArcXML.Features, GeoJSON, GeoRSS, GPX, JSON, KML, WFS, WKT

* Directly encoded [geometries][OpenLayers.Geometry API Link]: Collection, Curve, LinearRing, LineString, MultiLineString, MultiPoint, MultiPolygon, Point, Polygon, Rectangle 

* User created features, including support for interactive editing of features

* [Styling][OpenLayers.Feature.Vector.style API Link] of Vector features

</div>

<div class="slides" >

### Vector Layer Configuration - Continued ###



Vector Layer Objects are Typically Defined using three OpenLayers classes

`Protocol`
: Connection protocol for requesting the data that would be provided from an external source

`Format`
: The OpenLayers supported format of the vector data object

`Strategy`
: A specification of how OpenLayers should request the data from the server, and also handle the data within the client (browser). 


</div>

<div class="slides" >

### Vector Layer Configuration - Continued ###

Sample Point Feature Object creation

	var Coord_classroom = new OpenLayers.Geometry.Point(-106.624073,35.084280);
	var Point_classroom = new OpenLayers.Feature.Vector(Coord_classroom);
	Layers["localFeatures"].addFeatures([Point_classroom])

Sample KML Layer Object creation 

	Layers.counties = new OpenLayers.Layer.Vector("KML - Counties", {
     	projection: map.displayProjection,
		strategies: [new OpenLayers.Strategy.Fixed()],
		protocol: new OpenLayers.Protocol.HTTP({
			url: "NMCounties.kml",
			format: new OpenLayers.Format.KML({
				extractAttributes: true
			})
		})
	});
	map.addLayer(Layers.counties)		
[Example](http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/openLayers11_vectorData_KML.html)

</div>

## Lab Assignment: A Customized OpenLayers Mapping Client [lab09] ##

Please create a new OpenLayers mapping page that is based upon the initial map (and thematic focus) that you created for last week's lab, and add the following to your map:

1. Five Vector Features (based upon Point, LineString, or LinearRing Geometries), each assigned its own style.

2. One KML Layer, also styled.

3. One WMS Layer.

_Peer Review:_ This week's assignment also includes a peer review component. Specifically, 2-points of the 9-points available for this assignment will be based upon _your_ peer-review of _two_ other web pages generated by the students in the class. The required peer-review will consist of two steps:

1. Create a new Discussion Item in WebCT entitled: "Page for Peer-Review &lt;Your Name&gt;" at the same time you submit your homework assignment link for your homework submission. Include in the post the web address of your web page that you created for this assignment. 

2. Provide a _substantive_, _constructive_, and _civil_ comment to _two_ of the posted discussion items posted for peer-review. Complete this peer-review by 5:00 pm on the day following the normal Thursday lab assignment due date. Think about the following ideas for your review: _what did I learn from this page_, _what was done well_, _what could be improved_


## Homework Assignment: Problem Definition and Data Acquisition [Homework03] ##



This assignment is the first of two (plus labs) that are related to a common theme of taking an online mapping problem from start to finish from the definition of a problem, through the implementation of services and a basic client interface for the collection of data for the specific problem.

Before beginning to work on any mapping problem (online or otherwise), some basic questions need to asked and answered. Please consider and answer (in 2-4 sentences as appropriate for the question) the following questions relating to the problem that you will be working on for the forthcoming assignments:

* What is the high-level description of the problem/question you want to help answer through the presentation of a collection of geographic data over the internet? Please answer in a short paragraph.

* Who is the target audience for the information you want to provide?

* What geographic region does your problem area represent? Please describe it in words (e.g. New Mexico, Alberta Canada, etc.) and define it in terms of a geographic (WGS84) (latitude and longitude) bounding box. 

* What types of data do you want to include in your project? Include a description (data content: e.g. elevation data, hydrographic survey, etc.) and types (i.e. raster, vector).

* What projection will you use for the presentation of your project data? Again, describe it, provide your reasoning for selection, and provide the corresponding EPSG code. 

* Where do you anticipate acquiring data for the project from?

* What barriers to acquiring and processing the needed data do you anticipate?

While you are going to continue to acquire additional data for the project over the next couple of assignments, begin acquiring data for your selected project now. Specifically, find 5 datasets that are consistent with your description of the problem you are going to work on, and use ogrinfo or gdalinfo and any associated metadata to describe them in brief by answering the following questions:

* What is the name of the dataset?

* What type of data (raster/vector) are in the dataset?

* What is its format?

* What is its coordinate reference system?

* What are the spatial extents of the dataset?

For a dataset to be useful, you should be able to answer all five of these questions about it. Furthermore, you should seek out datasets that are in common formats that you know you can work with in a variety of applications (i.e. QGIS, ArcGIS, gdalinfo, ogrinfo, etc.). If you can’t access and use a dataset in one of these applications, you will probably have problems trying to use it in your project. As a point of reference you can execute the following commands on the class server to obtain a list of the supported vector and raster file formats supported by `gdal` and `ogr` on the server:

	ogrinfo --formats
	gdalinfo --formats

Also, below is a screenshot from the class GeoServer installation (that we will start working with in a couple of weeks for publishing data for your project) that lists the file formats supported by GeoServer: 

![][geoserverFormats]






<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 4.3 - Interoperability Standards - Desktop GIS Integration#

</div>



<div class="sidebar">

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Interoperability Standards - Desktop GIS Integration[![][arrow]][lecture10-section]

## This Week's Reading ##

* Quantum GIS [User's Manual](http://download.osgeo.org/qgis/doc/manual/qgis-1.7.0_user_guide_en.pdf), particularly Chapter 6, pages 85-92. 

* ArcGIS Desktop 10.0 [Support for OGC and ISO Standards](http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//003700000002000000.htm)

* ArcGIS Desktop 10.0 [OGC Support Documentation](http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/About_using_OGC_service_layers/00sp0000000n000000/) , including links to WMS, WCS, and WFS configuration information

_Next Week's Reading:_ 

* GeoServer [Online Documentation](http://docs.geoserver.org/stable/en/user/index.html): sections [Introduction](http://docs.geoserver.org/stable/en/user/introduction/index.html), [Getting Started](http://docs.geoserver.org/stable/en/user/gettingstarted/index.html), and [Web Administration Interface](http://docs.geoserver.org/stable/en/user/webadmin/index.html) (Reference)

## Lab Assignment ##

* WMS and WFS Access in Quantum GIS[![][arrow]][lab10]

## Homework Assignment ##

* none

</div>

## Background ##

As we've discussed the components of the client tier of our tiered geospatial services oriented architecture we have concentrated on the open standards that can support client applications and the web-based clients that can consume them. Desktop GIS applications can also consume standards-based services, specifically OGC services. This week's class concentrates on the methods for integrating OGC services into two GIS client applications Quantum GIS and ArcGIS, demonstrating the utility of using external standards-based services as a data and map image source within desktop applications. 

## Expected Outcomes ##

At the end of this class, students should be able to:

* Add a WMS service to Quantum GIS
* Add a WFS service to Quantum GIS
* Add WMS, WFS, and WCS services to ArcGIS (if they have access to the required software)

## Key Concepts ##

At the end of this class students will understand that

* The key to configuring a desktop client application is the GetCapabilities request for the needed service
* The GetCapabilities request required by a particular client may consist of a base URL or a complete URL. 
* Quantum GIS uses a base URL request model for self-configuration of WMS and WFS services
* ArcGIS uses a base URL request model for self-configuration of WMS, WCS, and WFS services
* Both Quantum GIS and ArcGIS require additional configuration to enable WFS access 


## Lecture: Interoperability Standards - Desktop GIS Integration [lecture10-section] ##

[Presentation Slides][lecture10]

<iframe width="640" height="480" src="http://www.youtube.com/embed/4x2YiaCIc6k?rel=0" frameborder="0" allowfullscreen="true"></iframe>

<div class="slides title" >

# Module 4.3 - Interoperability Standards - Desktop GIS Integration#

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Overview ##

* Common Model for Client Configuration for Connections to Remote OGC Services
* Specific Client Examples

Quantum GIS (QGIS)

* WMS
* WFS

ArcGIS

* WMS
* WFS
* WCS

</div>

<div class="slides" >

### Common Model ###

Based upon the results of a GetCapabilities request against a remote service. GetCapabilities request information provided as either:

* The base URL to which the OGC service parameters would be added
* A complete GetCapabilities request against the service

</div>

<div class="slides" >

### Full GetCapabilities Request ###

JPL’s Imagery WMS

[http://wms.jpl.nasa.gov/wms.cgi?SERVICE=WMS&REQUEST=GetCapabilities](http://wms.jpl.nasa.gov/wms.cgi?SERVICE=WMS&REQUEST=GetCapabilities)

USGS Framework WMS

[http://frameworkwfs.usgs.gov/framework/wms/wms.cgi?SERVICE=wms&REQUEST=GetCapabilities](http://frameworkwfs.usgs.gov/framework/wms/wms.cgi?SERVICE=wms&REQUEST=GetCapabilities)

</div>

<div class="slides" >

### Base URL Get Capabilities ###

JPL’s Imagery WMS

[http://wms.jpl.nasa.gov/wms.cgi?](http://wms.jpl.nasa.gov/wms.cgi?SERVICE=WMS&REQUEST=GetCapabilities)


USGS Framework WMS

[http://frameworkwfs.usgs.gov/framework/wms/wms.cgi?](http://frameworkwfs.usgs.gov/framework/wms/wms.cgi?SERVICE=wms&REQUEST=GetCapabilities)



</div>

<div class="slides" >

## Quantum GIS ##

QGIS uses the Base URL approach for adding WMS or WFS (with the WFS plugin enabled) layers to a project. 

The General Process: 

1. Add service, or select existing service
2. Select layer(s)
3. Add layer(s)

</div>

<div class="slides" >

### QGIS: Add Service and Layers ###

You need to know the GetCapabilities request for the service you want to add, for example the USGS Framework WMS service

[http://frameworkwfs.usgs.gov/framework/wms/wms.cgi?SERVICE=wms&REQUEST=GetCapabilities](http://frameworkwfs.usgs.gov/framework/wms/wms.cgi?SERVICE=wms&REQUEST=GetCapabilities)

If in doubt, check the information in the metadata

WMS is enabled by default, the WFS Plugin must be enabled through the "Manage Plugins" option in the "Plugins" menu

1. Select "Add WMS Layer ..." from "Layer" menu, or click the "Add WMS Layer" or "Add WFS Button" in the interface.
2. Add the new service through the dialog and save the configuration.
3. Select the Layer(s) that you want to add from the “Add WMS/WFS” dialog you used to add the service.
4. Repeat for each Layer you want to add.

</div>

<div class="slides" >

## QGIS: Demonstration ##

WMS and WFS from RGIS and NASA NEO in QGIS

[Example](./examples/qgisOGCsample.qgs)


![Screenshot of the QGIS interface with demonstration data.][qgisOGCsample]


</div>

<div class="slides" >

## ArcGIS ##

Based upon the results of a GetCapabilities request against a remote service. GetCapabilities request information provided as either:

* The base URL to which the OGC service parameters would be added
* A complete GetCapabilities request against the service

This model applies to ArcGIS just as it did for Quantum GIS - the base URL is provided to the various ArcGIS components that support the addition of OGC services to the client interface

</div>


<div class="slides" >

## ArcGIS WMS Configuration ##


</div>


<div class="slides" >

### ArcGIS WMS Configuration - 1 ###

![][ArcGIS_OGC_01]

* Select the "add data" button
* WMS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WMS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WMS Server" dialog that appears
* Click "OK", and the new WMS service is added to the list of services that is available when you choose to add a WMS service.


</div>

<div class="slides" >

### ArcGIS WMS Configuration - 2 ###

![][ArcGIS_OGC_02]

* Select the "add data" button
* WMS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WMS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WMS Server" dialog that appears
* Click "OK", and the new WMS service is added to the list of services that is available when you choose to add a WMS service.


</div>

<div class="slides" >

### ArcGIS WMS Configuration - 3 ###

![][ArcGIS_OGC_03]

* Select the "add data" button
* WMS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WMS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WMS Server" dialog that appears
* Click "OK", and the new WMS service is added to the list of services that is available when you choose to add a WMS service.


</div>

<div class="slides" >

### ArcGIS WMS Configuration - 4 ###

![][ArcGIS_OGC_04]

* Select the "add data" button
* WMS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WMS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WMS Server" dialog that appears
* Click "OK", and the new WMS service is added to the list of services that is available when you choose to add a WMS service.


</div>



<div class="slides" >

## ArcGIS WFS Configuration ##


</div>


<div class="slides" >

### ArcGIS WFS Configuration - 1 ###

![][ArcGIS_OGC_WFS_01]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 2 ###

![][ArcGIS_OGC_WFS_02]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 3 ###

![][ArcGIS_OGC_WFS_03]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 4 ###

![][ArcGIS_OGC_WFS_04]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 5 ###

![][ArcGIS_OGC_WFS_05]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 6 ###

![][ArcGIS_OGC_WFS_06]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 7 ###

![][ArcGIS_OGC_WFS_07]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 8 ###

![][ArcGIS_OGC_WFS_08]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 9 ###

![][ArcGIS_OGC_WFS_09]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 10 ###

![][ArcGIS_OGC_WFS_10]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>

<div class="slides" >

### ArcGIS WFS Configuration - 11 ###

![][ArcGIS_OGC_WFS_11]

* WFS support in ArcGIS 10.0 requires that the "Data Interoperability Extension" be installed (though it doesn’t have to be enabled)
* Connections to WFS services are defined through ArcCatalog's "Interoperabilty Connections" "Add Interoperability Connection" option
* After defining the connection in ArcCatalog, it is available as an available Interoperability Connection that may be added to ArcMap and other ArcGIS components
* The WFS data may be added through the "Add Data" dialog in ArcMap

</div>



<div class="slides" >

## ArcGIS WCS Configuration ##



</div>


<div class="slides" >

### ArcGIS WCS Configuration - 1 ###

![][ArcGIS_OGC_WCS_01]

* Like WMS services, WCS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WCS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WCS Server" dialog that appears
* Click "OK", and the new WCS service is added to the list of services that is available when you choose to add a GIS service.
* Select the layer from the service

</div>

<div class="slides" >

### ArcGIS WCS Configuration - 2 ###

![][ArcGIS_OGC_WCS_02]

* Like WMS services, WCS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WCS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WCS Server" dialog that appears
* Click "OK", and the new WCS service is added to the list of services that is available when you choose to add a GIS service.
* Select the layer from the service

</div>

<div class="slides" >

### ArcGIS WCS Configuration - 3 ###

![][ArcGIS_OGC_WCS_03]

* Like WMS services, WCS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WCS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WCS Server" dialog that appears
* Click "OK", and the new WCS service is added to the list of services that is available when you choose to add a GIS service.
* Select the layer from the service

</div>

<div class="slides" >

### ArcGIS WCS Configuration - 4 ###

![][ArcGIS_OGC_WCS_04]

* Like WMS services, WCS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WCS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WCS Server" dialog that appears
* Click "OK", and the new WCS service is added to the list of services that is available when you choose to add a GIS service.
* Select the layer from the service

</div>

<div class="slides" >

### ArcGIS WCS Configuration - 5 ###

![][ArcGIS_OGC_WCS_05]

* Like WMS services, WCS services are added through the "GIS Servers" option in the "Add Data" dialog
* You select "Add WCS Server" from the list of options in the "Add Data" dialog
* You then provide the BASE GetCapabilities URL to the "ADD WCS Server" dialog that appears
* Click "OK", and the new WCS service is added to the list of services that is available when you choose to add a GIS service.
* Select the layer from the service

</div>

<div class="slides" >

### ArcGIS Demonstration ###

[ArcGIS MXD for the Demonstration](./examples/ArcGISOGCDemo.mxd) Based upon services hosted by the [Alaska Mapped](http://dev.sdmi-cms.gina.alaska.edu/data/arcgis-layer-files) web site.

![][ArcGIS_OGC_Screenshot]

</div>

<div class="slides" >

## Conclusions ##

* A GetCapabilities request is the key for configuring most OGC client applications to access remote services
* The specific way in which the GetCapabilities request is given to the client varies from client to client
* Clients will often auto/_mis_-configure themselves based upon the GetCapabilities XML response

</div>

## Lab Assignment: WMS and WFS Access in Quantum GIS (QGIS) [lab10] ##

Open QGIS on your workstation and enable the WFS plugin (if not already enabled).

Add three WMS layers to a new map project in QGIS, with one coming from each of the following WMS services (as represented by their GetCapabilities requests)

* _EDAC’s Imagery WMS Service_: [http://edacwms.unm.edu/cgi-bin/mapfiles/edacimagery?SERVICE=WMS&REQUEST=GetCapabilities](http://edacwms.unm.edu/cgi-bin/mapfiles/edacimagery?SERVICE=WMS&REQUEST=GetCapabilities)

* _FEMA’s National Flood Hazard Layer WMS Service_: [http://hazards.fema.gov/wmsconnector/wmsconnector/com.esri.wms.Esrimap/NFHL?REQUEST=GetCapabilities&SERVICE=WMS](http://hazards.fema.gov/wmsconnector/wmsconnector/com.esri.wms.Esrimap/NFHL?REQUEST=GetCapabilities&SERVICE=WMS)

* _NRCS Soil Data Mart WMS Service_: [http://SDMDataAccess.nrcs.usda.gov/Spatial/SDM.wms?SERVICE=WMS&REQUEST=GetCapabilities](http://SDMDataAccess.nrcs.usda.gov/Spatial/SDM.wms?SERVICE=WMS&REQUEST=GetCapabilities)

In your write-up include the names of the layers you added, which service they came from, and screen shots (one for for each of the added layers) showing each of them in the QGIS client interface.

Add three WFS layers to the same QGIS project, two based upon data available from the RGIS data browser (http://rgis.unm.edu/browsedata), and one based on the USGS Gazetteer Framework WFS service ([http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?datastore=GNIS](http://frameworkwfs.usgs.gov/framework/wfs/wfs.cgi?datastore=GNIS) - note the additional required "datastore=GNIS" parameter that is part of the base URL for the WFS service as described as a possibility for some services in the lecture).   In RGIS you can see the available services for a specific data layer by 

1. Selecting the collection you want to view by selecting from the directory tree on the left side of the page; 

2. Identifying the data sets that have available OGC WMS and/or WFS services as indicated by the "Services" entry for each dataset, where the provided links are for the GetCapabilities requests for the provided services:


<div>![][RGIS_OGCScreenshot]</div>

_Important_: Before adding the Gazetteer layer, zoom your map to a small region (such as central New Mexico), and when adding the layer check the box in the "Add WFS Layer from Server" dialog box check the box next to "Only request features overlapping the current view extent". This will limit the number of features that will be requested, and limit them to the current view area. If you don't check this box, features outside the view extent may be requested, and, given limits imposed by the USGS server, you may get _no_ data points within your map window - resulting in no features being added to your map. 


In your write-up include the names of the layers you added, and the GetCapabilities requests related to those layers. Also include screen shots (again, one for each added layer) showing each layer in your QGIS project.  





<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 5.1 - Developing and Hosting OGC Services - Platforms and GeoServer Introduction #

</div>



<div class="sidebar">

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Platforms and GeoServer Introduction[![][arrow]][lecture11-section]

## This Week's Reading ##

* GeoServer [Online Documentation](http://docs.geoserver.org/stable/en/user/index.html): sections [Introduction](http://docs.geoserver.org/stable/en/user/introduction/index.html), [Getting Started](http://docs.geoserver.org/stable/en/user/gettingstarted/index.html), and [Web Administration Interface](http://docs.geoserver.org/stable/en/user/webadmin/index.html) (Reference)

_Next Week's Reading:_ 

* GeoServer [Online Documentation](http://docs.geoserver.org/stable/en/user/index.html): sections [Working with Data](http://docs.geoserver.org/stable/en/user/data/index.html), [styling](http://docs.geoserver.org/stable/en/user/styling/index.html), [Filtering in GeoServer](http://docs.geoserver.org/stable/en/user/filter/index.html), and [services](http://docs.geoserver.org/stable/en/user/services/index.html)


## Lab Assignment ##

* GeoServer Data Import[![][arrow]][lab11]

## Homework Assignment ##

* none

</div>

## Background ##

Thus far we have concentrated on the client side of geospatial services oriented architectures in developing web interfaces based upon the Google Maps API, the OpenLayers javascript framework, and accessing data published using the OGC WMS, WFS, and WCS standards in desktop applications. Starting this week we begin our work on the server side - working with the GeoServer server platform to publish data through the OGC WMS, WFS, and WCS service standards. This work will demonstrate the ease with which you can share data using these standards, facilitating client use such as that that we have seen in our web site and desktop application work. 

## Expected Outcomes ##

By the end of this class, students should be able to:

* Place files within the server file system for integration into the GeoServer platform
* Create a GeoServer _Workspace_, _Store_, and _Layer_ based upon those data
* Test those layers using the _Layer Preview_ tools integrated into GeoServer
 

## Key Concepts ##

By the end of this class, students should understand:

* The components of a map server platform and their relationship to each other
* The role of a geospatial server within a geospatial services oriented architecture
* The information required about data to successfully configure it for publication within GeoServer
* The stepwise process through which a dataset may be published using GeoServer 


## Lecture: Platforms and GeoServer Introduction [lecture11-section] ##

[Presentation Slides][lecture11]

<iframe width="640" height="480" src="http://www.youtube.com/embed/Npn8181NnPQ?rel=0" frameborder="0" allowfullscreen="TRUE"></iframe>

<div class="slides title" >

# Module 5.1 - Platforms and GeoServer Introduction #

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Overview ##

* SOA Review
* Server Platform
* Online Mapping Server Applications: COTS & Open Source
* What is GeoServer
* Working with GeoServer
* Demonstration

</div>

<div class="slides" >

## SOA Review ##

<div class="right-half" >

<img class="fit-width" src="images/SOAillustration.png" />

</div>

* Services Oriented Architecture (SOA) for Geospatial Data and Processing

Data, Processing, Client Tiers

* Open Geospatial Consortium Interoperability Standards

WMS, WFS, WCS

</div>

<div class="slides" >

### SOA Review ###

<div class="right-half" >

<img class="fit-width" src="images/SOAillustration.png" />

</div>

* Geospatial Metadata Standards

ISO 19115, FGDC

* Internet Standards

Web: HTML, CSS, JavaScript, XML

SOAP - Simple Object Access Protocol

REST - Representation State Transformation

</div>

<div class="slides">

## Server Platform ##

In the context of server platforms for online mapping with OGC services, there are several components that are of interest

* The operating system - the software environment in which all applications on a computer operate (e.g. Windows, Mac OS X, Linux)

* The web server - the application that listens for incoming requests from the Internet (e.g. Apache, IIS)

* The mapping server - the application (that may also include the web server) that enables online mapping applications, that may include support for one or more OGC service interfaces (e.g. GeoServer, MapServer, CubeWerx, ArcGIS Server)

</div>

<div class="slides">

## Online Mapping Server Applications ##

Sample Commercial Off-the-Shelf (COTS)

* ArcGIS Server (Basic, Standard & Advanced) ([info][arcgis server info])

* CubeWerx Suite ([info][cubewerx info])

* ERDAS APOLLO ([info][erdas appollo info])

Sample Open Source

* MapServer ([info][mapserver info])

* GeoServer ([info][geoserver info])

</div>

<div class="slides">

## What is GeoServer ##

GeoServer is an Open Source, Open Standards supporting geospatial web services platform

* GNU General Public License

* WMS, WFS, WCS

* Written in Java as a web application commonly hosted on the Jetty HTTP server and Java servlet engine

* An appropriate version of Java must already be installed

</div>

<div class="slides">

## Working with GeoServer ##

OS-Independent Binaries are Available for Multiple Platforms (these are just ‘run’ to start the server)

* Includes the Jetty HTTP server

* Windows, Mac OS X, Linux

* There are OS-specific configuration instructions for each operating system

GeoServer may be integrated into existing Java web servlet applications (such as Apache Tomcat) using the available Web Archive (WAR) file. 

OS-Specific Installers are also Available

* Include an integrated HTTP server

* Windows and Mac OS X

</div>

<div class="slides">

## What is Happening Behind the Scenes ##

![][geoServer interaction diagram]

</div>

<div class="slides">

## Setup and Configuration ##

* After the initial setup as part of the installation process, other setup and configuration is performed through the web interface

* All configuration activities require that you are logged in as an administrator

* Default username and password for a new GeoServer are `admin:geoserver`

* After logging in you can view and modify the configuration of the server and services - some of the configuration elements inform the OGC service capabilities

</div>

<div class="slides">

## Server Configuration Options ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the server configuration options][geoServer server config menu]

</div>

* Server Status - summary information about the status of the currently running server

* Contact Information - contact information for the person responsible for providing support for the server and services. This information is used to build parts of the Capabilities XML metadata returned by the services

* Global Settings - settings that apply to the whole server - primarily focussed on options for logging

</div>

<div class="slides">

## Server Configuration Options - cont.  ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the server configuration options][geoServer server config menu]

</div>


* JAI Settings - settings related to the Java Advanced Imagery engine within GeoServer

* About GeoServer - links to information about GeoServer

</div>

<div class="slides">

## WxS Service Configuration Options ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the WxS service configuration options][geoServer service config menu]

</div>

Options Common to all WxS services

* Enable/disable the service, with or without strict CITE compliance

* Maintainer and Online Resource URLs

* Title/Abstract

* Fees/Access Constraints

* Keywords

</div>


<div class="slides">

## WxS Service Configuration Options ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the WxS service configuration options][geoServer service config menu]

</div>

Options specific to individual services

* WFS - max. no. features, service type (basic/transactional/complete), GML styles

* WMS - SRS subset specification, interpolation method, resource consumption limits, KML options, map image watermarking, PNG/JPEG/SVG format options 

* WCS - No additional configuration options

* GeoWebCache Service (link to web information) - developmental tile-cache technology

</div>

<div class="slides">

## Data Component Configuration Options ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the data configuration menu options][geoServer data config menu]

</div>

* _Workspaces_ - Defined containers for related data products

* _Stores_ - Specific data sources (file or service based) with required data type and connection information provided in the _Store_ configuration

* _Layers_ - Defined layers that are published by the server, with the layers based upon data provided by a _Store_, but with additional layer-specific settings (such as bounding box, applied and available styles,and attribution).


</div>


<div class="slides">

## Data Component Configuration Options - cont. ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the data configuration menu options][geoServer data config menu]

</div>

* _Layer Groups_ - Collections of _Layers_ for specific projects/applications or other logical groupings.

* _Styles_ - A listing of defined layer styles for the server through which those styles may be accessed and managed. 

* _Layer Preview_ -  An interface through which a _Layers_ may be previewed in a variety of formats

</div>

<div class="slides">

## Data Integration Process ##

![Data integration workflow][geoServer data workflow]

</div>


<div class="slides">

## Security Setting ##

<div class="right-half" >

![Screenshot of GeoServer Menu highlighting the security configuration menu options][geoServer security config menu]

</div>

* _Users_ - Management of system users and their assigned roles

* _Data Security_ - Settings for read/write access to data products within the server

* _Service Security_ - Settings for managing service-level (i.e. WMS, WFS, WCS and related request types) access privileges by user role. 

* _Catalog Security_ - Settings for managing how limited access layers are presented to users. 

</div>

<div class="slides">

## Demonstration of GeoServer Interface ##

![GeoServer Home Page][geoServer home screen]

[Class GeoServer Instance][class geoserver instance]

</div>

## Lab Assignment: GeoServer Data Import [lab11] ##

To add data to GeoServer you must have a file location on the server where data files must be stored and accessible by the GeoServer. 

Question 1
: Create a directory called `data` in your `public_html` directory on the class server. Perform an `ls` command in your `public_html` directory and include the output of the command in your lab write-up - displaying the data directory location within your `public_html` directory. 

Question 2
: Copy all of the data files located in the `data` directory in my `public_html` directory (`/home/kbene/public_html/data`) into your data directory, and rename all of the files, folders and their contents with a prefix of your initials instead of the current `kb` prefix that I have added. Perform an `ls` command in your `data` directory and include the output in your write-up - displaying the modified file and folder names. The file renaming is _required_ because of issues that arise within GeoServer when there are multiple data stores within the server that are based upon similarly named files. 

Here are some format-specific points to keep in mind when renaming geospatial data:

* When renaming a shapefile, make sure to rename all of the files in the set so that they all have the same file prefix

When renaming a GeoTiff

* If the projection information is available from gdalinfo, you can just change the name of the file ending in .tif

* If there is a .tfw file associated with the file, it is a good idea to change its name as well

* If there is a .aux or .rrd file, you should rename it as well. 

Question 3
: Log into the Geoserver on the class server ([http://129.24.63.138:8080/geoserver/web/](http://129.24.63.138:8080/geoserver/web/)) using the administrative username and password provided for the class server. 

* Create a _workspace_ for yourself, using a name that will be unique to you (your username would be a good candidate for this). 

* Create a new _store_ for each of the datasets listed from 3 above. Assign the new store to your workspace that you created above. When specifying the the `Connection Parameters` for pointing to the file, the format is: `file:/home/<your username>/public_html/data/<filename>` 
for example

	file:/home/kbene/public_html/data/kb_world_8km.jpg

* Create a new _layer_ for each of the _stores_ added above. Here are some things to keep in mind:

You may need to designate the SRS for a layer if it can’t be read directly from the dataset. Your specify the _designated_ SRS using the standard EPSG:XXXX format. 

The EPSG code for `GCS_North_American_1983` is EPSG:4269

Preview each of your added layers, using the _Layer Preview_ tool and the _Open Layers_ option to display the data. Include screen grabs of the previews in your write-up. 

<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

#  Module 5.2 - Developing and Hosting OGC Services - OGC Services and Styling in GeoServer#

## Part I ##

</div>



<div class="sidebar">

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Developing and Hosting OGC Services - OGC Services and Styling in GeoServer - Part 1[![][arrow]][lecture12-section]

## This Week's Reading ##

* GeoServer [Online Documentation](http://docs.geoserver.org/stable/en/user/index.html): sections [Working with Data](http://docs.geoserver.org/stable/en/user/data/index.html), [styling](http://docs.geoserver.org/stable/en/user/styling/index.html), [Filtering in GeoServer](http://docs.geoserver.org/stable/en/user/filter/index.html), and [services](http://docs.geoserver.org/stable/en/user/services/index.html)

_Next Week's Reading:_ same as this week (for reference)


## Lab Assignment ##

* Styling of Layers in GeoServer[![][arrow]][lab12]

## Homework Assignment ##

* Data Integration and Styling in GeoServer[![][arrow]][Homework04]

</div>

## Background ##

While integrating data into a web mapping platform is a critical first step, a robust geospatial data service system must also support the development and use of cartographically informative representations of the published data. GeoServer accomplishes this through the integration of the Open Geospatial Consortium's Styled Layer Descriptor standard into the system for publishing alternative styles for vector and raster data products. This standard allows for the configuration of attribute and scale-based representations that may be advertised by name and requested by reference through the published OGC WMS services. 

## Expected Outcomes ##

At the end of this class students will be able to:

* Develop a basic SLD for a vector layer within GeoServer
* Define an attribute filter as part of an SLD to allow for differential representation of features based upon the values of one or more attribute values
* Define a scale limit filter as part of an SLD to control the scales at which a defined SLD rule will be executed 

## Key Concepts ##

At the end of this class, students will understand:

* The role of the OGC SLD standard in defining and publishing geospatial data via WMS
* The capabilities of the SLD standard to defined representation styles that may be defined in reference to attribute values and WMS request scales
* That logical comparison operators may be used to control the application of style rules to specific features 


## Lecture: Developing and Hosting OGC Services - OGC Services and Styling in GeoServer [lecture12-section] ##

[Presentation Slides][lecture12]

<iframe width="640" height="480" src="http://www.youtube.com/embed/X7ak93PeKgc?rel=0" frameborder="0" allowfullscreen="True"></iframe>
<div class="slides title" >

#  Module 5.2 - Developing and Hosting OGC Services - OGC Services and Styling in GeoServer#

## Part I ##

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides" >

## Overview ##

* GeoServer Styled Layer Descriptor (SLD) Foundation: OGC Specification

* Creation and Management of Styles in GeoServer

Definition of Styles

Base Styles

Basic New Styles

Basic Filters

</div>

<div class="slides" >

## OGC Styled Layer Descriptor (SLD) ##

* GeoServer uses the OGC standard for definition of symbolization both for user and server definition
[OGC SLD Standard][sld]  

* Most, but not all of the OGC standard has been implemented with GeoServer

* The materials presented here are based upon the SLD reference distributed as part of the [GeoServer 2.1 HTML documentation][geoserver documentation], and in particular the [GeoServer SLD Cookbook][geoserver sld cookbook].

</div>

<div class="slides" >

### Definition of Styles ###

Styles are XML documents that conform to the OGC SLD standard, and consist of four major components

Symbolizers
: SLD components that define the rendering style of specific types of content

* [Point][geoserver point symbolizer]

* [Line][geoserver line symbolizer]

* [Polygon][geoserver polygon symbolizer]

* [Raster][geoserver raster symbolizer]

* [Text][geoserver text symbolizer]

</div>


<div class="slides" >

### Definition of Styles - cont. ###


Labels
: Defining the placement of [labels][geoserver labels]

Filters
: Allow for the application different symbolizers to [defined sets][geoserver filters] of features

Scale Elements
: Allow for the application of different symbolizers at different map scales (no documentation at the moment)

</div>







<div class="slides" >

### Definition of Styles - Header Content ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" 
   		xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd" 
    	xmlns="http://www.opengis.net/sld" 
    	xmlns:ogc="http://www.opengis.net/ogc" 
    	xmlns:xlink="http://www.w3.org/1999/xlink" 
    	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

one or more `<NamedLayer>` ...  `</NamedLayer>` elements

	</StyledLayerDescriptor>

</div>


<div class="slides" >

### Definition of Styles - Sample SLD File ###

	<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" 
    	xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd" 
    	xmlns="http://www.opengis.net/sld" 
    	xmlns:ogc="http://www.opengis.net/ogc" 
    	xmlns:xlink="http://www.w3.org/1999/xlink" 
    	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  		<NamedLayer>
    		<Name>Simple Point</Name>
    		<UserStyle>
      			<Title>SLD Cook Book: Simple Point With Stroke</Title>
      			<FeatureTypeStyle>
        			<Rule>
          				<PointSymbolizer>
            				<Graphic>
              					<Mark>
                					<WellKnownName>circle</WellKnownName>
                					<Fill>
                  						<CssParameter name="fill">#FF0000</CssParameter>
                					</Fill>
              					</Mark>
              					<Size>6</Size>
            				</Graphic>
          				</PointSymbolizer>
        			</Rule>
      			</FeatureTypeStyle>
    		</UserStyle>
  		</NamedLayer>
	</StyledLayerDescriptor>

</div>

<div class="slides" >

### Simple GeoServer Point Style ###

<div class="lower-right" >

![Sample simple styled point layer][sld simple point image]

</div>

SLD Snippet ([Full SLD][sld simple point])

	<NamedLayer>
	  <Name>Simple Point</Name>
	  <UserStyle>
	    <Title>SLD Cook Book: Simple Point With Stroke</Title>
	    <FeatureTypeStyle>
	      <Rule>
	        <PointSymbolizer>
	          <Graphic>
	            <Mark>
	              <WellKnownName>circle</WellKnownName>
	              <Fill>
	                <CssParameter name="fill">#FF0000</CssParameter>
	              </Fill>
	            </Mark>
	            <Size>6</Size>
	          </Graphic>
	        </PointSymbolizer>
	      </Rule>
	    </FeatureTypeStyle>
	  </UserStyle>
	</NamedLayer>

</div>

<div class="slides" >

### Simple GeoServer Line Style ###

<div class="lower-right" >

![Sample simple styled line layer][sld simple line image]

</div>

SLD Snippet ([Full SLD][sld simple line])

	<NamedLayer>
	  <Name>Simple Line</Name>
	  <UserStyle>
	    <Title>SLD Cook Book: Simple Line</Title>
	    <FeatureTypeStyle>
	      <Rule>
	        <LineSymbolizer>
	          <Stroke>
	            <CssParameter name="stroke">#000000</CssParameter>
	            <CssParameter name="stroke-width">3</CssParameter>    
	          </Stroke>
	        </LineSymbolizer>
	      </Rule>
	    </FeatureTypeStyle>
	  </UserStyle>
	</NamedLayer>


</div>

<div class="slides" >

### Simple GeoServer Polygon Style ###

<div class="lower-right" >

![Sample simple styled polygon layer][sld simple polygon image]

</div>

SLD Snippet ([Full SLD][sld simple polygon])

	<NamedLayer>
	  <Name>Simple polygon</Name>
	  <UserStyle>
	    <Title>SLD Cook Book: Simple polygon</Title>
	    <FeatureTypeStyle>
	      <Rule>
	        <PolygonSymbolizer>
	          <Fill>
	            <CssParameter name="fill">#000080</CssParameter>
	          </Fill>
	        </PolygonSymbolizer>
	      </Rule>
	    </FeatureTypeStyle>
	  </UserStyle>
	</NamedLayer>


</div>

<div class="slides" >

### Simple GeoServer Raster Style ###

<div class="lower-right" >

![Sample simple styled raster layer][sld simple raster image]

</div>

SLD Snippet ([Full SLD][sld simple raster])


	<NamedLayer>
	  <Name>Two color gradient</Name>
	  <UserStyle>
	    <Title>SLD Cook Book: Two color gradient</Title>
	      <FeatureTypeStyle>
	        <Rule>
	          <RasterSymbolizer>
	            <ColorMap>
	              <ColorMapEntry color="#008000" quantity="70" />
	              <ColorMapEntry color="#663333" quantity="256" />
	            </ColorMap>
	          </RasterSymbolizer>
	        </Rule>
	      </FeatureTypeStyle>
	  </UserStyle>
	</NamedLayer>


</div>

<div class="slides" >

### PointSymbolizer ###

	<Graphic>
		<ExternalGraphic>
			<OnlineResource> (Required)
			<Format>
		<Mark>
			<WellKnownName> (Required)
			<Fill>
			<Stroke>
			<Opacity>
			<Size>
			<Rotation>

</div>

<div class="slides" >

### LineSymbolizer ###


	<Stroke>
		<GraphicFill>
			<Graphic> contents same as PointSymbolizer
		<GraphicStroke>
			<Graphic> contents same as PointSymbolizer
		<CssParameter name="...">
			name="stroke"
			name="stroke-width"
			name="stroke-opacity"
			name="stroke-linejoin"
			name="stroke-linecap"
			name="stroke-dasharray"
			name="stroke-dashoffset"
</div>

<div class="slides" >

### PolygonSymbolizer ###


	<Fill>
	  <GraphicFill>
	    <Graphic> contents same as PointSymbolizer
	  <CssParameter name="...">
	    name="fill"
	    name="fill-opacity"
	  <Stroke> same as the LineSymbolizer


</div>

<div class="slides" >

### Raster Symbolizer ###

	<Opacity>
	<ColorMap type=ramp|values|intervals extended=true|false>
	  <ColorMapEntry color="" quantity="" label="" opacity=""/>
	<ChannelSelection>
	  <RedChannel> <GreenChannel> <BlueChannel>
	    <SourceChannelName>
	  <GrayChannel>
	    <SourceChannelName>
	<ContrastEnhancement>
	<ShadedRelief> (not implemented in ver 2.0)
	<OverlapBehavior> (not implemented in ver 2.0)
	<ImageOutline> (not implemented in ver 2.0)

</div>

<div class="slides" >

## Filters ##



</div>

<div class="slides" >

### SLD Filter Rules and Vector Symbolization ###

Filters based upon Attribute Values

	<PropertyIsEqualTo>
	<PropertyIsNotEqualTo>
	<PropertyIsLessThan>
	<PropertyIsLessThanOrEqualTo>
	<PropertyIsGreaterThan>
	<PropertyIsGreaterThanOrEqualTo>
	<PropertyIsBetween>

Logical Filters - for combining multiple filters

	<And>
	<Or>
	<Not>


</div>

<div class="slides" >

### SLD Filter Rules and Vector Symbolization - cont. ###

Spatial Filters

	<Intersects>
	<Equals>
	<Disjoint>
	<Within>
	<Overlaps>
	<Crosses>
	<DWithin>
	<Beyond>
	<Distance>

Scale-based selection

	<MaxScaleDenominator>
	<MinScaleDenominator>

</div>

<div class="slides" >

### Attribute Filter Example ###

To define an _Attribute Filter_ you need to know both the _Attribute Name_ of the layer(s) that will use the filter and the _value(s)_ of that field that will be used for the filter. _How do you determine the attribute name and values?_

* If available, this information should be available through the documentation (metadata) for the data that is published by the data provider. 
* In GeoServer you can view a list of attribute names in the _data_ tab of the layer information under the _Feature Type Details_ at the bottom of the web page, but you can't view the actual field values. 
* For vector data you can view both the attribute names and their values using the `ogrinfo` command from the command line. 

For example:

	ogrinfo -fields=YES -geom=NO kb_gpsrdsddshp kb_gpsrdsdd

Where this command requests that the fields and their values be displayed, but that the detailed geometry information (i.e. all of the nodes associated with each feature)

</div>


<div class="slides" >

### Attribute Filter Example - Styled NM Roads ###

![Screenshot of the GeoServer OpenLayers Preview of the Styled Layer][sld styled roads image]

[Full SLD][sld styled roads]


</div>


<div class="slides" >

### Attribute Filter Example - Styled NM Roads - NM Highways###

	<!-- New Mexico Highways -->
	<Rule>
		<Title>NM Highways</Title>
		<ogc:Filter>
			<ogc:PropertyIsEqualTo>
				<ogc:PropertyName>TYPE</ogc:PropertyName>
				<ogc:Literal>State Highway</ogc:Literal>
			</ogc:PropertyIsEqualTo>
		</ogc:Filter>
		<LineSymbolizer>
			<Stroke>
				<CssParameter name="stroke">
					<ogc:Literal>#CCCCCC</ogc:Literal>
				</CssParameter>
				<CssParameter name="stroke-width">
					<ogc:Literal>2</ogc:Literal>
				</CssParameter>
			</Stroke>
		</LineSymbolizer>
	</Rule>


</div>


<div class="slides" >

### Attribute Filter Example - Styled NM Roads - US Highways###

	<!-- US Highways -->
	<Rule>
	  <Title>US Highways</Title>
	  <ogc:Filter>
		<ogc:PropertyIsEqualTo>
			<ogc:PropertyName>TYPE</ogc:PropertyName>
			<ogc:Literal>US Highway</ogc:Literal>
		</ogc:PropertyIsEqualTo>
	  </ogc:Filter>
	  <LineSymbolizer>
		<Stroke>
		  <CssParameter name="stroke">
			<ogc:Literal>#ff0000</ogc:Literal>
		  </CssParameter>
		  <CssParameter name="stroke-width">
			<ogc:Literal>3</ogc:Literal>
		  </CssParameter>
		</Stroke>
	  </LineSymbolizer>


</div>

<div class="slides" >

### Attribute Filter Example - Styled NM Roads - US Highways - cont.###

	  <LineSymbolizer>
		<Stroke>
		  <CssParameter name="stroke">
			<ogc:Literal>#CCCCCC</ogc:Literal>
		  </CssParameter>
		  <CssParameter name="stroke-width">
			<ogc:Literal>1</ogc:Literal>
		  </CssParameter>
		</Stroke>
	  </LineSymbolizer>
	</Rule>

</div>



<div class="slides" >

### Attribute Filter Example - Styled NM Roads - Interstates###

	<!-- Interstate Highways -->
	<Rule>
	  <Title>Interstates</Title>
	  <ogc:Filter>
	    <ogc:PropertyIsEqualTo>
	      <ogc:PropertyName>TYPE</ogc:PropertyName>
	      <ogc:Literal>Interstate</ogc:Literal>
	    </ogc:PropertyIsEqualTo>
	  </ogc:Filter>
	  <LineSymbolizer>
	    <Stroke>
	      <CssParameter name="stroke">
	        <ogc:Literal>#fcff00</ogc:Literal>
	      </CssParameter>
	      <CssParameter name="stroke-width">
	        <ogc:Literal>5</ogc:Literal>
	      </CssParameter>
	    </Stroke>
	  </LineSymbolizer>

</div>


<div class="slides" >

### Attribute Filter Example - Styled NM Roads - Interstates - cont.###


	  <LineSymbolizer>
	    <Stroke>
	      <CssParameter name="stroke">
	        <ogc:Literal>#222222</ogc:Literal>
	      </CssParameter>
	      <CssParameter name="stroke-width">
	        <ogc:Literal>3</ogc:Literal>
	      </CssParameter>
	    </Stroke>
	  </LineSymbolizer>
	</Rule>

</div>

<div class="slides" >

### Attribute Filter with Scale Factor ###

The only change needed to introduce scale-dependencies into styles is to include `<MaxScaleDenominator>` or `<MinScaleDenominator>` elements within a rule where they should be applied. These elements should be placed just before the symbolizer element so that GeoServer can properly validate the provided SLD. 

[Full SLD][sld styled roads scaled]

</div>


<div class="slides" >

### Attribute Filter with Scale Factor - 1 to 9,000,000 Scale Map ###

![Screenshot of the GeoServer OpenLayers Layer Preview at 1:9000000 scale][sld styled roads 9M image]

</div>

<div class="slides" >

### Attribute Filter with Scale Factor - 1 to 2,000,000 Scale Map ###

![Screenshot of the GeoServer OpenLayers Layer Preview at 1:2000000 scale][sld styled roads 2M image]

</div>

<div class="slides" >

### Attribute Filter with Scale Factor - 1 to 586,000 Scale Map ###

![Screenshot of the GeoServer OpenLayers Layer Preview at 1:586000 scale][sld styled roads 586k image]

</div>


<div class="slides" >

### Attribute Filter with Scale Factor - Scaled NM Roads - NM Highways###

	<!-- New Mexico Highways -->
	<Rule>
		<Title>NM Highways</Title>
		<ogc:Filter>
			<ogc:PropertyIsEqualTo>
				<ogc:PropertyName>TYPE</ogc:PropertyName>
				<ogc:Literal>State Highway</ogc:Literal>
			</ogc:PropertyIsEqualTo>
		</ogc:Filter>
		<MaxScaleDenominator>1000000</MaxScaleDenominator>
		<LineSymbolizer>
			<Stroke>
				<CssParameter name="stroke">
					<ogc:Literal>#CCCCCC</ogc:Literal>
				</CssParameter>
				<CssParameter name="stroke-width">
					<ogc:Literal>2</ogc:Literal>
				</CssParameter>
			</Stroke>
		</LineSymbolizer>
	</Rule>


</div>


<div class="slides" >

### Attribute Filter with Scale Factor - Scaled NM Roads - US Highways###

	<!-- US Highways -->
	<Rule>
	  <Title>US Highways</Title>
	  <ogc:Filter>
		<ogc:PropertyIsEqualTo>
			<ogc:PropertyName>TYPE</ogc:PropertyName>
			<ogc:Literal>US Highway</ogc:Literal>
		</ogc:PropertyIsEqualTo>
	  </ogc:Filter>
	  <MaxScaleDenominator>5000000</MaxScaleDenominator>
	  <LineSymbolizer>
		<Stroke>
		  <CssParameter name="stroke">
			<ogc:Literal>#ff0000</ogc:Literal>
		  </CssParameter>
		  <CssParameter name="stroke-width">
			<ogc:Literal>3</ogc:Literal>
		  </CssParameter>
		</Stroke>
	  </LineSymbolizer>

</div>

<div class="slides" >

### Attribute Filter with Scale Factor - Scaled NM Roads - US Highways - cont.###

	  <LineSymbolizer>
		<Stroke>
		  <CssParameter name="stroke">
			<ogc:Literal>#CCCCCC</ogc:Literal>
		  </CssParameter>
		  <CssParameter name="stroke-width">
			<ogc:Literal>1</ogc:Literal>
		  </CssParameter>
		</Stroke>
	  </LineSymbolizer>
	</Rule>

</div>



<div class="slides" >

### Attribute Filter with Scale Factor - Scaled NM Roads - Interstates###

This is unchanged from the previous example as the Interstates are visible at all scales. 

	<!-- Interstate Highways -->
	<Rule>
	  <Title>Interstates</Title>
	  <ogc:Filter>
	    <ogc:PropertyIsEqualTo>
	      <ogc:PropertyName>TYPE</ogc:PropertyName>
	      <ogc:Literal>Interstate</ogc:Literal>
	    </ogc:PropertyIsEqualTo>
	  </ogc:Filter>
	  <LineSymbolizer>
	    <Stroke>
	      <CssParameter name="stroke">
	        <ogc:Literal>#fcff00</ogc:Literal>
	      </CssParameter>
	      <CssParameter name="stroke-width">
	        <ogc:Literal>5</ogc:Literal>
	      </CssParameter>
	    </Stroke>
	  </LineSymbolizer>

</div>


<div class="slides" >

### Attribute Filter with Scale Factor - Scaled NM Roads - Interstates - cont.###


	  <LineSymbolizer>
	    <Stroke>
	      <CssParameter name="stroke">
	        <ogc:Literal>#222222</ogc:Literal>
	      </CssParameter>
	      <CssParameter name="stroke-width">
	        <ogc:Literal>3</ogc:Literal>
	      </CssParameter>
	    </Stroke>
	  </LineSymbolizer>
	</Rule>

</div>

<div class="slides" >

## GeoServer Demonstration ##

![GeoServer Home Page][geoServer home screen]

[Class GeoServer Instance][class geoserver instance]

</div>


## Lab Assignment: Styling of Layers in GeoServer [lab12] ##

This week's lab will provide an opportunity to experiment with vector layer styling. Please define two custom styles for each of the four vector datasets that you added to GeoServer during last week's lab assignment. Take a screenshot of the layer preview for each of your styles - including the options tools above the OpenLayers preview displaying the name of the custom style that is being used for the current map display. 

Include in your writeup - again submitted as a web page URL - the layer name, the name of the two custom styles and the associated screenshots for each of the four vector datasets. 

## Homework Assignment: Data Integration and Styling in GeoServer [Homework04] ##

Add each of the five datasets that you acquired for Homework 3 to GeoServer and style at least three of the layers with a custom style designed to best display the data for your envisioned map. Include in your writeup the names of the datasets, associated styles, and screenshots of the layers in the OpenLayers previewer, with the style name displayed in the OpenLayers preview tool set. 

Please submit your writeup as a web page URL. 

<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

#  Module 5.2 - Developing and Hosting OGC Services - OGC Services and Styling in GeoServer#

## Part II ##

</div>



<div class="sidebar" >

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Developing and Hosting OGC Services - OGC Services and Styling in GeoServer - Part II[![][arrow]][lecture13-section]

## This Week's Reading ##

* GeoServer [Online Documentation](http://docs.geoserver.org/stable/en/user/index.html): sections [Working with Data](http://docs.geoserver.org/stable/en/user/data/index.html), [styling](http://docs.geoserver.org/stable/en/user/styling/index.html), [Filtering in GeoServer](http://docs.geoserver.org/stable/en/user/filter/index.html), and [services](http://docs.geoserver.org/stable/en/user/services/index.html)

* next week's reading: none

## Lab Assignment ##

* none

## Homework Assignment ##

* none

</div>

## Background ##

Thus far we have discussed the general workflow for publishing geospatial data using GeoServer, the general concepts relating to styling those data for presentation through the web services published by GeoServer, and specific methods for styling vector data, and applying styles to specific subsets of vector data through the use of filters. This week we conclude our discussion of GeoServer with a demonstration of the methods used in the styling of raster data. Without the application of meaningful styles, raster data can be visually unintelligible. You will learn the tools that you have within the OGC Styled Layer Descriptor standard (as implemented within GeoServer) to define and apply meaningful styles to raster data - ultimately producing more useful visualizations of those data. 

## Expected Outcomes ##

At the end of the class, students will be able to:

* Define ColorMaps for raster data that produce a continuous gradient of colors, a stepped color ramp between defined raster values, and color assignments for specific raster values.
* Map bands from a multi-band raster file to the RGB colors used to generate a color map image or to a single grayscale band for generating a single-band representation.
* Define opacity for an entire raster dataset or on a per-value level within a ColorMap.
* Apply a variety of contrast enhancements to individual color bands to improve/modify the display of the overall map image.  

## Key Concepts ##

At the end of the class, students will unsertand:

* The concepts of continuous color ramps, color intervals, and colors assigned to individual raster values as alternative representation models for raster data
* The concept of a multi-band raster image and the mapping of specific raster bands into the RGB color space for visual representation
* Two methods for defining opacity for a raster dataset as a whole or for individual values
* The options for and potential effects of contrast enhancement on raster map images. 


## Lecture: Developing and Hosting OGC Services - OGC Services and Styling in GeoServer - Part II [lecture13-section] ##

[Presentation Slides][lecture13]

<iframe width="640" height="480" src="http://www.youtube.com/embed/ugf5Fl5srEA?rel=0" frameborder="0" allowfullscreen="TRUE"></iframe>

<div class="slides title" >

#  Module 5.2 - Developing and Hosting OGC Services - OGC Services and Styling in GeoServer#

## Part II ##

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>




<div class="slides" >

## Overview ##

* Review of Raster Styling  in GeoServer

* Raster Styling Demonstration

</div>

<div class="slides" >

### Raster Symbolizer - Review ###

	<Opacity>
	<ColorMap type=ramp|values|intervals extended=true|false>
	  <ColorMapEntry color="" quantity="" label="" opacity=""/>
	<ChannelSelection>
	  <RedChannel> <GreenChannel> <BlueChannel>
	    <SourceChannelName>
	  <GrayChannel>
	    <SourceChannelName>
	<ContrastEnhancement>
	<ShadedRelief> (not implemented in ver 2.0)
	<OverlapBehavior> (not implemented in ver 2.0)
	<ImageOutline> (not implemented in ver 2.0)

</div>

<div class="slides" >

### Sample Raster SLD for Color Map Examples ###

    <NamedLayer>
        <Name>gtopo</Name>
        <UserStyle>
            <Name>dem</Name>
            <Title>Simple DEM style</Title>
            <Abstract>Classic elevation color progression</Abstract>
            <FeatureTypeStyle>
                <Rule>
                    <RasterSymbolizer>
                        <Opacity>1.0</Opacity>
                        <ColorMap>
                            <ColorMapEntry color="#000000" quantity="-500" label="nodata" opacity="0.0" />
                            <ColorMapEntry color="#AAFFAA" quantity="0" label="0" />
                            <ColorMapEntry color="#00FF00" quantity="1000" label="1000"/>
                            <ColorMapEntry color="#FFFF00" quantity="1200" label="1200" />
                            <ColorMapEntry color="#FF7F00" quantity="1400" label="1400" />
                            <ColorMapEntry color="#BF7F3F" quantity="1600" label="1600" />
                            <ColorMapEntry color="#99CC66" quantity="2000" label="2000" />
                            <ColorMapEntry color="#336633" quantity="2500" label="2500" />
                            <ColorMapEntry color="#006600" quantity="3000" label="3000" />
                            <ColorMapEntry color="#FFFFFF" quantity="3500" label="3500" />
                        </ColorMap>
                    </RasterSymbolizer>
                </Rule>
            </FeatureTypeStyle>
        </UserStyle>
	</NamedLayer>

</div>

<div class="slides" >

### Default "Ramp" Raster Color Map ###

	<ColorMap> or <ColorMap type="ramp">

![Sample default 'ramp' color map type][sld raster ramp]

</div>

<div class="slides" >

### "intervals" Raster Color Map ###

	<ColorMap type="intervals">

!['intervals' color map type][sld raster intervals]

</div>

<div class="slides" >

### "values" Raster Color Map ###

	<ColorMap type="values">

!['values' color map type][sld raster values]

</div>

<div class="slides" >

### Legend Graphics for the Three Styes ###

	http://129.24.63.138:8080/geoserver/wms?
		service=WMS&
		version=1.1.0&
		request=GetLegendGraphic&
		layer=Karl:kb_nm_ned09_30m_nw_qtr2&
		style=dem-value&
		format=image/png

![style= or style=dem-ramp][sld raster ramp legend]
![style=dem-interval][sld raster intervals legend]
![style=dem-value][sld raster values legend]

[GeoServer GetLegendGraphic Documentation][geoserver GetLegendGraphic]

</div>

<div class="slides" >

### Extend or Not To Extend? ###

	<ColorMap type="ramp" extended="false">  = 256 colors in ramp 
	<ColorMap type="ramp" extended="true"> = 65536 colors in ramp

![Non-Extended Color Ramp example][sld raster not extended]

</div>

<div class="slides" >

### Opacity ###

Options for defining `opacity` appear in two places in the _raster symbolizer_. 

At the level of the entire raster dataset

	<Opacity>0.5</Opacity>

Within a `ColorMapEntry` for a specific color definition within a `ColorMap`

    <ColorMap>
       <ColorMapEntry color="#000000" quantity="-500" label="nodata" opacity="0.0" />
       <ColorMapEntry color="#AAFFAA" quantity="0" label="0" />
       <ColorMapEntry color="#00FF00" quantity="1000" label="1000"/>
       ...
       <ColorMapEntry color="#FFFFFF" quantity="3500" label="3500" />
    </ColorMap>


</div>

<div class="slides" >

### Channel Selection ###

Many raster datasets contain multiple _bands_ of values which may be viewed individually or assigned to the colors _red_, _green_, and _blue_ to generate a color image representing a combination of band values. GeoServer allows for the specification of a single band for display as a `GrayChannel` or three bands as `RedChannel`, `GreenChannel`, and `BlueChannel`. 

          <RasterSymbolizer>
             <Opacity>1.0</Opacity>
             <ChannelSelection>
              <RedChannel>
                <SourceChannelName>3</SourceChannelName>
              </RedChannel>
              <GreenChannel>
                <SourceChannelName>2</SourceChannelName>
              </GreenChannel>
              <BlueChannel>
                <SourceChannelName>1</SourceChannelName>
              </BlueChannel>
             </ChannelSelection>
          </RasterSymbolizer>

</div>

<div class="slides" >

### Channel Selection - illustration ###

![Standard (default) RGB Assignment][sld raster RGB 123]
![321 RGB Assignment][sld raster RGB 321]

</div>

<div class="slides" >

### Contrast Enhancement ###

Some raster data may need adjustment to increase the contrast (the range between the darkest and lightest values) displayed. GeoServer provides three options for contrast enhancement, each of which have a different effect on the resulting image.

Histogram
: The values are stretched so that an equal number of pixels fall into each color in the range

Normalize
: The minimum and maximum brightness values are mapped to the minimum and maximum raster values

Gamma
: The image is brightened or darkened by a specified factor (negative numbers darken, positive numbers brighten)

</div>


<div class="slides" >

### Sample Contrast Enhancement SLD for Examples ###

    <RasterSymbolizer>
      <Opacity>1.0</Opacity>
      <ChannelSelection>
        <RedChannel>
          <SourceChannelName>1</SourceChannelName>
          <ContrastEnhancement>
            <Histogram/>
          </ContrastEnhancement>
        </RedChannel>
        <GreenChannel>
          <SourceChannelName>2</SourceChannelName>
          <ContrastEnhancement>
            <Histogram/>
          </ContrastEnhancement>
        </GreenChannel>
        <BlueChannel>
          <SourceChannelName>3</SourceChannelName>
          <ContrastEnhancement>
            <Histogram/>
          </ContrastEnhancement>
        </BlueChannel>
       </ChannelSelection>
     </RasterSymbolizer>

</div>

<div class="slides" >

### Default - Normalize ###

	<ContrastEnhancement>
	  <Normalize/>
	</ContrastEnhancement>


![Default][sld raster default]
![Normalized][sld raster normalize]

</div>

<div class="slides" >

### Default - Histogram ###

	<ContrastEnhancement>
	  <Histogram/>
	</ContrastEnhancement>


![Default][sld raster default]
![Normalized][sld raster histogram]

</div>

<div class="slides" >

### Default - Gamma  ###

	<ContrastEnhancement>
	  <GammaValue>.5</GammaValue>
	</ContrastEnhancement>


![Default][sld raster default]
![Normalized][sld raster gamma]

</div>

<div class="slides" >

### GeoServer Demonstration ###


![GeoServer Style Editor Screenshot][geoserver style demo]

</div>





<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Module 6 - Class Review#

</div>



<div class="sidebar">

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* Class Review [![][arrow]][lecture14-section]

## This Week's Reading ##

* none

## Lab Assignment ##

* A Final OpenLayers Mapping Client[![][arrow]][lab13]

## Homework Assignment ##

* none

</div>

## Background ##

We've now reached the end of the course where we have worked extensively within both the data (and data publication), and client tiers of a tiered geospatial services oriented architecture (SOA). In particular we've worked with GeoServer as a visualization and data publication platform and OpenLayers, Quantum GIS, and ArcGIS as consumers (clients) of the OGC services that GeoServer publishes. We've also worked with Google Maps as a proprietary web mapping platform and done hands-on work with the interrogation of the Open Geospatial Services that provide the glue between the SOA tiers. With this experience I hope that you've have gained an understanding of the value of these Internet services for both enhancing your ability to bring data and map images into your applications and share your data with others. 

## Expected Outcomes ##

At the end of the class students will be able to:

* publish geospatial data using GeoServer using the OGC WMS, WFS, and WCS service standards
* style published data using the OGC SLD standard
* configure Quantum GIS and ArcGIS to consume OGC Services (WFS and WMS for Quantum GIS; WFS, WMS and WCS for ArcGIS)
* develop Google Maps-based mapping clients using version 3 of the Google Maps API
* develop OpenLayers-based web mapping clients (supporting WMS, WFS, and KML integration).  

## Key Concepts ##

At the end of the class students will understand:

* the tiers of a geospatial services oriented architecture
* where components like GeoServer, ArcGIS, Quantum GIS, Google Maps, and OpenLayers fit into such an architecture
* the roles of open interoperability standards such as those from the Open Geospatial Consortium (WMS, WFS, WCS, SLD, KML), W3C (HTML, CSS) and EMCA (Javascript) in enabling connectivity between and capabilities within each tier 


## Lecture: Class Review [lecture14-section] ##

[Presentation Slides][lecture14]

<iframe width="640" height="480" src="http://www.youtube.com/embed/Kjp5jPMXSmI?rel=0" frameborder="0" allowfullscreen="TRUE"></iframe>

<div class="slides title" >

# Module 6 - Class Review#

<div class="classid">Geography 485/585L: Internet Mapping</div>

<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></div>
</div>

<div class="slides">

## Overview ##

* Role of Internet Standards and Technologies in Geospatial Applications
* The Geospatial Services Oriented Architecture (SOA)
* Data Management and Publication with GeoServer
* Web-based Data Visualization with Google Maps and OpenLayers
* Desktop-based Data Visualization and Analysis in Quantum GIS and ArcGIS
* Where from Here?

</div>

<div class="slides">

## Key Standards ##

Open Geospatial Consortium
: Web Map Services (WMS), Web Feature Services (WFS), Web Coverage Services (WCS)
: Styled Layer Descriptor (SLD)
: Keyhole Markup Language

World Wide Web Consortium (W3C)
: Hypertext Markup Language (HTML)
: Cascading Style Sheets (CSS)

Ecma (formerly known as the European Computer Manufacturers Association - ECMA)
: JavaScript (AKA ECMAscript)

</div>

<div class="slides">

## Geospatial SOA ##

![Services Oriented Architecture Illustration][SOA Illustration]

</div>

<div class="slides">

## Data Management and Publication ##

![GeoServer Publication Process][GeoServer Process with Logo]

</div>

<div class="slides">

## Data Visualization in Web Clients - Google Maps##

![Google Maps API Sample Client Interface][GoogleMaps API Interface]

</div>



<div class="slides">

## Data Visualization in Web Clients - OpenLayers##

![OpenLayers Javascript Framework Client Interface][OpenLayers API Interface]

</div>

<div class="slides">

## Desktop-based Visualization and Analysis - Quantum GIS (QGIS) ##

![Screenshot of the QGIS interface with demonstration data.][qgisOGCsample]

</div>



<div class="slides">

## Desktop-based Visualization and Analysis - ArcGIS ##

![][ArcGIS_OGC_Screenshot]

</div>

<div class="slides">

## Next Steps - Today##

* Continued development of OpenLayers mapping clients
* Continued development of Google Maps mapping clients
* Publication of data using the KML standard for integration into OpenLayers and Google Maps client
* Develop a static web site for sharing information about yourself or your work on UNM's servers

</div>


<div class="slides">

## Next Steps - Tomorrow ##

Additional Resources/Capabilities Required

* Obtain your own domain name so that you can establish your own "identity" on the internet (e.g. [Hover.com](https://www.hover.com/), [GoDaddy.com](http://www.godaddy.com/), [Yahoo!Domains](http://smallbusiness.yahoo.com/domains/))
* Continue to develop your skills in sharing and using geospatial data using open standards: expand to additional server platforms (e.g. [MapServer][mapserver info], [ArcGIS Server][arcgis server info])
* Establish an instance of GeoServer or other mapping platform that you can use to host your own OGC services
* Set up a co-located or hosted server where you can publish data and a web site that you can maintain after you complete your work at UNM (e.g. [Squarespace.com](http://www.squarespace.com/), [Cari.net](http://cari.net/), [Amazon EC2](http://aws.amazon.com/ec2/), [MapServerPro](http://www.mapserverpro.com/cr-articles/mapserver_hosting.php), [AcuGIS](http://www.acugis.com/about-us.htm), [Geocortex](http://www.geocortex.com/arcgis-server-services/arcgis-server-hosting/))


</div>

<div class="slides">

## Questions/Discussion##

Bring your questions and and discussion to our Tuesday Collaboratory and class discussion board. 

</div>

## Lab Assignment: A Final OpenLayers Mapping Client [lab13] ##

Please create a final OpenLayers mapping client that displays the GerServer-based Styled WMS layers that you created for Homework 3 & 4, focusing on the goals that were laid out in Homework 3. Include in your mapping client a narrative description (a paragraph or two, aimed at a novice user coming to your page for the first time) of the goals and data contained within the client. 

_Peer Review:_ This week's assignment also includes a peer review component. Specifically, 2-points of the 9-points available for this assignment will be based upon _your_ peer-review of _two_ other web pages generated by the students in the class. The required peer-review will consist of two steps:

1. Create a new Discussion Item in WebCT entitled: "Page for Peer-Review &lt;Your Name&gt;" at the same time you submit your homework assignment link for your homework submission. Include in the post the web address of your web page that you created for this assignment. 

2. Provide a _substantive_, _constructive_, and _civil_ comment to _two_ of the posted discussion items posted for peer-review. Complete this peer-review by 5:00 pm on the day following the normal Thursday lab assignment due date. Think about the following ideas for your review: _what did I learn from this page_, _what was done well_, _what could be improved_



<div class="header" >

# Final Examination #

University of New Mexico, Geography Department - Spring 2012

Geography 485/585L: Internat Mapping (Online)

</div>


<div class="sidebar" markdown='1'>

## Contact Info ##

<div class="p-nospace" >

kbene@unm.edu

(505) 277-3622 x234

Office Hours: During Collaboratory (Tues 4-6 pm) and by appt.

</div> 

## Lecture ##

* None

## This Week's Reading ##

* None

## Lab Assignment ##

* None

## Homework Assignment ##

* None

</div>

## Due Wednesday, May 9, 2012 before 5:00 pm ##
_Due to Grade Submission Requirements NO Late Examinations Will be Accepted - 0 pts will be given for submissions after 9:00 am on Thursday May 9. Any late examinations turned in before 9:00 am on 5/9 will be subject to a 22% penalty._

Make sure to _clearly format_ your writeup so that your answer's are understandable.

100 pts

As with your lab and homework assignments - write up your midterm as a web page and submit the URL of your web page as your submission for the Final Exam "assignment".

1. Download the final exam data collection ([here][final exam data])  and place the data in your data directory on the class server. Unzip the archive, _and rename each off the files with a prefix of your initials_. Run ogrinfo or gdalinfo (as appropriate) for each of the datasets you stored on the server. Print out the first 5 lines of the output from gdalinfo or ogrinfo for each of the datasets. 

2. Add each of the layers to GeoServer through the creation of a single (new) “Workspace” for the final exam, a new “store” for each of the datasets, and one new “layer” for each of the stores. Include a screenshot of each of the five new layers from the GeoServer “Layer Preview” tool. 

3. Display any three of the layers in QGIS or ArcGIS (as a WMS layer) and include screenshots of each of the three layers in your writeup. 

4. Create a new OpenLayers web mapping client that includes the 5 WMS services that you created in GeoServer (in 2 above). Include each of the five layers in the layer picker in your mapping client, and embed the client in your final exam web page. 

5. Further customize the mapping client generated for question 4 by changing the default style for two of the layers to styles that you have created. Provide the layer names for your customized layers in your writeup.  

<div class="header" >

<div class="classid">Geography 485/585L: Internet Mapping</div>

# Glossary of Terms #

</div>



### Analysis ###

The development of models (statistical and otherwise) that enable the exploration of geospatial data and testing of hypotheses using those data

### Commercial Off-the-Shelf Software ###

Applications that are “purchased” from vendors, often with license terms that restrict the use the software to the specific platform for which it is licensed. Often comes with implicit or explicit technical support. aka COTS

### COTS ###

See [Commercial Off-the-Shelf Software]

### Data ###

Actual values associated with geographic locations. For example - numeric elevation values associated with locations within a Digital Elevation Model.

### Internet ###

The global computer network of computers that typically connect with each other over TCP/IP 

### Interoperability ###

Ability of systems to share data and information with each other

### Mapping ###

The generation of cartographic products that include map images (pictures of geospatial data) and other elements (e.g. legends, tools, scale information, north-arrow)

### Metadata ###

Data about a particular data product or service. Metadata provide critical documentation that supports the discovery and use of data products and data and mapping services

### Open Source ###

Software licensed under terms that are consistent with the Open Source definition, which includes access to source code, and freedom to modify and redistribute

### Open Standards ###

While the definition varies from one organization to the next, Open Standards are often characterized by the following:

* Developed through a public process by a national or international standards group
* May be implemented royalty-free

### World Wide Web ###

The subset of applications that are run over the Internet, typically using the HTTP protocol in combination with data (HTML, XML, XHTML), presentation (CSS), and behavior (JavaScript) components

<div class="footer" >

<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work by Karl Benedict is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>

</div>

[class geoserver instance]: http://129.24.63.138:8080/geoserver/web "Class GeoServer Instance" 

[ogc]: http://www.opengeospatial.org/ "Open Geospatial Consortium"
[wms]: http://www.opengeospatial.org/standards/wms "OGC Web Map Service"
[wfs]: http://www.opengeospatial.org/standards/wfs "OGC Web Feature Service"
[wcs]: http://www.opengeospatial.org/standards/wcs "OGC Web Coverage Service"
[kml]: http://www.opengeospatial.org/standards/kml "OGC KML (previously Keyhole Markup Language)"
[sld]: http://www.opengeospatial.org/standards/sld "OGC Styled Layer Descriptor Standard"
[wfs 2.0.0 document]: http://portal.opengeospatial.org/files/?artifact_id=39967 "OpenGIS Web Feature Service 2.0 Interface Standard - Panagiotis (Peter) A. Vretanos, editor - 2010-11-02"
[wcs 2.0 document]: http://portal.opengeospatial.org/files/?artifact_id=41437 "_OGC WCS 2.0 Interface Standard - Core_ - Peter Baumann, editor - 2010-10-27"
[wcs 2.0 GET KVP]: http://portal.opengeospatial.org/files/?artifact_id=41439 "_OGC Web Coverage Service 2.0 Interface Standard - KVP Protocol Binding Extension_ - Peter Baumann, editor - 2010-10-27"
[wcs 2.0 SOAP]: http://portal.opengeospatial.org/files/?artifact_id=41441 "_OGC Web Coverage Service 2.0 Interface Standard - XML/SOAP Protocol Binding Extension_ - Peter Baumann, editor - 2010-10-27"
[wcs 2.0 POST]: http://portal.opengeospatial.org/files/?artifact_id=41440 "_OGC Web Coverage Service 2.0 Interface Standard - XML/POST Protocol Binding Extension_ - Peter Baumann, editor - 2010-10-27"
[xml]: http://www.w3.org/XML/ "Extensible Markup Language"
[debian]: http://www.debian.org/ "Debian Linux"
[openSource]: http://www.opensource.org/ "Open Source"
[linuxTutorial]: http://www.fsid.cvut.cz/cz/U201/linux.html "Quick Linux Tutorial"

[W3C-HTMLCSS]: http://www.w3.org/standards/webdesign/htmlcss "W3C HTML/CSS Reference"
[W3C-HTMLCSS-Tutorials]: http://www.w3.org/2002/03/tutorials.html#webdesign_htmlcss "W3C HTML/CSS Tutorial Links"
[W3C-Validator]: http://validator.w3.org/ "W3C Validator"

[w3schools-html]: http://www.w3schools.com/tags/default.asp "W3Schools X/HTML Reference"
[w3schools-css]: http://www.w3schools.com/css/default.asp "W3Schools CSS Reference"
[w3schools-javascript]: http://www.w3schools.com/js/default.asp "W3Schools Javascript Reference"

[webmonkey-justEnoughUNIX]: http://www.webmonkey.com/2010/02/learn_enough_unix_for_your_resume/ "Webmonkey Just Enough UNIX Article"
[webmonkey-HTML]: http://www.webmonkey.com/2010/02/html_cheatsheet/ "Webmonkey HTML Cheat Sheet"
[webmonkey-CSS]: http://www.webmonkey.com/2010/02/css-guide/ "Webmonkey CSS Guide"
[webmonkey-unix]: http://www.webmonkey.com/2010/02/unix-guide/ "Webmonkey UNIX Guide"

[arcgis server info]: http://www.esri.com/software/arcgis/arcgisserver/key-functionality.html "ArcGIS Server Information"
[cubewerx info]: http://www.cubewerx.com/products/cubewerxsuite_4.12 "CubeWerx Suite Information" 
[erdas appollo info]: http://www.erdas.com/products/ERDASAPOLLO/ERDASAPOLLO/Details.aspx "ERDAS Apollo Information"
[mapserver info]: http://mapserver.org/ "MapServer Information"
[geoserver info]: http://geoserver.org/display/GEOS/Welcome "GeoServer Information"
[geoserver documentation]: http://docs.geoserver.org/stable/en/user/index.html "GeoServer HTML Documentation"
[geoserver sld cookbook]: http://docs.geoserver.org/stable/en/user/styling/sld-cookbook/index.html "GeoServer SLD Cookbook"
[geoserver point symbolizer]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/pointsymbolizer.html "GeoServer Point Symbolizer Documentation"
[geoserver line symbolizer]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/linesymbolizer.html "GeoServer Line Symbolizer Documentation"
[geoserver polygon symbolizer]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/polygonsymbolizer.html "GeoServer Polygon Symbolizer Documentation"
[geoserver raster symbolizer]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/rastersymbolizer.html "GeoServer Raster Symbolizer Documentation"
[geoserver text symbolizer]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/textsymbolizer.html "GeoServer Text Symbolizer Documentation"
[geoserver labels]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/labeling.html "GeoServer Label Documentation"
[geoserver filters]: http://docs.geoserver.org/stable/en/user/styling/sld-reference/filters.html "GeoServer Filters Documentation"
[geoserver GetLegendGraphic]: http://docs.geoserver.org/stable/en/user/services/wms/get_legend_graphic/legendgraphic.html?highlight=getlegendgraphic "GeoServer GetLegendGraphic Documentation"

[sld simple point]: ./examples/sld_cookbook/point_simplepoint.sld "Simple Point SLD Example"
[sld simple line]: ./examples/sld_cookbook/line_simpleline.sld "Simple Line SLD Example"
[sld simple polygon]: ./examples/sld_cookbook/polygon_simplepolygon.sld "Simple Polygon SLD Example"
[sld simple raster]: ./examples/sld_cookbook/raster_twocolorgradient.sld "Simple Two-color Gradient Raster SLD Example"
[sld styled roads]: ./examples/SimpleRoads.sld "Simple NM Roads SLD"
[sld styled roads scaled]: ./examples/SimpleRoadsScaled.sld "Scaled NM Roads SLD"

[final exam data]: ./data/clipped.zip "Zip archive containing the data for the final exam"




[assignment template]: http://kkb-classes.s3.amazonaws.com/2012/x85/webContent/examples/assignmentTemplate.html

[OpenLayers.Geometry API Link]: http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Geometry-js.html "Link to the OpenLayers API Reference for the OpenLayers.Geometry Class"
[OpenLayers.Layer.WMS API Link]: http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Layer/WMS-js.html "LInk to the OpenLayers API Reference for the OpenLayers.Layer.WMS Class"
[OpenLayers.Layer API Link]: http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Layer-js.html "Link to the OpenLayers API Reference for the OpenLayers.Layer Class"
[OpenLayers.Map API Link]: http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Map-js.html "Link to the OpenLayers API Reference for the OpenLayers.Map Class"
[OpenLayers.Format API Link]: http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Format-js.html "Link to the OpenLayers API Reference for the OpenLayers.Format Class"
[OpenLayers.Feature.Vector.style API Link]: http://dev.openlayers.org/releases/OpenLayers-2.11/doc/apidocs/files/OpenLayers/Feature/Vector-js.html#OpenLayers.Feature.Vector.OpenLayers.Feature.Vector.style "Link to the OpenLayers API Reference for the OpenLayers.Feature.Vector.style attribute"


[lecture01]: ./2012-Spring-InternetMapping-001_slides.html "Lecture 1"
[lecture02]: ./2012-Spring-InternetMapping-002_slides.html "Lecture 2"
[lecture03]: ./2012-Spring-InternetMapping-003_slides.html "Lecture 3"
[lecture04]: ./2012-Spring-InternetMapping-004_slides.html "Lecture 4"
[lecture05]: ./2012-Spring-InternetMapping-005_slides.html "Lecture 5"
[lecture06]: ./2012-Spring-InternetMapping-006_slides.html "Lecture 6"
[lecture07]: ./2012-Spring-InternetMapping-007_slides.html "Lecture 7"
[lecture08]: ./2012-Spring-InternetMapping-008_slides.html "Lecture 8"
[lecture09]: ./2012-Spring-InternetMapping-009_slides.html "Lecture 9"
[lecture10]: ./2012-Spring-InternetMapping-010_slides.html "Lecture 10"
[lecture11]: ./2012-Spring-InternetMapping-011_slides.html "Lecture 11"
[lecture12]: ./2012-Spring-InternetMapping-012_slides.html "Lecture 12"
[lecture13]: ./2012-Spring-InternetMapping-013_slides.html "Lecture 13"
[lecture14]: ./2012-Spring-InternetMapping-014_slides.html "Lecture 14"
[lecture15]: ./2012-Spring-InternetMapping-015_slides.html "Lecture 15"

[lecture01 video]: http://www.youtube.com/embed/7lMjlOHRNVA?rel= "Lecture 1 video"
[lecture02 video]: http://youtu.be/zhITBhtMwkA "Lecture 2 video"

[weekly timeline]: ./images/weeklyTimeline.png "Weekly Timeline" width=800px
[course timeline]: ./images/classTimeline.png "Course Timeline" height=300px

[arrow]: ./images/arrow.png "link arrow" style="vertical-align:top; height: 18px "
[check-gray]: ./images/check_gray.png "check mark"  style="vertical-align:top; height:18px"
[geoserverFormats]: ./images/GeoServer_Formats.jpg "Screenshot of GeoServer 2.02 Supported Formats" style="width:500px"
[qgisOGCsample]: ./images/qgisOGCsample.jpg "QGIS Screenshot" class="fit-width"
[ArcGIS_OGC_01]: ./images/ArcGIS_OGC_01.jpg "ArcGIS Screenshot 1" class="float-right"
[ArcGIS_OGC_02]: ./images/ArcGIS_OGC_02.jpg "ArcGIS Screenshot 2" class="float-right"
[ArcGIS_OGC_03]: ./images/ArcGIS_OGC_03.jpg "ArcGIS Screenshot 3" class="float-right"
[ArcGIS_OGC_04]: ./images/ArcGIS_OGC_04.jpg "ArcGIS Screenshot 4" class="float-right"
[ArcGIS_OGC_WFS_01]: ./images/ArcGIS_OGC_WFS_01.jpg "ArcGIS WFS Screenshot 1" class="float-right"
[ArcGIS_OGC_WFS_02]: ./images/ArcGIS_OGC_WFS_02.jpg "ArcGIS WFS Screenshot 2" class="float-right"
[ArcGIS_OGC_WFS_03]: ./images/ArcGIS_OGC_WFS_03.jpg "ArcGIS WFS Screenshot 3" class="float-right"
[ArcGIS_OGC_WFS_04]: ./images/ArcGIS_OGC_WFS_04.jpg "ArcGIS WFS Screenshot 4" class="float-right"
[ArcGIS_OGC_WFS_05]: ./images/ArcGIS_OGC_WFS_05.jpg "ArcGIS WFS Screenshot 5" class="float-right"
[ArcGIS_OGC_WFS_06]: ./images/ArcGIS_OGC_WFS_06.jpg "ArcGIS WFS Screenshot 6" class="float-right"
[ArcGIS_OGC_WFS_07]: ./images/ArcGIS_OGC_WFS_07.jpg "ArcGIS WFS Screenshot 7" class="float-right"
[ArcGIS_OGC_WFS_08]: ./images/ArcGIS_OGC_WFS_08.jpg "ArcGIS WFS Screenshot 8" class="float-right"
[ArcGIS_OGC_WFS_09]: ./images/ArcGIS_OGC_WFS_09.jpg "ArcGIS WFS Screenshot 9" class="float-right"
[ArcGIS_OGC_WFS_10]: ./images/ArcGIS_OGC_WFS_10.jpg "ArcGIS WFS Screenshot 10" class="float-right"
[ArcGIS_OGC_WFS_11]: ./images/ArcGIS_OGC_WFS_11.jpg "ArcGIS WFS Screenshot 11" class="float-right"
[ArcGIS_OGC_WCS_01]: ./images/ArcGIS_OGC_WCS_01.jpg "ArcGIS WCS Screenshot 1" class="float-right"
[ArcGIS_OGC_WCS_02]: ./images/ArcGIS_OGC_WCS_02.jpg "ArcGIS WCS Screenshot 2" class="float-right"
[ArcGIS_OGC_WCS_03]: ./images/ArcGIS_OGC_WCS_03.jpg "ArcGIS WCS Screenshot 3" class="float-right"
[ArcGIS_OGC_WCS_04]: ./images/ArcGIS_OGC_WCS_04.jpg "ArcGIS WCS Screenshot 4" class="float-right"
[ArcGIS_OGC_WCS_05]: ./images/ArcGIS_OGC_WCS_05.jpg "ArcGIS WCS Screenshot 5" class="float-right"
[ArcGIS_OGC_Screenshot]: ./images/ArcGIS_OGC_Screenshot.jpg "ArcGIS OGC Demonstration Screenshot" class="fit-width"
[RGIS_OGCScreenshot]: ./images/RGIS_OGCLinkScreenshot.jpg "RGIS OGC links Screenshot" class="fit-width"

[WFS 2.0.0 Base KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table04.jpg "WFS 2.0.0 Base KVP Table" class="fit-width"
[WFS 2.0.0 DescribFeatureType KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table15.jpg "WFS 2.0.0 `DescribeFeatureType` KVP Table" class="fit-width"
[WFS 2.0.0 GetFeature KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table17.jpg "WFS 2.0.0 `GetFeature` KVP Table" class="fit-width"
[WFS 2.0.0 GetFeature Presentation KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table05.jpg "WFS 2.0.0 `GetFeature` Presentation KVP Table" class="fit-width"
[WFS 2.0.0 GetFeature Resolve KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table06.jpg "WFS 2.0.0 `GetFeature` Resolve KVP Table" class="fit-width"
[WFS 2.0.0 GetFeature Adhoc Query KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table08.jpg "WFS 2.0.0 `GetFeature` Adhoc Query KVP Table" class="fit-width"
[WFS 2.0.0 GetFeature Stored Query KVP]: images/09-025r1_OGC_Web_Feature_Service_WFS_2-table10.jpg "WFS 2.0.0 `GetFeature` Stored Query KVP Table" class="fit-width"
[WCS 2.0 DescribeCoverage KVP]: images/09-147r1_OGC_Web_Coverage_Service_2-table01.jpg "WCS 2.0 `DescribeCoverage` KVP Table" class="fit-width"
[WCS 2.0 GetCoverage KVP]: images/09-147r1_OGC_Web_Coverage_Service_2-table02.jpg "WCS 2.0 `GetCoverage` KVP Table" class="fit-width"
[WCS 2.0 Requirement 7]: images/09-147r1_OGC_Web_Coverage_Service_2-requirement07.jpg "WCS 2.0 `GetCoverage` Requirement 7 Definition" class="fit-width"

[google map - bernalillo county]: images/bernalilloCountyGoogleMaps.png "Google Maps representation of Bernalillo County" class="fit-width"

[geoServer interaction diagram]: images/GeoServerInteraction.png "GeoServer Interaction Diagram" class="fit-width"
[geoServer main menu]: images/GeoServer_Welcome.jpg "GeoServer configuration menu" class="fit-width"
[geoServer server config menu]: images/GeoServer_ServerConfig.jpg "GeoServer server configuration menu" class="fit-width"
[geoServer service config menu]: images/GeoServer_ServiceConfig.jpg "GeoServer WxS configuration menu" class="fit-width"
[geoServer data config menu]: images/GeoServer_DataConfig.jpg "GeoServer Data configuration menu" class="fit-width"
[geoServer data workflow]: images/GeoServer_DataWorkflow.png "GeoServer Data workflow" class="fit-width" style="background-color:gray"
[geoServer security config menu]: images/GeoServer_SecurityConfig.jpg "GeoServer Data workflow" class="fit-width"
[geoServer home screen]: images/GeoServer_Home.jpg "GeoServer home screen" class="fit-width"

[sld simple point image]: images/point_simplepoint.png "Sample styled point coverage" class="fit-width"
[sld simple line image]: images/line_simpleline.png "Sample styled line coverage" class="fit-width"
[sld simple polygon image]: images/polygon_simplepolygon.png "Sample styled polygon coverage" class="fit-width"
[sld simple raster image]: images/raster_twocolorgradient.png "Sample styled point coverage" class="fit-width"
[sld styled roads image]: images/styledRoads.jpg "Simple styled NM Roads" class="fit-width"
[sld styled roads 586k image]: images/styledRoads_586k.jpg "Scaled styled NM Roads - 586k" class="fit-width"
[sld styled roads 2M image]: images/styledRoads_2M.jpg "Scaled styled NM Roads - 2M" class="fit-width"
[sld styled roads 9M image]: images/styledRoads_9M.jpg "Scaled styled NM Roads - 9M" class="fit-width"
[sld raster ramp]: images/rasterSLD_01.jpg "Styled Raster using the default 'ramp' type" class="fit-width"
[sld raster intervals]: images/rasterSLD_intervals.jpg "Styled Raster using the 'intervals' type" class="fit-width"
[sld raster values]: images/rasterSLD_values.jpg "Styled Raster using the 'values' type" class="fit-width"
[sld raster ramp legend]: images/rasterSLD_ramp_legend.png "Styled Raster legend using the default 'ramp' type" class="aligned"
[sld raster intervals legend]: images/rasterSLD_intervals_legend.png "Styled Raster legend using the 'intervals' type" class="aligned"
[sld raster values legend]: images/rasterSLD_values_legend.png "Styled Raster legend using the 'values' type" class="aligned"
[sld raster not extended]: images/rasterSLD_notExtended.jpg "Styled Raster with a non-extended color ramp" class="fit-width"
[sld raster RGB 123]: images/rasterSLD_channel123.jpg "Standard RBG Channel Assignments from an image" class="aligned"
[sld raster RGB 321]: images/rasterSLD_channel321.jpg "Standard RBG Channel Assignments from an image" class="aligned"
[sld raster default]: images/rasterSLD_default.jpg "Default display of an image" class="aligned"
[sld raster normalize]: images/rasterSLD_normalize.jpg "Normalized display of an image" class="aligned"
[sld raster histogram]: images/rasterSLD_histogram.jpg "Histogram display of an image" class="aligned"
[sld raster gamma]: images/rasterSLD_gamma.jpg "Gamma adjusted (+.5) display of an image" class="aligned"
[geoserver style demo]: images/GeoServer_styleDemo.jpg "Screenshot of the GeoServer style editor" class="fit-width"

[SOA Illustration]: images/SOAillustration.png "SOA Illustration" class="fit-width"
[GeoServer Process with Logo]: images/GeoServerProcessWLogo.png "GeoServer Process Illustration with GeoServer Logo"

[GoogleMaps API Interface]: images/GoogleMapsInterface.jpg "Screenshot of a sample Google Maps API Client" class="fit-width"
[OpenLayers API Interface]: images/OpenLayersInterface.jpg "Screenshot of a sample OpenLayers Javascript Framework Client" class="fit-width"


